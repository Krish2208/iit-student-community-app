var nA=Object.defineProperty;var iA=(r,e,n)=>e in r?nA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n;var xv=(r,e,n)=>iA(r,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function i0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wd={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function rA(){if(Nv)return cl;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return cl.Fragment=e,cl.jsx=n,cl.jsxs=n,cl}var Dv;function sA(){return Dv||(Dv=1,wd.exports=rA()),wd.exports}var w=sA(),Rd={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ov;function aA(){if(Ov)return Re;Ov=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),R=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=R&&O[R]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,Y={};function B(O,J,oe){this.props=O,this.context=J,this.refs=Y,this.updater=oe||b}B.prototype.isReactComponent={},B.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},B.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function se(O,J,oe){this.props=O,this.context=J,this.refs=Y,this.updater=oe||b}var te=se.prototype=new Q;te.constructor=se,N(te,B.prototype),te.isPureReactComponent=!0;var fe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function k(O,J,oe,ie,pe,Ce){return oe=Ce.ref,{$$typeof:r,type:O,key:J,ref:oe!==void 0?oe:null,props:Ce}}function I(O,J){return k(O.type,J,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function M(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(oe){return J[oe]})}var P=/\/+/g;function L(O,J){return typeof O=="object"&&O!==null&&O.key!=null?M(""+O.key):J.toString(36)}function D(){}function Vt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function at(O,J,oe,ie,pe){var Ce=typeof O;(Ce==="undefined"||Ce==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(Ce){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=O._init,at(Ee(O._payload),J,oe,ie,pe)}}if(Ee)return pe=pe(O),Ee=ie===""?"."+L(O,0):ie,fe(pe)?(oe="",Ee!=null&&(oe=Ee.replace(P,"$&/")+"/"),at(pe,J,oe,"",function(Bn){return Bn})):pe!=null&&(C(pe)&&(pe=I(pe,oe+(pe.key==null||O&&O.key===pe.key?"":(""+pe.key).replace(P,"$&/")+"/")+Ee)),J.push(pe)),1;Ee=0;var It=ie===""?".":ie+":";if(fe(O))for(var We=0;We<O.length;We++)ie=O[We],Ce=It+L(ie,We),Ee+=at(ie,J,oe,Ce,pe);else if(We=S(O),typeof We=="function")for(O=We.call(O),We=0;!(ie=O.next()).done;)ie=ie.value,Ce=It+L(ie,We++),Ee+=at(ie,J,oe,Ce,pe);else if(Ce==="object"){if(typeof O.then=="function")return at(Vt(O),J,oe,ie,pe);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function X(O,J,oe){if(O==null)return O;var ie=[],pe=0;return at(O,ie,"","",function(Ce){return J.call(oe,Ce,pe++)}),ie}function ae(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(oe){(O._status===0||O._status===-1)&&(O._status=1,O._result=oe)},function(oe){(O._status===0||O._status===-1)&&(O._status=2,O._result=oe)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function ze(){}return Re.Children={map:X,forEach:function(O,J,oe){X(O,function(){J.apply(this,arguments)},oe)},count:function(O){var J=0;return X(O,function(){J++}),J},toArray:function(O){return X(O,function(J){return J})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Re.Component=B,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=se,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ce.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cloneElement=function(O,J,oe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ie=N({},O.props),pe=O.key,Ce=void 0;if(J!=null)for(Ee in J.ref!==void 0&&(Ce=void 0),J.key!==void 0&&(pe=""+J.key),J)!we.call(J,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&J.ref===void 0||(ie[Ee]=J[Ee]);var Ee=arguments.length-2;if(Ee===1)ie.children=oe;else if(1<Ee){for(var It=Array(Ee),We=0;We<Ee;We++)It[We]=arguments[We+2];ie.children=It}return k(O.type,pe,void 0,void 0,Ce,ie)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Re.createElement=function(O,J,oe){var ie,pe={},Ce=null;if(J!=null)for(ie in J.key!==void 0&&(Ce=""+J.key),J)we.call(J,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=J[ie]);var Ee=arguments.length-2;if(Ee===1)pe.children=oe;else if(1<Ee){for(var It=Array(Ee),We=0;We<Ee;We++)It[We]=arguments[We+2];pe.children=It}if(O&&O.defaultProps)for(ie in Ee=O.defaultProps,Ee)pe[ie]===void 0&&(pe[ie]=Ee[ie]);return k(O,Ce,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=C,Re.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:ae}},Re.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Re.startTransition=function(O){var J=ce.T,oe={};ce.T=oe;try{var ie=O(),pe=ce.S;pe!==null&&pe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(ze,de)}catch(Ce){de(Ce)}finally{ce.T=J}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(O){return ce.H.use(O)},Re.useActionState=function(O,J,oe){return ce.H.useActionState(O,J,oe)},Re.useCallback=function(O,J){return ce.H.useCallback(O,J)},Re.useContext=function(O){return ce.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,J){return ce.H.useDeferredValue(O,J)},Re.useEffect=function(O,J,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(O,J)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(O,J,oe){return ce.H.useImperativeHandle(O,J,oe)},Re.useInsertionEffect=function(O,J){return ce.H.useInsertionEffect(O,J)},Re.useLayoutEffect=function(O,J){return ce.H.useLayoutEffect(O,J)},Re.useMemo=function(O,J){return ce.H.useMemo(O,J)},Re.useOptimistic=function(O,J){return ce.H.useOptimistic(O,J)},Re.useReducer=function(O,J,oe){return ce.H.useReducer(O,J,oe)},Re.useRef=function(O){return ce.H.useRef(O)},Re.useState=function(O){return ce.H.useState(O)},Re.useSyncExternalStore=function(O,J,oe){return ce.H.useSyncExternalStore(O,J,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var Mv;function ym(){return Mv||(Mv=1,Rd.exports=aA()),Rd.exports}var G=ym();const r0=i0(G);var Id={exports:{}},hl={},Cd={exports:{}},xd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function oA(){return Vv||(Vv=1,function(r){function e(X,ae){var de=X.length;X.push(ae);e:for(;0<de;){var ze=de-1>>>1,O=X[ze];if(0<o(O,ae))X[ze]=ae,X[de]=O,de=ze;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ae=X[0],de=X.pop();if(de!==ae){X[0]=de;e:for(var ze=0,O=X.length,J=O>>>1;ze<J;){var oe=2*(ze+1)-1,ie=X[oe],pe=oe+1,Ce=X[pe];if(0>o(ie,de))pe<O&&0>o(Ce,ie)?(X[ze]=Ce,X[pe]=de,ze=pe):(X[ze]=ie,X[oe]=de,ze=oe);else if(pe<O&&0>o(Ce,de))X[ze]=Ce,X[pe]=de,ze=pe;else break e}}return ae}function o(X,ae){var de=X.sortIndex-ae.sortIndex;return de!==0?de:X.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,R=null,S=3,b=!1,N=!1,Y=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=X)s(y),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(y)}}function ce(X){if(Y=!1,fe(X),!N)if(n(p)!==null)N=!0,we||(we=!0,L());else{var ae=n(y);ae!==null&&at(ce,ae.startTime-X)}}var we=!1,k=-1,I=5,C=-1;function M(){return B?!0:!(r.unstable_now()-C<I)}function P(){if(B=!1,we){var X=r.unstable_now();C=X;var ae=!0;try{e:{N=!1,Y&&(Y=!1,se(k),k=-1),b=!0;var de=S;try{t:{for(fe(X),R=n(p);R!==null&&!(R.expirationTime>X&&M());){var ze=R.callback;if(typeof ze=="function"){R.callback=null,S=R.priorityLevel;var O=ze(R.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){R.callback=O,fe(X),ae=!0;break t}R===n(p)&&s(p),fe(X)}else s(p);R=n(p)}if(R!==null)ae=!0;else{var J=n(y);J!==null&&at(ce,J.startTime-X),ae=!1}}break e}finally{R=null,S=de,b=!1}ae=void 0}}finally{ae?L():we=!1}}}var L;if(typeof te=="function")L=function(){te(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Vt=D.port2;D.port1.onmessage=P,L=function(){Vt.postMessage(null)}}else L=function(){Q(P,0)};function at(X,ae){k=Q(function(){X(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var de=S;S=ae;try{return X()}finally{S=de}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var de=S;S=X;try{return ae()}finally{S=de}},r.unstable_scheduleCallback=function(X,ae,de){var ze=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ze+de:ze):de=ze,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,X={id:E++,callback:ae,priorityLevel:X,startTime:de,expirationTime:O,sortIndex:-1},de>ze?(X.sortIndex=de,e(y,X),n(p)===null&&X===n(y)&&(Y?(se(k),k=-1):Y=!0,at(ce,de-ze))):(X.sortIndex=O,e(p,X),N||b||(N=!0,we||(we=!0,L()))),X},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(X){var ae=S;return function(){var de=S;S=ae;try{return X.apply(this,arguments)}finally{S=de}}}}(xd)),xd}var kv;function lA(){return kv||(kv=1,Cd.exports=oA()),Cd.exports}var Nd={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function uA(){if(Pv)return Qt;Pv=1;var r=ym();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},Qt.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Qt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,b=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:R,integrity:S,fetchPriority:b}):E==="script"&&s.d.X(p,{crossOrigin:R,integrity:S,fetchPriority:b,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Qt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,R=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:R,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,y){return p(y)},Qt.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var Uv;function cA(){if(Uv)return Nd.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nd.exports=uA(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function hA(){if(Lv)return hl;Lv=1;var r=lA(),e=ym(),n=cA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,R=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case N:return"Fragment";case B:return"Profiler";case Y:return"StrictMode";case ce:return"Suspense";case we:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case te:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case I:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var at=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ze=[],O=-1;function J(t){return{current:t}}function oe(t){0>O||(t.current=ze[O],ze[O]=null,O--)}function ie(t,i){O++,ze[O]=t.current,t.current=i}var pe=J(null),Ce=J(null),Ee=J(null),It=J(null);function We(t,i){switch(ie(Ee,i),ie(Ce,t),ie(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),ie(pe,t)}function Bn(){oe(pe),oe(Ce),oe(Ee)}function Wi(t){t.memoizedState!==null&&ie(It,t);var i=pe.current,a=rv(i,t.type);i!==a&&(ie(Ce,t),ie(pe,a))}function di(t){Ce.current===t&&(oe(pe),oe(Ce)),It.current===t&&(oe(It),sl._currentValue=de)}var Br=Object.prototype.hasOwnProperty,qr=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,to=r.unstable_shouldYield,Xl=r.unstable_requestPaint,vn=r.unstable_now,Sh=r.unstable_getCurrentPriorityLevel,no=r.unstable_ImmediatePriority,js=r.unstable_UserBlockingPriority,Fr=r.unstable_NormalPriority,wh=r.unstable_LowPriority,zs=r.unstable_IdlePriority,io=r.log,$l=r.unstable_setDisableYieldValue,ot=null,He=null;function on(t){if(typeof io=="function"&&$l(t),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:Gr,Zl=Math.log,Rh=Math.LN2;function Gr(t){return t>>>=0,t===0?32:31-(Zl(t)/Rh|0)|0}var Kr=256,Qr=4194304;function On(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Bs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=On(l):(_&=T,_!==0?h=On(_):a||(a=T&~t,a!==0&&(h=On(a))))):(T=l&~d,T!==0?h=On(T):_!==0?h=On(_):a||(a=l&~t,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ro(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var t=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),t}function ao(){var t=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function pi(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oo(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,x=t.expirationTimes,q=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-Gt(a),W=1<<$;T[$]=0,x[$]=-1;var H=q[$];if(H!==null)for(q[$]=null,$=0;$<H.length;$++){var F=H[$];F!==null&&(F.lane&=-536870913)}a&=~W}l!==0&&qn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function qn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ji(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function er(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Wl(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),Et="__reactFiber$"+et,mt="__reactProps$"+et,_n="__reactContainer$"+et,uo="__reactEvents$"+et,Ih="__reactListeners$"+et,tr="__reactHandles$"+et,Jl="__reactResources$"+et,Xr="__reactMarker$"+et;function nr(t){delete t[Et],delete t[mt],delete t[uo],delete t[Ih],delete t[tr]}function gi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[_n]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=lv(t);t!==null;){if(a=t[Et])return a;t=lv(t)}return i}t=a,a=t.parentNode}return null}function Hn(t){if(t=t[Et]||t[_n]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Fn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Wt(t){var i=t[Jl];return i||(i=t[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Xr]=!0}var co=new Set,Hs={};function Mn(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Hs[t]=i,t=0;t<i.length;t++)co.add(i[t])}var eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},$r={};function nu(t){return Br.call($r,t)?!0:Br.call(tu,t)?!1:eu.test(t)?$r[t]=!0:(tu[t]=!0,!1)}function ir(t,i,a){if(nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Gn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Zr,iu;function vi(t){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",iu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+t+iu}var Fs=!1;function Gs(t,i){if(!t||Fs)return"";Fs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(F){var H=F}Reflect.construct(t,[],W)}else{try{W.call()}catch(F){H=F}t.call(W.prototype)}}else{try{throw Error()}catch(F){H=F}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var x=_.split(`
`),q=T.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===q.length)for(l=x.length-1,h=q.length-1;1<=l&&0<=h&&x[l]!==q[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==q[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==q[h]){var $=`
`+x[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Fs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function ho(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Gs(t.type,!1);case 11:return Gs(t.type.render,!1);case 1:return Gs(t.type,!0);case 31:return vi("Activity");default:return""}}function Ks(t){try{var i="";do i+=ho(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ch(t){var i=fo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qs(t){t._valueTracker||(t._valueTracker=Ch(t))}function mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=fo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Wr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xh=/[\n"\\]/g;function pt(t){return t.replace(xh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ln(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?rr(t,_,Jt(i)):a!=null?rr(t,_,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function Jr(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function rr(t,i,a){i==="number"&&Wr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function _i(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function En(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ru(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ts.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function po(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ru(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ru(t,d,i[d])}function go(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(t){return Dh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ei=null;function Tn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,bi=null;function yo(t){var i=Hn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));ln(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&mo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&_i(t,!!a.multiple,i,!1)}}}var Kn=!1;function su(t,i,a){if(Kn)return t(i,a);Kn=!0;try{var l=t(i);return l}finally{if(Kn=!1,(Ti!==null||bi!==null)&&(Wu(),Ti&&(i=Ti,t=bi,bi=Ti=null,yo(i),t)))for(i=0;i<t.length;i++)yo(t[i])}}function ns(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bn=!1;if(Vn)try{var is={};Object.defineProperty(is,"passive",{get:function(){bn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{bn=!1}var Qn=null,sr=null,Ai=null;function vo(){if(Ai)return Ai;var t,i=sr,a=i.length,l,h="value"in Qn?Qn.value:Qn.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ai=h.slice(t,1<l?1-l:void 0)}function Yn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function _o(){return!1}function Ct(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:_o,this.isPropagationStopped=_o,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),i}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ct(qe),rs=E({},qe,{view:0,detail:0}),au=Ct(rs),$s,Zs,$n,ss=E({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$n&&($n&&t.type==="mousemove"?($s=t.screenX-$n.screenX,Zs=t.screenY-$n.screenY):Zs=$s=0,$n=t),$s)},movementY:function(t){return"movementY"in t?t.movementY:Zs}}),An=Ct(ss),ou=E({},ss,{dataTransfer:0}),Oh=Ct(ou),as=E({},rs,{relatedTarget:0}),Ws=Ct(as),Eo=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Ct(Eo),lu=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ea=Ct(lu),Mh=E({},qe,{data:0}),To=Ct(Mh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=cu[t])?!!i[t]:!1}function ls(){return bo}var hu=E({},rs,{key:function(t){if(t.key){var i=os[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ta=Ct(hu),fu=E({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Ct(fu),Si=E({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),du=Ct(Si),mu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),pu=Ct(mu),gu=E({},ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),na=Ct(gu),en=E({},qe,{newState:0,oldState:0}),yu=Ct(en),vu=[9,13,27,32],Zn=Vn&&"CompositionEvent"in window,c=null;Vn&&"documentMode"in document&&(c=document.documentMode);var g=Vn&&"TextEvent"in window&&!c,v=Vn&&(!Zn||c&&8<c&&11>=c),A=" ",j=!1;function K(t,i){switch(t){case"keyup":return vu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Tt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function ke(t,i){if(Ve)return t==="compositionend"||!Zn&&K(t,i)?(t=vo(),Ai=sr=Qn=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var xt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!xt[t.type]:i==="textarea"}function wi(t,i,a,l){Ti?bi?bi.push(l):bi=[l]:Ti=l,i=rc(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Pt=null,Wn=null;function So(t){Wy(t,0)}function _u(t){var i=Fn(t);if(mo(i))return t}function _p(t,i){if(t==="change")return i}var Ep=!1;if(Vn){var Vh;if(Vn){var kh="oninput"in document;if(!kh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),kh=typeof Tp.oninput=="function"}Vh=kh}else Vh=!1;Ep=Vh&&(!document.documentMode||9<document.documentMode)}function bp(){Pt&&(Pt.detachEvent("onpropertychange",Ap),Wn=Pt=null)}function Ap(t){if(t.propertyName==="value"&&_u(Wn)){var i=[];wi(i,Wn,t,Tn(t)),su(So,i)}}function OT(t,i,a){t==="focusin"?(bp(),Pt=i,Wn=a,Pt.attachEvent("onpropertychange",Ap)):t==="focusout"&&bp()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _u(Wn)}function VT(t,i){if(t==="click")return _u(i)}function kT(t,i){if(t==="input"||t==="change")return _u(i)}function PT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var un=typeof Object.is=="function"?Object.is:PT;function wo(t,i){if(un(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Br.call(i,h)||!un(t[h],i[h]))return!1}return!0}function Sp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function wp(t,i){var a=Sp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Sp(a)}}function Rp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Rp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Wr(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Wr(t.document)}return i}function Ph(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var UT=Vn&&"documentMode"in document&&11>=document.documentMode,ia=null,Uh=null,Ro=null,Lh=!1;function Cp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lh||ia==null||ia!==Wr(l)||(l=ia,"selectionStart"in l&&Ph(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ro&&wo(Ro,l)||(Ro=l,l=rc(Uh,"onSelect"),0<l.length&&(i=new Xs("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ia)))}function us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ra={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},jh={},xp={};Vn&&(xp=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function cs(t){if(jh[t])return jh[t];if(!ra[t])return t;var i=ra[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xp)return jh[t]=i[a];return t}var Np=cs("animationend"),Dp=cs("animationiteration"),Op=cs("animationstart"),LT=cs("transitionrun"),jT=cs("transitionstart"),zT=cs("transitioncancel"),Mp=cs("transitionend"),Vp=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function kn(t,i){Vp.set(t,i),Mn(i,[t])}var kp=new WeakMap;function Sn(t,i){if(typeof t=="object"&&t!==null){var a=kp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ks(i)},kp.set(t,i),i)}return{value:t,source:i,stack:Ks(i)}}var wn=[],sa=0,Bh=0;function Eu(){for(var t=sa,i=Bh=sa=0;i<t;){var a=wn[i];wn[i++]=null;var l=wn[i];wn[i++]=null;var h=wn[i];wn[i++]=null;var d=wn[i];if(wn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Pp(a,h,d)}}function Tu(t,i,a,l){wn[sa++]=t,wn[sa++]=i,wn[sa++]=a,wn[sa++]=l,Bh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qh(t,i,a,l){return Tu(t,i,a,l),bu(t)}function aa(t,i){return Tu(t,null,null,i),bu(t)}function Pp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function bu(t){if(50<Zo)throw Zo=0,Xf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var oa={};function BT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,i,a,l){return new BT(t,i,a,l)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ri(t,i){var a=t.alternate;return a===null?(a=cn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Up(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Au(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Hh(t)&&(_=1);else if(typeof t=="string")_=Hb(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=cn(31,a,i,h),t.elementType=C,t.lanes=d,t;case N:return hs(a.children,h,d,i);case Y:_=8,h|=24;break;case B:return t=cn(12,a,i,h|2),t.elementType=B,t.lanes=d,t;case ce:return t=cn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case we:return t=cn(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case te:_=10;break e;case se:_=9;break e;case fe:_=11;break e;case k:_=14;break e;case I:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=cn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function hs(t,i,a,l){return t=cn(7,t,l,i),t.lanes=a,t}function Fh(t,i,a){return t=cn(6,t,null,i),t.lanes=a,t}function Gh(t,i,a){return i=cn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var la=[],ua=0,Su=null,wu=0,Rn=[],In=0,fs=null,Ii=1,Ci="";function ds(t,i){la[ua++]=wu,la[ua++]=Su,Su=t,wu=i}function Lp(t,i,a){Rn[In++]=Ii,Rn[In++]=Ci,Rn[In++]=fs,fs=t;var l=Ii;t=Ci;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ii=1<<32-Gt(i)+h|a<<h|l,Ci=d+t}else Ii=1<<d|a<<h|l,Ci=t}function Kh(t){t.return!==null&&(ds(t,1),Lp(t,1,0))}function Qh(t){for(;t===Su;)Su=la[--ua],la[ua]=null,wu=la[--ua],la[ua]=null;for(;t===fs;)fs=Rn[--In],Rn[In]=null,Ci=Rn[--In],Rn[In]=null,Ii=Rn[--In],Rn[In]=null}var tn=null,lt=null,Be=!1,ms=null,Jn=!1,Yh=Error(s(519));function ps(t){var i=Error(s(418,""));throw xo(Sn(i,t)),Yh}function jp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Et]=t,i[mt]=l,a){case"dialog":De("cancel",i),De("close",i);break;case"iframe":case"object":case"embed":De("load",i);break;case"video":case"audio":for(a=0;a<Jo.length;a++)De(Jo[a],i);break;case"source":De("error",i);break;case"img":case"image":case"link":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"input":De("invalid",i),Jr(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Qs(i);break;case"select":De("invalid",i);break;case"textarea":De("invalid",i),es(i,l.value,l.defaultValue,l.children),Qs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||nv(i.textContent,a)?(l.popover!=null&&(De("beforetoggle",i),De("toggle",i)),l.onScroll!=null&&De("scroll",i),l.onScrollEnd!=null&&De("scrollend",i),l.onClick!=null&&(i.onclick=sc),i=!0):i=!1,i||ps(t)}function zp(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:tn=tn.return}}function Io(t){if(t!==tn)return!1;if(!Be)return zp(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||hd(t.type,t.memoizedProps)),a=!a),a&&lt&&ps(t),zp(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=Un(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Tr(t.type)?(t=pd,pd=null,lt=t):lt=i):lt=tn?Un(t.stateNode.nextSibling):null;return!0}function Co(){lt=tn=null,Be=!1}function Bp(){var t=ms;return t!==null&&(sn===null?sn=t:sn.push.apply(sn,t),ms=null),t}function xo(t){ms===null?ms=[t]:ms.push(t)}var Xh=J(null),gs=null,xi=null;function ar(t,i,a){ie(Xh,i._currentValue),i._currentValue=a}function Ni(t){t._currentValue=Xh.current,oe(Xh)}function $h(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Zh(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var x=0;x<i.length;x++)if(T.context===i[x]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),$h(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$h(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function No(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(sl):t=[sl])}h=h.return}t!==null&&Zh(i,t,a,l),i.flags|=262144}function Ru(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ys(t){gs=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return qp(gs,t)}function Iu(t,i){return gs===null&&ys(t),qp(t,i)}function qp(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},xi===null){if(t===null)throw Error(s(308));xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xi=xi.next=i;return a}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},HT=r.unstable_scheduleCallback,FT=r.unstable_NormalPriority,At={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new qT,data:new Map,refCount:0}}function Do(t){t.refCount--,t.refCount===0&&HT(FT,function(){t.controller.abort()})}var Oo=null,Jh=0,ca=0,ha=null;function GT(t,i){if(Oo===null){var a=Oo=[];Jh=0,ca=nd(),ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jh++,i.then(Hp,Hp),i}function Hp(){if(--Jh===0&&Oo!==null){ha!==null&&(ha.status="fulfilled");var t=Oo;Oo=null,ca=0,ha=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function KT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Fp=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&GT(t,i),Fp!==null&&Fp(t,i)};var vs=J(null);function ef(){var t=vs.current;return t!==null?t:Je.pooledCache}function Cu(t,i){i===null?ie(vs,vs.current):ie(vs,i.pool)}function Gp(){var t=ef();return t===null?null:{parent:At._currentValue,pool:t}}var Mo=Error(s(460)),Kp=Error(s(474)),xu=Error(s(542)),tf={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Nu(){}function Yp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Nu,Nu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$p(t),t;default:if(typeof i.status=="string")i.then(Nu,Nu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$p(t),t}throw Vo=i,Mo}}var Vo=null;function Xp(){if(Vo===null)throw Error(s(459));var t=Vo;return Vo=null,t}function $p(t){if(t===Mo||t===xu)throw Error(s(483))}var or=!1;function nf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Fe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=bu(t),Pp(t,null,a),i}return Tu(t,l,i,a),bu(t)}function ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,lo(t,a)}}function sf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var af=!1;function Po(){if(af){var t=ha;if(t!==null)throw t}}function Uo(t,i,a,l){af=!1;var h=t.updateQueue;or=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var x=T,q=x.next;x.next=null,_===null?d=q:_.next=q,_=x;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==_&&(T===null?$.firstBaseUpdate=q:T.next=q,$.lastBaseUpdate=x))}if(d!==null){var W=h.baseState;_=0,$=q=x=null,T=d;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Pe&H)===H:(l&H)===H){H!==0&&H===ca&&(af=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var _e=t,ye=T;H=i;var $e=a;switch(ye.tag){case 1:if(_e=ye.payload,typeof _e=="function"){W=_e.call($e,W,H);break e}W=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=ye.payload,H=typeof _e=="function"?_e.call($e,W,H):_e,H==null)break e;W=E({},W,H);break e;case 2:or=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(q=$=F,x=W):$=$.next=F,_|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);$===null&&(x=W),h.baseState=x,h.firstBaseUpdate=q,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),yr|=_,t.lanes=_,t.memoizedState=W}}function Zp(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wp(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zp(a[t],i)}var fa=J(null),Du=J(0);function Jp(t,i){t=Ui,ie(Du,t),ie(fa,i),Ui=t|i.baseLanes}function of(){ie(Du,Ui),ie(fa,fa.current)}function lf(){Ui=Du.current,oe(fa),oe(Du)}var cr=0,Ie=null,Ye=null,gt=null,Ou=!1,da=!1,_s=!1,Mu=0,Lo=0,ma=null,QT=0;function ht(){throw Error(s(321))}function uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!un(t[a],i[a]))return!1;return!0}function cf(t,i,a,l,h,d){return cr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?Pg:Ug,_s=!1,d=a(l,h),_s=!1,da&&(d=tg(i,a,l,h)),eg(t),d}function eg(t){X.H=ju;var i=Ye!==null&&Ye.next!==null;if(cr=0,gt=Ye=Ie=null,Ou=!1,Lo=0,ma=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ru(t)&&(Nt=!0))}function tg(t,i,a,l){Ie=t;var h=0;do{if(da&&(ma=null),Lo=0,da=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=eb,d=i(a,l)}while(da);return d}function YT(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?jo(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function hf(){var t=Mu!==0;return Mu=0,t}function ff(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function df(t){if(Ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ou=!1}cr=0,gt=Ye=Ie=null,da=!1,Lo=Mu=0,ma=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jo(t){var i=Lo;return Lo+=1,ma===null&&(ma=[]),t=Yp(ma,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?Pg:Ug),t}function Vu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jo(t);if(t.$$typeof===te)return Kt(t)}throw Error(s(438,String(t)))}function pf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=mf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Di(t,i){return typeof i=="function"?i(t):i}function ku(t){var i=yt();return gf(i,Ye,t)}function gf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,x=null,q=i,$=!1;do{var W=q.lane&-536870913;if(W!==q.lane?(Pe&W)===W:(cr&W)===W){var H=q.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),W===ca&&($=!0);else if((cr&H)===H){q=q.next,H===ca&&($=!0);continue}else W={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=W,_=d):x=x.next=W,Ie.lanes|=H,yr|=H;W=q.action,_s&&a(d,W),d=q.hasEagerState?q.eagerState:a(d,W)}else H={lane:W,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},x===null?(T=x=H,_=d):x=x.next=H,Ie.lanes|=W,yr|=W;q=q.next}while(q!==null&&q!==i);if(x===null?_=d:x.next=T,!un(d,t.memoizedState)&&(Nt=!0,$&&(a=ha,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=x,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function yf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);un(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ng(t,i,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!un((Ye||h).memoizedState,a);_&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=sg.bind(null,l,h,t);if(zo(2048,8,T,[t]),h.getSnapshot!==i||_||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,pa(9,Pu(),rg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(cr&124)!==0||ig(l,i,a)}return a}function ig(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=mf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function rg(t,i,a,l){i.value=a,i.getSnapshot=l,ag(i)&&og(t)}function sg(t,i,a){return a(function(){ag(i)&&og(t)})}function ag(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!un(t,a)}catch{return!0}}function og(t){var i=aa(t,2);i!==null&&pn(i,t,2)}function vf(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),_s){on(!0);try{a()}finally{on(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},i}function lg(t,i,a,l){return t.baseState=a,gf(t,Ye,typeof l=="function"?l:Di)}function XT(t,i,a,l,h){if(Lu(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ug(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ug(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,_={};X.T=_;try{var T=a(h,l),x=X.S;x!==null&&x(_,T),cg(t,i,T)}catch(q){_f(t,i,q)}finally{X.T=d}}else try{d=a(h,l),cg(t,i,d)}catch(q){_f(t,i,q)}}function cg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hg(t,i,l)},function(l){return _f(t,i,l)}):hg(t,i,a)}function hg(t,i,a){i.status="fulfilled",i.value=a,fg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ug(t,a)))}function _f(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fg(i),i=i.next;while(i!==l)}t.action=null}function fg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dg(t,i){return i}function mg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=Jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Un(h.nextSibling),l=h.data==="F!";break e}}ps(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:i},a.queue=l,a=Mg.bind(null,Ie,l),l.dispatch=a,l=vf(!1),d=Sf.bind(null,Ie,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=XT.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function pg(t){var i=yt();return gg(i,Ye,t)}function gg(t,i,a){if(i=gf(t,i,dg)[0],t=ku(Di)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=jo(i)}catch(_){throw _===Mo?xu:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,pa(9,Pu(),$T.bind(null,h,a),null)),[l,d,t]}function $T(t,i){t.action=i}function yg(t){var i=yt(),a=Ye;if(a!==null)return gg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function pa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=mf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Pu(){return{destroy:void 0,resource:void 0}}function vg(){return yt().memoizedState}function Uu(t,i,a,l){var h=nn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=pa(1|i,Pu(),a,l)}function zo(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&uf(l,Ye.memoizedState.deps)?h.memoizedState=pa(i,d,a,l):(Ie.flags|=t,h.memoizedState=pa(1|i,d,a,l))}function _g(t,i){Uu(8390656,8,t,i)}function Eg(t,i){zo(2048,8,t,i)}function Tg(t,i){return zo(4,2,t,i)}function bg(t,i){return zo(4,4,t,i)}function Ag(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Sg(t,i,a){a=a!=null?a.concat([t]):null,zo(4,4,Ag.bind(null,i,t),a)}function Ef(){}function wg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Rg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&uf(i,l[1]))return l[0];if(l=t(),_s){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l}function Tf(t,i,a){return a===void 0||(cr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xy(),Ie.lanes|=t,yr|=t,a)}function Ig(t,i,a,l){return un(a,i)?a:fa.current!==null?(t=Tf(t,a,l),un(t,i)||(Nt=!0),t):(cr&42)===0?(Nt=!0,t.memoizedState=a):(t=xy(),Ie.lanes|=t,yr|=t,i)}function Cg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=X.T,T={};X.T=T,Sf(t,!1,i,a);try{var x=h(),q=X.S;if(q!==null&&q(T,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=KT(x,l);Bo(t,i,$,mn(t))}else Bo(t,i,l,mn(t))}catch(W){Bo(t,i,{then:function(){},status:"rejected",reason:W},mn())}finally{ae.p=d,X.T=_}}function ZT(){}function bf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=xg(t).queue;Cg(t,h,i,de,a===null?ZT:function(){return Ng(t),a(l)})}function xg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ng(t){var i=xg(t).next.queue;Bo(t,i,{},mn())}function Af(){return Kt(sl)}function Dg(){return yt().memoizedState}function Og(){return yt().memoizedState}function WT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=mn();t=lr(a);var l=ur(i,t,a);l!==null&&(pn(l,i,a),ko(l,i,a)),i={cache:Wh()},t.payload=i;return}i=i.return}}function JT(t,i,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Lu(t)?Vg(i,a):(a=qh(t,i,a,l),a!==null&&(pn(a,t,l),kg(a,i,l)))}function Mg(t,i,a){var l=mn();Bo(t,i,a,l)}function Bo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Lu(t))Vg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,_))return Tu(t,i,h,0),Je===null&&Eu(),!1}catch{}finally{}if(a=qh(t,i,h,l),a!==null)return pn(a,t,l),kg(a,i,l),!0}return!1}function Sf(t,i,a,l){if(l={lane:2,revertLane:nd(),action:l,hasEagerState:!1,eagerState:null,next:null},Lu(t)){if(i)throw Error(s(479))}else i=qh(t,a,l,2),i!==null&&pn(i,t,2)}function Lu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Vg(t,i){da=Ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function kg(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,lo(t,a)}}var ju={readContext:Kt,use:Vu,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Pg={readContext:Kt,use:Vu,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:_g,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Uu(4194308,4,Ag.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Uu(4194308,4,t,i)},useInsertionEffect:function(t,i){Uu(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(_s){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(_s){on(!0);try{a(i)}finally{on(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=JT.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=vf(t);var i=t.queue,a=Mg.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ef,useDeferredValue:function(t,i){var a=nn();return Tf(a,t,i)},useTransition:function(){var t=vf(!1);return t=Cg.bind(null,Ie,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=nn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Pe&124)!==0||ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_g(sg.bind(null,l,d,t),[t]),l.flags|=2048,pa(9,Pu(),rg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=Je.identifierPrefix;if(Be){var a=Ci,l=Ii;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Mu++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=QT++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Af,useFormState:mg,useActionState:mg,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Sf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:pf,useCacheRefresh:function(){return nn().memoizedState=WT.bind(null,Ie)}},Ug={readContext:Kt,use:Vu,useCallback:wg,useContext:Kt,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:ku,useRef:vg,useState:function(){return ku(Di)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=yt();return Ig(a,Ye.memoizedState,t,i)},useTransition:function(){var t=ku(Di)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:jo(t),i]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:Af,useFormState:pg,useActionState:pg,useOptimistic:function(t,i){var a=yt();return lg(a,Ye,t,i)},useMemoCache:pf,useCacheRefresh:Og},eb={readContext:Kt,use:Vu,useCallback:wg,useContext:Kt,useEffect:Eg,useImperativeHandle:Sg,useInsertionEffect:Tg,useLayoutEffect:bg,useMemo:Rg,useReducer:yf,useRef:vg,useState:function(){return yf(Di)},useDebugValue:Ef,useDeferredValue:function(t,i){var a=yt();return Ye===null?Tf(a,t,i):Ig(a,Ye.memoizedState,t,i)},useTransition:function(){var t=yf(Di)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:jo(t),i]},useSyncExternalStore:ng,useId:Dg,useHostTransitionStatus:Af,useFormState:yg,useActionState:yg,useOptimistic:function(t,i){var a=yt();return Ye!==null?lg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Og},ga=null,qo=0;function zu(t){var i=qo;return qo+=1,ga===null&&(ga=[]),Yp(ga,t,i)}function Ho(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bu(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Lg(t){var i=t._init;return i(t._payload)}function jg(t){function i(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Ri(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,z,Z){return V===null||V.tag!==6?(V=Fh(z,U.mode,Z),V.return=U,V):(V=h(V,z),V.return=U,V)}function x(U,V,z,Z){var le=z.type;return le===N?$(U,V,z.props.children,Z,z.key):V!==null&&(V.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===I&&Lg(le)===V.type)?(V=h(V,z.props),Ho(V,z),V.return=U,V):(V=Au(z.type,z.key,z.props,null,U.mode,Z),Ho(V,z),V.return=U,V)}function q(U,V,z,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Gh(z,U.mode,Z),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function $(U,V,z,Z,le){return V===null||V.tag!==7?(V=hs(z,U.mode,Z,le),V.return=U,V):(V=h(V,z),V.return=U,V)}function W(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Fh(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return z=Au(V.type,V.key,V.props,null,U.mode,z),Ho(z,V),z.return=U,z;case b:return V=Gh(V,U.mode,z),V.return=U,V;case I:var Z=V._init;return V=Z(V._payload),W(U,V,z)}if(at(V)||L(V))return V=hs(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return W(U,zu(V),z);if(V.$$typeof===te)return W(U,Iu(U,V),z);Bu(U,V)}return null}function H(U,V,z,Z){var le=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return le!==null?null:T(U,V,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case S:return z.key===le?x(U,V,z,Z):null;case b:return z.key===le?q(U,V,z,Z):null;case I:return le=z._init,z=le(z._payload),H(U,V,z,Z)}if(at(z)||L(z))return le!==null?null:$(U,V,z,Z,null);if(typeof z.then=="function")return H(U,V,zu(z),Z);if(z.$$typeof===te)return H(U,V,Iu(U,z),Z);Bu(U,z)}return null}function F(U,V,z,Z,le){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,T(V,U,""+Z,le);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return U=U.get(Z.key===null?z:Z.key)||null,x(V,U,Z,le);case b:return U=U.get(Z.key===null?z:Z.key)||null,q(V,U,Z,le);case I:var xe=Z._init;return Z=xe(Z._payload),F(U,V,z,Z,le)}if(at(Z)||L(Z))return U=U.get(z)||null,$(V,U,Z,le,null);if(typeof Z.then=="function")return F(U,V,z,zu(Z),le);if(Z.$$typeof===te)return F(U,V,z,Iu(V,Z),le);Bu(V,Z)}return null}function _e(U,V,z,Z){for(var le=null,xe=null,he=V,ve=V=0,Ot=null;he!==null&&ve<z.length;ve++){he.index>ve?(Ot=he,he=null):Ot=he.sibling;var Le=H(U,he,z[ve],Z);if(Le===null){he===null&&(he=Ot);break}t&&he&&Le.alternate===null&&i(U,he),V=d(Le,V,ve),xe===null?le=Le:xe.sibling=Le,xe=Le,he=Ot}if(ve===z.length)return a(U,he),Be&&ds(U,ve),le;if(he===null){for(;ve<z.length;ve++)he=W(U,z[ve],Z),he!==null&&(V=d(he,V,ve),xe===null?le=he:xe.sibling=he,xe=he);return Be&&ds(U,ve),le}for(he=l(he);ve<z.length;ve++)Ot=F(he,U,ve,z[ve],Z),Ot!==null&&(t&&Ot.alternate!==null&&he.delete(Ot.key===null?ve:Ot.key),V=d(Ot,V,ve),xe===null?le=Ot:xe.sibling=Ot,xe=Ot);return t&&he.forEach(function(Rr){return i(U,Rr)}),Be&&ds(U,ve),le}function ye(U,V,z,Z){if(z==null)throw Error(s(151));for(var le=null,xe=null,he=V,ve=V=0,Ot=null,Le=z.next();he!==null&&!Le.done;ve++,Le=z.next()){he.index>ve?(Ot=he,he=null):Ot=he.sibling;var Rr=H(U,he,Le.value,Z);if(Rr===null){he===null&&(he=Ot);break}t&&he&&Rr.alternate===null&&i(U,he),V=d(Rr,V,ve),xe===null?le=Rr:xe.sibling=Rr,xe=Rr,he=Ot}if(Le.done)return a(U,he),Be&&ds(U,ve),le;if(he===null){for(;!Le.done;ve++,Le=z.next())Le=W(U,Le.value,Z),Le!==null&&(V=d(Le,V,ve),xe===null?le=Le:xe.sibling=Le,xe=Le);return Be&&ds(U,ve),le}for(he=l(he);!Le.done;ve++,Le=z.next())Le=F(he,U,ve,Le.value,Z),Le!==null&&(t&&Le.alternate!==null&&he.delete(Le.key===null?ve:Le.key),V=d(Le,V,ve),xe===null?le=Le:xe.sibling=Le,xe=Le);return t&&he.forEach(function(tA){return i(U,tA)}),Be&&ds(U,ve),le}function $e(U,V,z,Z){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case S:e:{for(var le=z.key;V!==null;){if(V.key===le){if(le=z.type,le===N){if(V.tag===7){a(U,V.sibling),Z=h(V,z.props.children),Z.return=U,U=Z;break e}}else if(V.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===I&&Lg(le)===V.type){a(U,V.sibling),Z=h(V,z.props),Ho(Z,z),Z.return=U,U=Z;break e}a(U,V);break}else i(U,V);V=V.sibling}z.type===N?(Z=hs(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=Au(z.type,z.key,z.props,null,U.mode,Z),Ho(Z,z),Z.return=U,U=Z)}return _(U);case b:e:{for(le=z.key;V!==null;){if(V.key===le)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),Z=h(V,z.children||[]),Z.return=U,U=Z;break e}else{a(U,V);break}else i(U,V);V=V.sibling}Z=Gh(z,U.mode,Z),Z.return=U,U=Z}return _(U);case I:return le=z._init,z=le(z._payload),$e(U,V,z,Z)}if(at(z))return _e(U,V,z,Z);if(L(z)){if(le=L(z),typeof le!="function")throw Error(s(150));return z=le.call(z),ye(U,V,z,Z)}if(typeof z.then=="function")return $e(U,V,zu(z),Z);if(z.$$typeof===te)return $e(U,V,Iu(U,z),Z);Bu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),Z=h(V,z),Z.return=U,U=Z):(a(U,V),Z=Fh(z,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,V)}return function(U,V,z,Z){try{qo=0;var le=$e(U,V,z,Z);return ga=null,le}catch(he){if(he===Mo||he===xu)throw he;var xe=cn(29,he,null,U.mode);return xe.lanes=Z,xe.return=U,xe}finally{}}}var ya=jg(!0),zg=jg(!1),Cn=J(null),ei=null;function hr(t){var i=t.alternate;ie(St,St.current&1),ie(Cn,t),ei===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(ei=t)}function Bg(t){if(t.tag===22){if(ie(St,St.current),ie(Cn,t),ei===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ei=t)}}else fr()}function fr(){ie(St,St.current),ie(Cn,Cn.current)}function Oi(t){oe(Cn),ei===t&&(ei=null),oe(St)}var St=J(0);function qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||md(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function wf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Rf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=mn(),h=lr(l);h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(pn(i,t,l),ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=mn(),h=lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=ur(t,h,l),i!==null&&(pn(i,t,l),ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=mn(),l=lr(a);l.tag=2,i!=null&&(l.callback=i),i=ur(t,l,a),i!==null&&(pn(i,t,a),ko(i,t,a))}};function qg(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!wo(a,l)||!wo(h,d):!0}function Hg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Rf.enqueueReplaceState(i,i.state,null)}function Es(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fg(t){Hu(t)}function Gg(t){console.error(t)}function Kg(t){Hu(t)}function Fu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Qg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(t,i,a){return a=lr(a),a.tag=3,a.payload={element:null},a.callback=function(){Fu(t,i)},a}function Yg(t){return t=lr(t),t.tag=3,t}function Xg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Qg(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Qg(i,a,l),typeof h!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tb(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&No(i,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ei===null?Zf():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jf(t,l,h)),!1;case 22:return a.flags|=65536,l===tf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jf(t,l,h)),!1}throw Error(s(435,a.tag))}return Jf(t,l,h),Zf(),!1}if(Be)return i=Cn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Yh&&(t=Error(s(422),{cause:l}),xo(Sn(t,a)))):(l!==Yh&&(i=Error(s(423),{cause:l}),xo(Sn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Sn(l,a),h=If(t.stateNode,l,h),sf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Sn(d,a),$o===null?$o=[d]:$o.push(d),ut!==4&&(ut=2),i===null)return!0;l=Sn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=If(a.stateNode,l,t),sf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vr===null||!vr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Yg(h),Xg(h,t,a,l),sf(a,h),!1}a=a.return}while(a!==null);return!1}var $g=Error(s(461)),Nt=!1;function Ut(t,i,a,l){i.child=t===null?zg(i,null,a,l):ya(i,t.child,a,l)}function Zg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ys(i),l=cf(t,i,a,_,d,h),T=hf(),t!==null&&!Nt?(ff(t,i,h),Mi(t,i,h)):(Be&&T&&Kh(i),i.flags|=1,Ut(t,i,l,h),i.child)}function Wg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Hh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Jg(t,i,d,l,h)):(t=Au(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!kf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:wo,a(_,l)&&t.ref===i.ref)return Mi(t,i,h)}return i.flags|=1,t=Ri(d,l),t.ref=i.ref,t.return=i,i.child=t}function Jg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(wo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,kf(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Mi(t,i,h)}return Cf(t,i,a,l,h)}function ey(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cu(i,d!==null?d.cachePool:null),d!==null?Jp(i,d):of(),Bg(i);else return i.lanes=i.childLanes=536870912,ty(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Cu(i,d.cachePool),Jp(i,d),fr(),i.memoizedState=null):(t!==null&&Cu(i,null),of(),fr());return Ut(t,i,h,a),i.child}function ty(t,i,a,l){var h=ef();return h=h===null?null:{parent:At._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Cu(i,null),of(),Bg(i),t!==null&&No(t,i,l,!0),null}function Gu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Cf(t,i,a,l,h){return ys(i),a=cf(t,i,a,l,void 0,h),l=hf(),t!==null&&!Nt?(ff(t,i,h),Mi(t,i,h)):(Be&&l&&Kh(i),i.flags|=1,Ut(t,i,a,h),i.child)}function ny(t,i,a,l,h,d){return ys(i),i.updateQueue=null,a=tg(i,l,a,h),eg(t),l=hf(),t!==null&&!Nt?(ff(t,i,d),Mi(t,i,d)):(Be&&l&&Kh(i),i.flags|=1,Ut(t,i,a,d),i.child)}function iy(t,i,a,l,h){if(ys(i),i.stateNode===null){var d=oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Kt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Rf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},nf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Kt(_):oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(wf(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Rf.enqueueReplaceState(d,d.state,null),Uo(i,l,d,h),Po(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,x=Es(a,T);d.props=x;var q=d.context,$=a.contextType;_=oa,typeof $=="object"&&$!==null&&(_=Kt($));var W=a.getDerivedStateFromProps;$=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||q!==_)&&Hg(i,d,l,_),or=!1;var H=i.memoizedState;d.state=H,Uo(i,l,d,h),Po(),q=i.memoizedState,T||H!==q||or?(typeof W=="function"&&(wf(i,a,W,l),q=i.memoizedState),(x=or||qg(i,a,x,l,H,q,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=x):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,rf(t,i),_=i.memoizedProps,$=Es(a,_),d.props=$,W=i.pendingProps,H=d.context,q=a.contextType,x=oa,typeof q=="object"&&q!==null&&(x=Kt(q)),T=a.getDerivedStateFromProps,(q=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||H!==x)&&Hg(i,d,l,x),or=!1,H=i.memoizedState,d.state=H,Uo(i,l,d,h),Po();var F=i.memoizedState;_!==W||H!==F||or||t!==null&&t.dependencies!==null&&Ru(t.dependencies)?(typeof T=="function"&&(wf(i,a,T,l),F=i.memoizedState),($=or||qg(i,a,$,l,H,F,x)||t!==null&&t.dependencies!==null&&Ru(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,x)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=x,l=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Gu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ya(i,t.child,null,h),i.child=ya(i,null,a,h)):Ut(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Mi(t,i,h),t}function ry(t,i,a,l){return Co(),i.flags|=256,Ut(t,i,a,l),i.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(t){return{baseLanes:t,cachePool:Gp()}}function Df(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function sy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?hr(i):fr(),Be){var T=lt,x;if(x=T){e:{for(x=T,T=Jn;x.nodeType!==8;){if(!T){T=null;break e}if(x=Un(x.nextSibling),x===null){T=null;break e}}T=x}T!==null?(i.memoizedState={dehydrated:T,treeContext:fs!==null?{id:Ii,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},x=cn(18,null,null,0),x.stateNode=T,x.return=i,i.child=x,tn=i,lt=null,x=!0):x=!1}x||ps(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return md(T)?i.lanes=32:i.lanes=536870912,null;Oi(i)}return T=l.children,l=l.fallback,h?(fr(),h=i.mode,T=Ku({mode:"hidden",children:T},h),l=hs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Nf(a),h.childLanes=Df(t,_,a),i.memoizedState=xf,l):(hr(i),Of(i,T))}if(x=t.memoizedState,x!==null&&(T=x.dehydrated,T!==null)){if(d)i.flags&256?(hr(i),i.flags&=-257,i=Mf(t,i,a)):i.memoizedState!==null?(fr(),i.child=t.child,i.flags|=128,i=null):(fr(),h=l.fallback,T=i.mode,l=Ku({mode:"visible",children:l.children},T),h=hs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ya(i,t.child,null,a),l=i.child,l.memoizedState=Nf(a),l.childLanes=Df(t,_,a),i.memoizedState=xf,i=h);else if(hr(i),md(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,xo({value:l,source:null,stack:null}),i=Mf(t,i,a)}else if(Nt||No(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=Je,_!==null&&(l=a&-a,l=(l&42)!==0?1:Ji(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,aa(t,l),pn(_,t,l),$g;T.data==="$?"||Zf(),i=Mf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=x.treeContext,lt=Un(T.nextSibling),tn=i,Be=!0,ms=null,Jn=!1,t!==null&&(Rn[In++]=Ii,Rn[In++]=Ci,Rn[In++]=fs,Ii=t.id,Ci=t.overflow,fs=i),i=Of(i,l.children),i.flags|=4096);return i}return h?(fr(),h=l.fallback,T=i.mode,x=t.child,q=x.sibling,l=Ri(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,q!==null?h=Ri(q,h):(h=hs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Nf(a):(x=T.cachePool,x!==null?(q=At._currentValue,x=x.parent!==q?{parent:q,pool:q}:x):x=Gp(),T={baseLanes:T.baseLanes|a,cachePool:x}),h.memoizedState=T,h.childLanes=Df(t,_,a),i.memoizedState=xf,l):(hr(i),a=t.child,t=a.sibling,a=Ri(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Of(t,i){return i=Ku({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ku(t,i){return t=cn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Mf(t,i,a){return ya(i,t.child,null,a),t=Of(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ay(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),$h(t.return,i,a)}function Vf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function oy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ut(t,i,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ay(t,a,i);else if(t.tag===19)ay(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(St,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Vf(i,!0,a,null,d);break;case"together":Vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Mi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),yr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(No(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ri(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ri(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function kf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ru(t)))}function nb(t,i,a){switch(i.tag){case 3:We(i,i.stateNode.containerInfo),ar(i,At,t.memoizedState.cache),Co();break;case 27:case 5:Wi(i);break;case 4:We(i,i.stateNode.containerInfo);break;case 10:ar(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?sy(t,i,a):(hr(i),t=Mi(t,i,a),t!==null?t.sibling:null);hr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(No(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return oy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(St,St.current),l)break;return null;case 22:case 23:return i.lanes=0,ey(t,i,a);case 24:ar(i,At,t.memoizedState.cache)}return Mi(t,i,a)}function ly(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!kf(t,a)&&(i.flags&128)===0)return Nt=!1,nb(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Lp(i,wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Hh(l)?(t=Es(l,t),i.tag=1,i=iy(null,i,l,t,a)):(i.tag=0,i=Cf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=Zg(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=Wg(null,i,l,t,a);break e}}throw i=Vt(l)||l,Error(s(306,i,""))}}return i;case 0:return Cf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Es(l,i.pendingProps),iy(t,i,l,h,a);case 3:e:{if(We(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,rf(t,i),Uo(i,l,null,a);var _=i.memoizedState;if(l=_.cache,ar(i,At,l),l!==d.cache&&Zh(i,[At],a,!0),Po(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ry(t,i,l,a);break e}else if(l!==h){h=Sn(Error(s(424)),i),xo(h),i=ry(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Un(t.firstChild),tn=i,Be=!0,ms=null,Jn=!0,a=zg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),l===h){i=Mi(t,i,a);break e}Ut(t,i,l,a)}i=i.child}return i;case 26:return Gu(t,i),t===null?(a=fv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=ac(Ee.current).createElement(a),l[Et]=i,l[mt]=t,jt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=fv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Wi(i),t===null&&Be&&(l=i.stateNode=uv(i.type,i.pendingProps,Ee.current),tn=i,Jn=!0,h=lt,Tr(i.type)?(pd=h,lt=Un(l.firstChild)):lt=h),Ut(t,i,i.pendingProps.children,a),Gu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=Nb(l,i.type,i.pendingProps,Jn),l!==null?(i.stateNode=l,tn=i,lt=Un(l.firstChild),Jn=!1,h=!0):h=!1),h||ps(i)),Wi(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,hd(h,d)?l=null:_!==null&&hd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=cf(t,i,YT,null,null,a),sl._currentValue=h),Gu(t,i),Ut(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=Db(a,i.pendingProps,Jn),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||ps(i)),null;case 13:return sy(t,i,a);case 4:return We(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ya(i,null,l,a):Ut(t,i,l,a),i.child;case 11:return Zg(t,i,i.type,i.pendingProps,a);case 7:return Ut(t,i,i.pendingProps,a),i.child;case 8:return Ut(t,i,i.pendingProps.children,a),i.child;case 12:return Ut(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ar(i,i.type,l.value),Ut(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ys(i),h=Kt(h),l=l(h),i.flags|=1,Ut(t,i,l,a),i.child;case 14:return Wg(t,i,i.type,i.pendingProps,a);case 15:return Jg(t,i,i.type,i.pendingProps,a);case 19:return oy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Ku(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ri(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return ey(t,i,a);case 24:return ys(i),l=Kt(At),t===null?(h=ef(),h===null&&(h=Je,d=Wh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},nf(i),ar(i,At,h)):((t.lanes&a)!==0&&(rf(t,i),Uo(i,null,null,a),Po()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ar(i,At,l)):(l=d.cache,ar(i,At,l),l!==h.cache&&Zh(i,[At],a,!0))),Ut(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Vi(t){t.flags|=4}function uy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!yv(i)){if(i=Cn.current,i!==null&&((Pe&4194048)===Pe?ei!==null:(Pe&62914560)!==Pe&&(Pe&536870912)===0||i!==ei))throw Vo=tf,Kp;t.flags|=8192}}function Qu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?ao():536870912,t.lanes|=i,Ta|=i)}function Fo(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ib(t,i,a){var l=i.pendingProps;switch(Qh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ni(At),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Io(i)?Vi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Bp())),it(i),null;case 26:return a=i.memoizedState,t===null?(Vi(i),a!==null?(it(i),uy(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Vi(i),it(i),uy(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Vi(i),it(i),i.flags&=-16777217),null;case 27:di(i),a=Ee.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=pe.current,Io(i)?jp(i):(t=uv(h,l,a),i.stateNode=t,Vi(i))}return it(i),null;case 5:if(di(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=pe.current,Io(i))jp(i);else{switch(h=ac(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Et]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Vi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Vi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ee.current,Io(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||nv(t.nodeValue,a)),t||ps(i)}else t=ac(t).createTextNode(l),t[Et]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Io(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else Co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Bp(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Oi(i),i):(Oi(i),null)}if(Oi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Qu(i,i.updateQueue),it(i),null;case 4:return Bn(),t===null&&ad(i.stateNode.containerInfo),it(i),null;case 10:return Ni(i.type),it(i),null;case 19:if(oe(St),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Fo(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=qu(t),d!==null){for(i.flags|=128,Fo(h,!1),t=d.updateQueue,i.updateQueue=t,Qu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Up(a,t),a=a.sibling;return ie(St,St.current&1|2),i.child}t=t.sibling}h.tail!==null&&vn()>$u&&(i.flags|=128,l=!0,Fo(h,!1),i.lanes=4194304)}else{if(!l)if(t=qu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Qu(i,t),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(i),null}else 2*vn()-h.renderingStartTime>$u&&a!==536870912&&(i.flags|=128,l=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,t=St.current,ie(St,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Oi(i),lf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Qu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ni(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rb(t,i){switch(Qh(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ni(At),Bn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return di(i),null;case 13:if(Oi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Co()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(St),null;case 4:return Bn(),null;case 10:return Ni(i.type),null;case 22:case 23:return Oi(i),lf(),t!==null&&oe(vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ni(At),null;case 25:return null;default:return null}}function cy(t,i){switch(Qh(i),i.tag){case 3:Ni(At),Bn();break;case 26:case 27:case 5:di(i);break;case 4:Bn();break;case 13:Oi(i);break;case 19:oe(St);break;case 10:Ni(i.type);break;case 22:case 23:Oi(i),lf(),t!==null&&oe(vs);break;case 24:Ni(At)}}function Go(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Ze(i,i.return,T)}}function dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var x=a,q=T;try{q()}catch($){Ze(h,x,$)}}}l=l.next}while(l!==d)}}catch($){Ze(i,i.return,$)}}function hy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wp(i,a)}catch(l){Ze(t,t.return,l)}}}function fy(t,i,a){a.props=Es(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Ko(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function ti(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function dy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Pf(t,i,a){try{var l=t.stateNode;wb(l,t.type,a,i),l[mt]=i}catch(h){Ze(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Tr(t.type)||t.tag===4}function Uf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Tr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=sc));else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Lf(t,i,a),t=t.sibling;t!==null;)Lf(t,i,a),t=t.sibling}function Yu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Tr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Yu(t,i,a),t=t.sibling;t!==null;)Yu(t,i,a),t=t.sibling}function py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[Et]=t,i[mt]=a}catch(d){Ze(t,t.return,d)}}var ki=!1,ft=!1,jf=!1,gy=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function sb(t,i){if(t=t.containerInfo,ud=fc,t=Ip(t),Ph(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,x=-1,q=0,$=0,W=t,H=null;t:for(;;){for(var F;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(x=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(F=W.firstChild)!==null;)H=W,W=F;for(;;){if(W===t)break t;if(H===a&&++q===h&&(T=_),H===d&&++$===l&&(x=_),(F=W.nextSibling)!==null)break;W=H,H=W.parentNode}W=F}a=T===-1||x===-1?null:{start:T,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:t,selectionRange:a},fc=!1,Dt=i;Dt!==null;)if(i=Dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Dt=t;else for(;Dt!==null;){switch(i=Dt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var _e=Es(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(_e,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Ze(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)dd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":dd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Dt=t;break}Dt=i.return}}function yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:mr(t,a),l&4&&Go(5,a);break;case 1:if(mr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ze(a,a.return,_)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(a,a.return,_)}}l&64&&hy(a),l&512&&Ko(a,a.return);break;case 3:if(mr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wp(t,i)}catch(_){Ze(a,a.return,_)}}break;case 27:i===null&&l&4&&py(a);case 26:case 5:mr(t,a),i===null&&l&4&&dy(a),l&512&&Ko(a,a.return);break;case 12:mr(t,a);break;case 13:mr(t,a),l&4&&Ey(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mb.bind(null,a),Ob(t,a))));break;case 22:if(l=a.memoizedState!==null||ki,!l){i=i!==null&&i.memoizedState!==null||ft,h=ki;var d=ft;ki=l,(ft=i)&&!d?pr(t,a,(a.subtreeFlags&8772)!==0):mr(t,a),ki=h,ft=d}break;case 30:break;default:mr(t,a)}}function vy(t){var i=t.alternate;i!==null&&(t.alternate=null,vy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&nr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,rn=!1;function Pi(t,i,a){for(a=a.child;a!==null;)_y(t,i,a),a=a.sibling}function _y(t,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ti(a,i),Pi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ti(a,i);var l=tt,h=rn;Tr(a.type)&&(tt=a.stateNode,rn=!1),Pi(t,i,a),tl(a.stateNode),tt=l,rn=h;break;case 5:ft||ti(a,i);case 6:if(l=tt,h=rn,tt=null,Pi(t,i,a),tt=l,rn=h,tt!==null)if(rn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:tt!==null&&(rn?(t=tt,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ul(t)):ov(tt,a.stateNode));break;case 4:l=tt,h=rn,tt=a.stateNode.containerInfo,rn=!0,Pi(t,i,a),tt=l,rn=h;break;case 0:case 11:case 14:case 15:ft||dr(2,a,i),ft||dr(4,a,i),Pi(t,i,a);break;case 1:ft||(ti(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&fy(a,i,l)),Pi(t,i,a);break;case 21:Pi(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Pi(t,i,a),ft=l;break;default:Pi(t,i,a)}}function Ey(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ul(t)}catch(a){Ze(i,i.return,a)}}function ab(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new gy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new gy),i;default:throw Error(s(435,t.tag))}}function zf(t,i){var a=ab(t);i.forEach(function(l){var h=pb.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Tr(T.type)){tt=T.stateNode,rn=!1;break e}break;case 5:tt=T.stateNode,rn=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,rn=!0;break e}T=T.return}if(tt===null)throw Error(s(160));_y(d,_,h),tt=null,rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ty(i,t),i=i.sibling}var Pn=null;function Ty(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(dr(3,t,t.return),Go(3,t),dr(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(ft||a===null||ti(a,a.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Pn;if(hn(i,t),fn(t),l&512&&(ft||a===null||ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[Et]=t,ct(d),l=d;break e;case"link":var _=pv("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=pv("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Et]=t,ct(d),l=d}t.stateNode=l}else gv(h,t.type,t.stateNode);else t.stateNode=mv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?gv(h,t.type,t.stateNode):mv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(ft||a===null||ti(a,a.return)),a!==null&&l&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(ft||a===null||ti(a,a.return)),t.flags&32){h=t.stateNode;try{En(h,"")}catch(F){Ze(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Ze(t,t.return,F)}}break;case 3:if(uc=null,h=Pn,Pn=oc(i.containerInfo),hn(i,t),Pn=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ul(i.containerInfo)}catch(F){Ze(t,t.return,F)}jf&&(jf=!1,by(t));break;case 4:l=Pn,Pn=oc(t.stateNode.containerInfo),hn(i,t),fn(t),Pn=l;break;case 12:hn(i,t),fn(t);break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Kf=vn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 22:h=t.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,q=ki,$=ft;if(ki=q||h,ft=$||x,hn(i,t),ft=$,ki=q,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||ki||ft||Ts(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(d=x.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=x.stateNode;var W=x.memoizedProps.style,H=W!=null&&W.hasOwnProperty("display")?W.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Ze(x,x.return,F)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(F){Ze(x,x.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,zf(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,zf(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(my(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Uf(t);Yu(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(En(_,""),a.flags&=-33);var T=Uf(t);Yu(t,T,_);break;case 3:case 4:var x=a.stateNode.containerInfo,q=Uf(t);Lf(t,q,x);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function by(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;by(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function mr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yy(t,i.alternate,i),i=i.sibling}function Ts(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:dr(4,i,i.return),Ts(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&fy(i,i.return,a),Ts(i);break;case 27:tl(i.stateNode);case 26:case 5:ti(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}t=t.sibling}}function pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(h,d,a),Go(4,d);break;case 1:if(pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ze(l,l.return,q)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Zp(x[h],T)}catch(q){Ze(l,l.return,q)}}a&&_&64&&hy(d),Ko(d,d.return);break;case 27:py(d);case 26:case 5:pr(h,d,a),a&&l===null&&_&4&&dy(d),Ko(d,d.return);break;case 12:pr(h,d,a);break;case 13:pr(h,d,a),a&&_&4&&Ey(h,d);break;case 22:d.memoizedState===null&&pr(h,d,a),Ko(d,d.return);break;case 30:break;default:pr(h,d,a)}i=i.sibling}}function Bf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Do(a))}function qf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Do(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ay(t,i,a,l),i=i.sibling}function Ay(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&Go(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Do(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Ze(i,i.return,x)}}else ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):Qo(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,va(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Bf(_,i);break;case 24:ni(t,i,a,l),h&2048&&qf(i.alternate,i);break;default:ni(t,i,a,l)}}function va(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,_=i,T=a,x=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:va(d,_,T,x,h),Go(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?va(d,_,T,x,h):Qo(d,_):($._visibility|=2,va(d,_,T,x,h)),h&&q&2048&&Bf(_.alternate,_);break;case 24:va(d,_,T,x,h),h&&q&2048&&qf(_.alternate,_);break;default:va(d,_,T,x,h)}i=i.sibling}}function Qo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Qo(a,l),h&2048&&Bf(l.alternate,l);break;case 24:Qo(a,l),h&2048&&qf(l.alternate,l);break;default:Qo(a,l)}i=i.sibling}}var Yo=8192;function _a(t){if(t.subtreeFlags&Yo)for(t=t.child;t!==null;)Sy(t),t=t.sibling}function Sy(t){switch(t.tag){case 26:_a(t),t.flags&Yo&&t.memoizedState!==null&&Gb(Pn,t.memoizedState,t.memoizedProps);break;case 5:_a(t);break;case 3:case 4:var i=Pn;Pn=oc(t.stateNode.containerInfo),_a(t),Pn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Yo,Yo=16777216,_a(t),Yo=i):_a(t));break;default:_a(t)}}function wy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Xo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,Iy(l,t)}wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:Xo(t),t.flags&2048&&dr(9,t,t.return);break;case 3:Xo(t);break;case 12:Xo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Xu(t)):Xo(t);break;default:Xo(t)}}function Xu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Dt=l,Iy(l,t)}wy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:dr(8,i,i.return),Xu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Xu(i));break;default:Xu(i)}t=t.sibling}}function Iy(t,i){for(;Dt!==null;){var a=Dt;switch(a.tag){case 0:case 11:case 15:dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Do(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Dt=l;else e:for(a=t;Dt!==null;){l=Dt;var h=l.sibling,d=l.return;if(vy(l),l===a){Dt=null;break e}if(h!==null){h.return=d,Dt=h;break e}Dt=d}}}var ob={getCacheForType:function(t){var i=Kt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},lb=typeof WeakMap=="function"?WeakMap:Map,Fe=0,Je=null,Ne=null,Pe=0,Ge=0,dn=null,gr=!1,Ea=!1,Hf=!1,Ui=0,ut=0,yr=0,bs=0,Ff=0,xn=0,Ta=0,$o=null,sn=null,Gf=!1,Kf=0,$u=1/0,Zu=null,vr=null,Lt=0,_r=null,ba=null,Aa=0,Qf=0,Yf=null,Cy=null,Zo=0,Xf=null;function mn(){if((Fe&2)!==0&&Pe!==0)return Pe&-Pe;if(X.T!==null){var t=ca;return t!==0?t:nd()}return er()}function xy(){xn===0&&(xn=(Pe&536870912)===0||Be?so():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),xn}function pn(t,i,a){(t===Je&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)&&(Sa(t,0),Er(t,Pe,xn,!1)),pi(t,a),((Fe&2)===0||t!==Je)&&(t===Je&&((Fe&2)===0&&(bs|=a),ut===4&&Er(t,Pe,xn,!1)),ii(t))}function Ny(t,i,a){if((Fe&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Yr(t,i),h=l?hb(t,i):Wf(t,i,!0),d=l;do{if(h===0){Ea&&!l&&Er(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!ub(a)){h=Wf(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=$o;var x=T.current.memoizedState.isDehydrated;if(x&&(Sa(T,_).flags|=256),_=Wf(T,_,!1),_!==2){if(Hf&&!x){T.errorRecoveryDisabledLanes|=d,bs|=d,h=4;break e}d=sn,sn=h,d!==null&&(sn===null?sn=d:sn.push.apply(sn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Sa(t,0),Er(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Er(l,i,xn,!gr);break e;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Kf+300-vn(),10<h)){if(Er(l,i,xn,!gr),Bs(l,0,!0)!==0)break e;l.timeoutHandle=sv(Dy.bind(null,l,a,sn,Zu,Gf,i,xn,bs,Ta,gr,d,2,-0,0),h);break e}Dy(l,a,sn,Zu,Gf,i,xn,bs,Ta,gr,d,0,-0,0)}}break}while(!0);ii(t)}function Dy(t,i,a,l,h,d,_,T,x,q,$,W,H,F){if(t.timeoutHandle=-1,W=i.subtreeFlags,(W&8192||(W&16785408)===16785408)&&(rl={stylesheets:null,count:0,unsuspend:Fb},Sy(i),W=Kb(),W!==null)){t.cancelPendingCommit=W(Ly.bind(null,t,i,d,a,l,h,_,T,x,$,1,H,F)),Er(t,d,_,!q);return}Ly(t,i,d,a,l,h,_,T,x)}function ub(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Er(t,i,a,l){i&=~Ff,i&=~bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&qn(t,a,i)}function Wu(){return(Fe&6)===0?(Wo(0),!1):!0}function $f(){if(Ne!==null){if(Ge===0)var t=Ne.return;else t=Ne,xi=gs=null,df(t),ga=null,qo=0,t=Ne;for(;t!==null;)cy(t.alternate,t),t=t.return;Ne=null}}function Sa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ib(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$f(),Je=t,Ne=a=Ri(t.current,null),Pe=i,Ge=0,dn=null,gr=!1,Ea=Yr(t,i),Hf=!1,Ta=xn=Ff=bs=yr=ut=0,sn=$o=null,Gf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return Ui=i,Eu(),a}function Oy(t,i){Ie=null,X.H=ju,i===Mo||i===xu?(i=Xp(),Ge=3):i===Kp?(i=Xp(),Ge=4):Ge=i===$g?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,dn=i,Ne===null&&(ut=1,Fu(t,Sn(i,t.current)))}function My(){var t=X.H;return X.H=ju,t===null?ju:t}function Vy(){var t=X.A;return X.A=ob,t}function Zf(){ut=4,gr||(Pe&4194048)!==Pe&&Cn.current!==null||(Ea=!0),(yr&134217727)===0&&(bs&134217727)===0||Je===null||Er(Je,Pe,xn,!1)}function Wf(t,i,a){var l=Fe;Fe|=2;var h=My(),d=Vy();(Je!==t||Pe!==i)&&(Zu=null,Sa(t,i)),i=!1;var _=ut;e:do try{if(Ge!==0&&Ne!==null){var T=Ne,x=dn;switch(Ge){case 8:$f(),_=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(i=!0);var q=Ge;if(Ge=0,dn=null,wa(t,T,x,q),a&&Ea){_=0;break e}break;default:q=Ge,Ge=0,dn=null,wa(t,T,x,q)}}cb(),_=ut;break}catch($){Oy(t,$)}while(!0);return i&&t.shellSuspendCounter++,xi=gs=null,Fe=l,X.H=h,X.A=d,Ne===null&&(Je=null,Pe=0,Eu()),_}function cb(){for(;Ne!==null;)ky(Ne)}function hb(t,i){var a=Fe;Fe|=2;var l=My(),h=Vy();Je!==t||Pe!==i?(Zu=null,$u=vn()+500,Sa(t,i)):Ea=Yr(t,i);e:do try{if(Ge!==0&&Ne!==null){i=Ne;var d=dn;t:switch(Ge){case 1:Ge=0,dn=null,wa(t,i,d,1);break;case 2:case 9:if(Qp(d)){Ge=0,dn=null,Py(i);break}i=function(){Ge!==2&&Ge!==9||Je!==t||(Ge=7),ii(t)},d.then(i,i);break e;case 3:Ge=7;break e;case 4:Ge=5;break e;case 7:Qp(d)?(Ge=0,dn=null,Py(i)):(Ge=0,dn=null,wa(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var T=Ne;if(!_||yv(_)){Ge=0,dn=null;var x=T.sibling;if(x!==null)Ne=x;else{var q=T.return;q!==null?(Ne=q,Ju(q)):Ne=null}break t}}Ge=0,dn=null,wa(t,i,d,5);break;case 6:Ge=0,dn=null,wa(t,i,d,6);break;case 8:$f(),ut=6;break e;default:throw Error(s(462))}}fb();break}catch($){Oy(t,$)}while(!0);return xi=gs=null,X.H=l,X.A=h,Fe=a,Ne!==null?0:(Je=null,Pe=0,Eu(),ut)}function fb(){for(;Ne!==null&&!to();)ky(Ne)}function ky(t){var i=ly(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,i===null?Ju(t):Ne=i}function Py(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ny(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=ny(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:df(i);default:cy(a,i),i=Ne=Up(i,Ui),i=ly(a,i,Ui)}t.memoizedProps=t.pendingProps,i===null?Ju(t):Ne=i}function wa(t,i,a,l){xi=gs=null,df(i),ga=null,qo=0;var h=i.return;try{if(tb(t,h,i,a,Pe)){ut=1,Fu(t,Sn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ut=1,Fu(t,Sn(a,t.current)),Ne=null;return}i.flags&32768?(Be||l===1?t=!0:Ea||(Pe&536870912)!==0?t=!1:(gr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Uy(i,t)):Ju(i)}function Ju(t){var i=t;do{if((i.flags&32768)!==0){Uy(i,gr);return}t=i.return;var a=ib(i.alternate,i,Ui);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ut===0&&(ut=5)}function Uy(t,i){do{var a=rb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ut=6,Ne=null}function Ly(t,i,a,l,h,d,_,T,x){t.cancelPendingCommit=null;do ec();while(Lt!==0);if((Fe&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Bh,oo(t,a,d,_,T,x),t===Je&&(Ne=Je=null,Pe=0),ba=i,_r=t,Aa=a,Qf=d,Yf=h,Cy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gb(Fr,function(){return Hy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=ae.p,ae.p=2,_=Fe,Fe|=4;try{sb(t,i,a)}finally{Fe=_,ae.p=h,X.T=l}}Lt=1,jy(),zy(),By()}}function jy(){if(Lt===1){Lt=0;var t=_r,i=ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{Ty(i,t);var d=cd,_=Ip(t.containerInfo),T=d.focusedElem,x=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&Rp(T.ownerDocument.documentElement,T)){if(x!==null&&Ph(T)){var q=x.start,$=x.end;if($===void 0&&($=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min($,T.value.length);else{var W=T.ownerDocument||document,H=W&&W.defaultView||window;if(H.getSelection){var F=H.getSelection(),_e=T.textContent.length,ye=Math.min(x.start,_e),$e=x.end===void 0?ye:Math.min(x.end,_e);!F.extend&&ye>$e&&(_=$e,$e=ye,ye=_);var U=wp(T,ye),V=wp(T,$e);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var z=W.createRange();z.setStart(U.node,U.offset),F.removeAllRanges(),ye>$e?(F.addRange(z),F.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),F.addRange(z))}}}}for(W=[],F=T;F=F.parentNode;)F.nodeType===1&&W.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<W.length;T++){var Z=W[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}fc=!!ud,cd=ud=null}finally{Fe=h,ae.p=l,X.T=a}}t.current=i,Lt=2}}function zy(){if(Lt===2){Lt=0;var t=_r,i=ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ae.p;ae.p=2;var h=Fe;Fe|=4;try{yy(t,i.alternate,i)}finally{Fe=h,ae.p=l,X.T=a}}Lt=3}}function By(){if(Lt===4||Lt===3){Lt=0,Xl();var t=_r,i=ba,a=Aa,l=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Lt=5:(Lt=0,ba=_r=null,qy(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(vr=null),qs(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=ae.p,ae.p=2,X.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{X.T=i,ae.p=h}}(Aa&3)!==0&&ec(),ii(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Xf?Zo++:(Zo=0,Xf=t):Zo=0,Wo(0)}}function qy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Do(i)))}function ec(t){return jy(),zy(),By(),Hy()}function Hy(){if(Lt!==5)return!1;var t=_r,i=Qf;Qf=0;var a=qs(Aa),l=X.T,h=ae.p;try{ae.p=32>a?32:a,X.T=null,a=Yf,Yf=null;var d=_r,_=Aa;if(Lt=0,ba=_r=null,Aa=0,(Fe&6)!==0)throw Error(s(331));var T=Fe;if(Fe|=4,Ry(d.current),Ay(d,d.current,_,a),Fe=T,Wo(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,X.T=l,qy(t,i)}}function Fy(t,i,a){i=Sn(a,i),i=If(t.stateNode,i,2),t=ur(t,i,2),t!==null&&(pi(t,2),ii(t))}function Ze(t,i,a){if(t.tag===3)Fy(t,t,a);else for(;i!==null;){if(i.tag===3){Fy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vr===null||!vr.has(l))){t=Sn(a,t),a=Yg(2),l=ur(i,a,2),l!==null&&(Xg(a,l,i,t),pi(l,2),ii(l));break}}i=i.return}}function Jf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lb;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Hf=!0,h.add(a),t=db.bind(null,t,i,a),i.then(t,t))}function db(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Pe&a)===a&&(ut===4||ut===3&&(Pe&62914560)===Pe&&300>vn()-Kf?(Fe&2)===0&&Sa(t,0):Ff|=a,Ta===Pe&&(Ta=0)),ii(t)}function Gy(t,i){i===0&&(i=ao()),t=aa(t,i),t!==null&&(pi(t,i),ii(t))}function mb(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Gy(t,a)}function pb(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Gy(t,a)}function gb(t,i){return qr(t,i)}var tc=null,Ra=null,ed=!1,nc=!1,td=!1,As=0;function ii(t){t!==Ra&&t.next===null&&(Ra===null?tc=Ra=t:Ra=Ra.next=t),nc=!0,ed||(ed=!0,vb())}function Wo(t,i){if(!td&&nc){td=!0;do for(var a=!1,l=tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Xy(l,d))}else d=Pe,d=Bs(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yr(l,d)||(a=!0,Xy(l,d));l=l.next}while(a);td=!1}}function yb(){Ky()}function Ky(){nc=ed=!1;var t=0;As!==0&&(Rb()&&(t=As),As=0);for(var i=vn(),a=null,l=tc;l!==null;){var h=l.next,d=Qy(l,i);d===0?(l.next=null,a===null?tc=h:a.next=h,h===null&&(Ra=a)):(a=l,(t!==0||(d&3)!==0)&&(nc=!0)),l=h}Wo(t)}function Qy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Gt(d),T=1<<_,x=h[_];x===-1?((T&a)===0||(T&l)!==0)&&(h[_]=ro(T,i)):x<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Pe,a=Bs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ge===2||Ge===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Hr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Hr(l),qs(a)){case 2:case 8:a=js;break;case 32:a=Fr;break;case 268435456:a=zs;break;default:a=Fr}return l=Yy.bind(null,t),a=qr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Hr(l),t.callbackPriority=2,t.callbackNode=null,2}function Yy(t,i){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(ec()&&t.callbackNode!==a)return null;var l=Pe;return l=Bs(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ny(t,l,i),Qy(t,vn()),t.callbackNode!=null&&t.callbackNode===a?Yy.bind(null,t):null)}function Xy(t,i){if(ec())return null;Ny(t,i,!0)}function vb(){Cb(function(){(Fe&6)!==0?qr(no,yb):Ky()})}function nd(){return As===0&&(As=so()),As}function $y(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ys(""+t)}function Zy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _b(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$y((h[mt]||null).action),_=l.submitter;_&&(i=(i=_[mt]||null)?$y(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Xs("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(As!==0){var x=_?Zy(h,_):new FormData(h);bf(a,{pending:!0,data:x,method:h.method,action:d},null,x)}}else typeof d=="function"&&(T.preventDefault(),x=_?Zy(h,_):new FormData(h),bf(a,{pending:!0,data:x,method:h.method,action:d},d,x))},currentTarget:h}]})}}for(var id=0;id<zh.length;id++){var rd=zh[id],Eb=rd.toLowerCase(),Tb=rd[0].toUpperCase()+rd.slice(1);kn(Eb,"on"+Tb)}kn(Np,"onAnimationEnd"),kn(Dp,"onAnimationIteration"),kn(Op,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(LT,"onTransitionRun"),kn(jT,"onTransitionStart"),kn(zT,"onTransitionCancel"),kn(Mp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jo));function Wy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],x=T.instance,q=T.currentTarget;if(T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch($){Hu($)}h.currentTarget=null,d=x}else for(_=0;_<l.length;_++){if(T=l[_],x=T.instance,q=T.currentTarget,T=T.listener,x!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=q;try{d(h)}catch($){Hu($)}h.currentTarget=null,d=x}}}}function De(t,i){var a=i[uo];a===void 0&&(a=i[uo]=new Set);var l=t+"__bubble";a.has(l)||(Jy(i,t,2,!1),a.add(l))}function sd(t,i,a){var l=0;i&&(l|=4),Jy(a,t,l,i)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ad(t){if(!t[ic]){t[ic]=!0,co.forEach(function(a){a!=="selectionchange"&&(bb.has(a)||sd(a,!1,t),sd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ic]||(i[ic]=!0,sd("selectionchange",!1,i))}}function Jy(t,i,a,l){switch(Av(i)){case 2:var h=Xb;break;case 8:h=$b;break;default:h=Ed}a=h.bind(null,i,a,t),h=void 0,!bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function od(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=d=_;continue e}T=T.parentNode}}l=l.return}su(function(){var q=d,$=Tn(a),W=[];e:{var H=Vp.get(t);if(H!==void 0){var F=Xs,_e=t;switch(t){case"keypress":if(Yn(a)===0)break e;case"keydown":case"keyup":F=ta;break;case"focusin":_e="focus",F=Ws;break;case"focusout":_e="blur",F=Ws;break;case"beforeblur":case"afterblur":F=Ws;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=du;break;case Np:case Dp:case Op:F=Js;break;case Mp:F=pu;break;case"scroll":case"scrollend":F=au;break;case"wheel":F=na;break;case"copy":case"cut":case"paste":F=ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ao;break;case"toggle":case"beforetoggle":F=yu}var ye=(i&4)!==0,$e=!ye&&(t==="scroll"||t==="scrollend"),U=ye?H!==null?H+"Capture":null:H;ye=[];for(var V=q,z;V!==null;){var Z=V;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=ns(V,U),Z!=null&&ye.push(el(V,Z,z))),$e)break;V=V.return}0<ye.length&&(H=new F(H,_e,null,a,$),W.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ei&&(_e=a.relatedTarget||a.fromElement)&&(gi(_e)||_e[_n]))break e;if((F||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,F?(_e=a.relatedTarget||a.toElement,F=q,_e=_e?gi(_e):null,_e!==null&&($e=u(_e),ye=_e.tag,_e!==$e||ye!==5&&ye!==27&&ye!==6)&&(_e=null)):(F=null,_e=q),F!==_e)){if(ye=An,Z="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ao,Z="onPointerLeave",U="onPointerEnter",V="pointer"),$e=F==null?H:Fn(F),z=_e==null?H:Fn(_e),H=new ye(Z,V+"leave",F,a,$),H.target=$e,H.relatedTarget=z,Z=null,gi($)===q&&(ye=new ye(U,V+"enter",_e,a,$),ye.target=z,ye.relatedTarget=$e,Z=ye),$e=Z,F&&_e)t:{for(ye=F,U=_e,V=0,z=ye;z;z=Ia(z))V++;for(z=0,Z=U;Z;Z=Ia(Z))z++;for(;0<V-z;)ye=Ia(ye),V--;for(;0<z-V;)U=Ia(U),z--;for(;V--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Ia(ye),U=Ia(U)}ye=null}else ye=null;F!==null&&ev(W,H,F,ye,!1),_e!==null&&$e!==null&&ev(W,$e,_e,ye,!0)}}e:{if(H=q?Fn(q):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var le=_p;else if(bt(H))if(Ep)le=kT;else{le=MT;var xe=OT}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&go(q.elementType)&&(le=_p):le=VT;if(le&&(le=le(t,q))){wi(W,le,a,$);break e}xe&&xe(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&rr(H,"number",H.value)}switch(xe=q?Fn(q):window,t){case"focusin":(bt(xe)||xe.contentEditable==="true")&&(ia=xe,Uh=q,Ro=null);break;case"focusout":Ro=Uh=ia=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Cp(W,a,$);break;case"selectionchange":if(UT)break;case"keydown":case"keyup":Cp(W,a,$)}var he;if(Zn)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Ve?K(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(Ve||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Ve&&(he=vo()):(Qn=$,sr="value"in Qn?Qn.value:Qn.textContent,Ve=!0)),xe=rc(q,ve),0<xe.length&&(ve=new To(ve,t,null,a,$),W.push({event:ve,listeners:xe}),he?ve.data=he:(he=re(a),he!==null&&(ve.data=he)))),(he=g?Tt(t,a):ke(t,a))&&(ve=rc(q,"onBeforeInput"),0<ve.length&&(xe=new To("onBeforeInput","beforeinput",null,a,$),W.push({event:xe,listeners:ve}),xe.data=he)),_b(W,t,q,a,$)}Wy(W,i)})}function el(t,i,a){return{instance:t,listener:i,currentTarget:a}}function rc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ns(t,a),h!=null&&l.unshift(el(t,h,d)),h=ns(t,i),h!=null&&l.push(el(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ia(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ev(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,x=T.alternate,q=T.stateNode;if(T=T.tag,x!==null&&x===l)break;T!==5&&T!==26&&T!==27||q===null||(x=q,h?(q=ns(a,d),q!=null&&_.unshift(el(a,q,x))):h||(q=ns(a,d),q!=null&&_.push(el(a,q,x)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Ab=/\r\n?/g,Sb=/\u0000|\uFFFD/g;function tv(t){return(typeof t=="string"?t:""+t).replace(Ab,`
`).replace(Sb,"")}function nv(t,i){return i=tv(i),tv(t)===i}function sc(){}function Xe(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||En(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&En(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":po(t,l,d);break;case"data":if(i!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ys(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ys(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=sc);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ys(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":De("beforetoggle",t),De("toggle",t),ir(t,"popover",l);break;case"xlinkActuate":kt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nh.get(a)||a,ir(t,a,l))}}function ld(t,i,a,l,h,d){switch(a){case"style":po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?En(t,l):(typeof l=="number"||typeof l=="bigint")&&En(t,""+l);break;case"onScroll":l!=null&&De("scroll",t);break;case"onScrollEnd":l!=null&&De("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ir(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",t),De("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,d,_,a,null)}}h&&Xe(t,i,"srcSet",a.srcSet,a,null),l&&Xe(t,i,"src",a.src,a,null);return;case"input":De("invalid",t);var T=d=_=h=null,x=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":_=$;break;case"checked":x=$;break;case"defaultChecked":q=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Xe(t,i,l,$,a,null)}}Jr(t,d,T,x,q,_,h,!1),Qs(t);return;case"select":De("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xe(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?_i(t,!!l,i,!1):a!=null&&_i(t,!!l,a,!0);return;case"textarea":De("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xe(t,i,_,T,a,null)}es(t,l,h,d),Qs(t);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,x,l,a,null)}return;case"dialog":De("beforetoggle",t),De("toggle",t),De("cancel",t),De("close",t);break;case"iframe":case"object":De("load",t);break;case"video":case"audio":for(l=0;l<Jo.length;l++)De(Jo[l],t);break;case"image":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"embed":case"source":case"link":De("error",t),De("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Xe(t,i,q,l,a,null)}return;default:if(go(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&ld(t,i,$,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xe(t,i,T,l,a,null))}function wb(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,x=null,q=null,$=null;for(F in a){var W=a[F];if(a.hasOwnProperty(F)&&W!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=W;default:l.hasOwnProperty(F)||Xe(t,i,F,null,l,W)}}for(var H in l){var F=l[H];if(W=a[H],l.hasOwnProperty(H)&&(F!=null||W!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":q=F;break;case"defaultChecked":$=F;break;case"value":_=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==W&&Xe(t,i,H,F,l,W)}}ln(t,_,T,x,q,$,d,h);return;case"select":F=_=T=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":F=x;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,x)}for(h in l)if(d=l[h],x=a[h],l.hasOwnProperty(h)&&(d!=null||x!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==x&&Xe(t,i,h,d,l,x)}i=T,a=_,l=F,H!=null?_i(t,!!a,H,!1):!!l!=!!a&&(i!=null?_i(t,!!a,i,!0):_i(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Xe(t,i,_,h,l,d)}Qe(t,H,F);return;case"option":for(var _e in a)if(H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e))switch(_e){case"selected":t.selected=!1;break;default:Xe(t,i,_e,null,l,H)}for(x in l)if(H=l[x],F=a[x],l.hasOwnProperty(x)&&H!==F&&(H!=null||F!=null))switch(x){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,x,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Xe(t,i,ye,null,l,H);for(q in l)if(H=l[q],F=a[q],l.hasOwnProperty(q)&&H!==F&&(H!=null||F!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Xe(t,i,q,H,l,F)}return;default:if(go(i)){for(var $e in a)H=a[$e],a.hasOwnProperty($e)&&H!==void 0&&!l.hasOwnProperty($e)&&ld(t,i,$e,void 0,l,H);for($ in l)H=l[$],F=a[$],!l.hasOwnProperty($)||H===F||H===void 0&&F===void 0||ld(t,i,$,H,l,F);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Xe(t,i,U,null,l,H);for(W in l)H=l[W],F=a[W],!l.hasOwnProperty(W)||H===F||H==null&&F==null||Xe(t,i,W,H,l,F)}var ud=null,cd=null;function ac(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function hd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fd=null;function Rb(){var t=window.event;return t&&t.type==="popstate"?t===fd?!1:(fd=t,!0):(fd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(xb)}:sv;function xb(t){setTimeout(function(){throw t})}function Tr(t){return t==="head"}function ov(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&tl(_.documentElement),a&2&&tl(_.body),a&4)for(a=_.head,tl(a),_=a.firstChild;_;){var T=_.nextSibling,x=_.nodeName;_[Xr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(h===0){t.removeChild(d),ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);ul(i)}function dd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":dd(a),nr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nb(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function Db(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function md(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ob(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var pd=null;function lv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function uv(t,i,a){switch(i=ac(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);nr(t)}var Nn=new Map,cv=new Set;function oc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=ae.d;ae.d={f:Mb,r:Vb,D:kb,C:Pb,L:Ub,m:Lb,X:zb,S:jb,M:Bb};function Mb(){var t=Li.f(),i=Wu();return t||i}function Vb(t){var i=Hn(t);i!==null&&i.tag===5&&i.type==="form"?Ng(i):Li.r(t)}var Ca=typeof document>"u"?null:document;function hv(t,i,a){var l=Ca;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),cv.has(h)||(cv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ct(i),l.head.appendChild(i)))}}function kb(t){Li.D(t),hv("dns-prefetch",t,null)}function Pb(t,i){Li.C(t,i),hv("preconnect",t,i)}function Ub(t,i,a){Li.L(t,i,a);var l=Ca;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=xa(t);break;case"script":d=Na(t)}Nn.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Nn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(nl(d))||i==="script"&&l.querySelector(il(d))||(i=l.createElement("link"),jt(i,"link",t),ct(i),l.head.appendChild(i)))}}function Lb(t,i){Li.m(t,i);var a=Ca;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Na(t)}if(!Nn.has(d)&&(t=E({rel:"modulepreload",href:t},i),Nn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(il(d)))return}l=a.createElement("link"),jt(l,"link",t),ct(l),a.head.appendChild(l)}}}function jb(t,i,a){Li.S(t,i,a);var l=Ca;if(l&&t){var h=Wt(l).hoistableStyles,d=xa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(nl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Nn.get(d))&&gd(t,a);var x=_=l.createElement("link");ct(x),jt(x,"link",t),x._p=new Promise(function(q,$){x.onload=q,x.onerror=$}),x.addEventListener("load",function(){T.loading|=1}),x.addEventListener("error",function(){T.loading|=2}),T.loading|=4,lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function zb(t,i){Li.X(t,i);var a=Ca;if(a&&t){var l=Wt(a).hoistableScripts,h=Na(t),d=l.get(h);d||(d=a.querySelector(il(h)),d||(t=E({src:t,async:!0},i),(i=Nn.get(h))&&yd(t,i),d=a.createElement("script"),ct(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Bb(t,i){Li.M(t,i);var a=Ca;if(a&&t){var l=Wt(a).hoistableScripts,h=Na(t),d=l.get(h);d||(d=a.querySelector(il(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=Nn.get(h))&&yd(t,i),d=a.createElement("script"),ct(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function fv(t,i,a,l){var h=(h=Ee.current)?oc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xa(a.href),a=Wt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=xa(a.href);var d=Wt(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(nl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Nn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(t,a),d||qb(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Na(a),a=Wt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function xa(t){return'href="'+pt(t)+'"'}function nl(t){return'link[rel="stylesheet"]['+t+"]"}function dv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ct(i),t.head.appendChild(i))}function Na(t){return'[src="'+pt(t)+'"]'}function il(t){return"script[async]"+t}function mv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),jt(l,"style",h),lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=xa(a.href);var d=t.querySelector(nl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=dv(a),(h=Nn.get(h))&&gd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var _=d;return _._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),jt(d,"link",l),i.state.loading|=4,lc(d,a.precedence,t),i.instance=d;case"script":return d=Na(a.src),(h=t.querySelector(il(d)))?(i.instance=h,ct(h),h):(l=a,(h=Nn.get(d))&&(l=E({},a),yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,lc(l,a.precedence,t));return i.instance}function lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var uc=null;function pv(t,i,a){if(uc===null){var l=new Map,h=uc=new Map;h.set(a,l)}else h=uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function gv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Hb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function yv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var rl=null;function Fb(){}function Gb(t,i,a){if(rl===null)throw Error(s(475));var l=rl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=xa(a.href),d=t.querySelector(nl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=dv(a),(h=Nn.get(h))&&gd(a,h),d=d.createElement("link"),ct(d);var _=d;_._p=new Promise(function(T,x){_.onload=T,_.onerror=x}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Kb(){if(rl===null)throw Error(s(475));var t=rl;return t.stylesheets&&t.count===0&&vd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function cc(){if(this.count--,this.count===0){if(this.stylesheets)vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var hc=null;function vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,hc=new Map,i.forEach(Qb,t),hc=null,cc.call(t))}function Qb(t,i){if(!(i.state.loading&4)){var a=hc.get(t);if(a)var l=a.get(null);else{a=new Map,hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var sl={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function Yb(t,i,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function vv(t,i,a,l,h,d,_,T,x,q,$,W){return t=new Yb(t,i,a,_,T,x,q,W),i=1,d===!0&&(i|=24),d=cn(3,null,null,i),t.current=d,d.stateNode=t,i=Wh(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},nf(d),t}function _v(t){return t?(t=oa,t):oa}function Ev(t,i,a,l,h,d){h=_v(h),l.context===null?l.context=h:l.pendingContext=h,l=lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=ur(t,l,i),a!==null&&(pn(a,t,i),ko(a,t,i))}function Tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function _d(t,i){Tv(t,i),(t=t.alternate)&&Tv(t,i)}function bv(t){if(t.tag===13){var i=aa(t,67108864);i!==null&&pn(i,t,67108864),_d(t,67108864)}}var fc=!0;function Xb(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=2,Ed(t,i,a,l)}finally{ae.p=d,X.T=h}}function $b(t,i,a,l){var h=X.T;X.T=null;var d=ae.p;try{ae.p=8,Ed(t,i,a,l)}finally{ae.p=d,X.T=h}}function Ed(t,i,a,l){if(fc){var h=Td(l);if(h===null)od(t,i,l,dc,a),Sv(t,l);else if(Wb(h,t,i,a,l))l.stopPropagation();else if(Sv(t,l),i&4&&-1<Zb.indexOf(t)){for(;h!==null;){var d=Hn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=On(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var x=1<<31-Gt(_);T.entanglements[1]|=x,_&=~x}ii(d),(Fe&6)===0&&($u=vn()+500,Wo(0))}}break;case 13:T=aa(d,2),T!==null&&pn(T,d,2),Wu(),_d(d,2)}if(d=Td(l),d===null&&od(t,i,l,dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else od(t,i,l,null,a)}}function Td(t){return t=Tn(t),bd(t)}var dc=null;function bd(t){if(dc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return dc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sh()){case no:return 2;case js:return 8;case Fr:case wh:return 32;case zs:return 268435456;default:return 32}default:return 32}}var Ad=!1,br=null,Ar=null,Sr=null,al=new Map,ol=new Map,wr=[],Zb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":br=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Sr=null;break;case"pointerover":case"pointerout":al.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ol.delete(i.pointerId)}}function ll(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Hn(i),i!==null&&bv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Wb(t,i,a,l,h){switch(i){case"focusin":return br=ll(br,t,i,a,l,h),!0;case"dragenter":return Ar=ll(Ar,t,i,a,l,h),!0;case"mouseover":return Sr=ll(Sr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return al.set(d,ll(al.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ol.set(d,ll(ol.get(d)||null,t,i,a,l,h)),!0}return!1}function wv(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Wl(t.priority,function(){if(a.tag===13){var l=mn();l=Ji(l);var h=aa(a,l);h!==null&&pn(h,a,l),_d(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Td(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ei=l,a.target.dispatchEvent(l),Ei=null}else return i=Hn(a),i!==null&&bv(i),t.blockedOn=a,!1;i.shift()}return!0}function Rv(t,i,a){mc(t)&&a.delete(i)}function Jb(){Ad=!1,br!==null&&mc(br)&&(br=null),Ar!==null&&mc(Ar)&&(Ar=null),Sr!==null&&mc(Sr)&&(Sr=null),al.forEach(Rv),ol.forEach(Rv)}function pc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ad||(Ad=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Jb)))}var gc=null;function Iv(t){gc!==t&&(gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===t&&(gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(bd(l||a)===null)continue;break}var d=Hn(a);d!==null&&(t.splice(i,3),i-=3,bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ul(t){function i(x){return pc(x,t)}br!==null&&pc(br,t),Ar!==null&&pc(Ar,t),Sr!==null&&pc(Sr,t),al.forEach(i),ol.forEach(i);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)wv(a),a.blockedOn===null&&wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[mt]||null;if(typeof d=="function")_||Iv(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[mt]||null)T=_.formAction;else if(bd(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Iv(a)}}}function Sd(t){this._internalRoot=t}yc.prototype.render=Sd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=mn();Ev(a,l,t,i,null,null)},yc.prototype.unmount=Sd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Ev(t.current,2,null,t,null,null),Wu(),i[_n]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=er();t={blockedOn:null,target:t,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,t),a===0&&wv(t)}};var Cv=e.version;if(Cv!=="19.1.0")throw Error(s(527,Cv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{ot=vc.inject(eA),He=vc}catch{}}return hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Fg,d=Gg,_=Kg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=vv(t,1,!1,null,null,a,l,h,d,_,T,null),t[_n]=i.current,ad(t),new Sd(i)},hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Fg,_=Gg,T=Kg,x=null,q=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(q=a.formState)),i=vv(t,1,!0,i,a??null,l,h,d,_,T,x,q),i.context=_v(null),a=i.current,l=mn(),l=Ji(l),h=lr(l),h.callback=null,ur(a,h,l),a=l,i.current.lanes=a,pi(i,a),ii(i),t[_n]=i.current,ad(t),new yc(i)},hl.version="19.1.0",hl}var jv;function fA(){if(jv)return Id.exports;jv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Id.exports=hA(),Id.exports}var dA=fA();const mA=i0(dA);var fl={},zv;function pA(){if(zv)return fl;zv=1,Object.defineProperty(fl,"__esModule",{value:!0}),fl.parse=f,fl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,b){const N=new u,Y=S.length;if(Y<2)return N;const B=(b==null?void 0:b.decode)||E;let Q=0;do{const se=S.indexOf("=",Q);if(se===-1)break;const te=S.indexOf(";",Q),fe=te===-1?Y:te;if(se>fe){Q=S.lastIndexOf(";",se-1)+1;continue}const ce=m(S,Q,se),we=p(S,se,ce),k=S.slice(ce,we);if(N[k]===void 0){let I=m(S,se+1,fe),C=p(S,fe,I);const M=B(S.slice(I,C));N[k]=M}Q=fe+1}while(Q<Y);return N}function m(S,b,N){do{const Y=S.charCodeAt(b);if(Y!==32&&Y!==9)return b}while(++b<N);return N}function p(S,b,N){for(;b>N;){const Y=S.charCodeAt(--b);if(Y!==32&&Y!==9)return b+1}return N}function y(S,b,N){const Y=(N==null?void 0:N.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const B=Y(b);if(!e.test(B))throw new TypeError(`argument val is invalid: ${b}`);let Q=S+"="+B;if(!N)return Q;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);Q+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);Q+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);Q+="; Path="+N.path}if(N.expires){if(!R(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);Q+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(Q+="; HttpOnly"),N.secure&&(Q+="; Secure"),N.partitioned&&(Q+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return Q}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function R(S){return o.call(S)==="[object Date]"}return fl}pA();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bv="popstate";function gA(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ks(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Gd("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof u=="string"?u:Sl(u))}function s(o,u){zn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return vA(e,n,s,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yA(){return Math.random().toString(36).substring(2,10)}function qv(r,e){return{usr:r.state,key:r.key,idx:e}}function Gd(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ks(e):e,state:n,key:e&&e.key||s||yA()}}function Sl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ks(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function vA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function R(){m="POP";let B=E(),Q=B==null?null:B-y;y=B,p&&p({action:m,location:Y.location,delta:Q})}function S(B,Q){m="PUSH";let se=Gd(Y.location,B,Q);n&&n(se,B),y=E()+1;let te=qv(se,y),fe=Y.createHref(se);try{f.pushState(te,"",fe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(fe)}u&&p&&p({action:m,location:Y.location,delta:1})}function b(B,Q){m="REPLACE";let se=Gd(Y.location,B,Q);n&&n(se,B),y=E();let te=qv(se,y),fe=Y.createHref(se);f.replaceState(te,"",fe),u&&p&&p({action:m,location:Y.location,delta:0})}function N(B){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,se=typeof B=="string"?B:Sl(B);return se=se.replace(/ $/,"%20"),rt(Q,`No window.location.(origin|href) available to create URL for href: ${se}`),new URL(se,Q)}let Y={get action(){return m},get location(){return r(o,f)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Bv,R),p=B,()=>{o.removeEventListener(Bv,R),p=null}},createHref(B){return e(o,B)},createURL:N,encodeLocation(B){let Q=N(B);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:b,go(B){return f.go(B)}};return Y}function s0(r,e,n="/"){return _A(r,e,n,!1)}function _A(r,e,n,s){let o=typeof e=="string"?ks(e):e,u=Fi(o.pathname||"/",n);if(u==null)return null;let f=a0(r);EA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=DA(u);m=xA(f[p],y,s)}return m}function a0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Hi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),a0(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:IA(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of o0(u.path))o(u,f,p)}),e}function o0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=o0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function EA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:CA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,bA=3,AA=2,SA=1,wA=10,RA=-2,Hv=r=>r==="*";function IA(r,e){let n=r.split("/"),s=n.length;return n.some(Hv)&&(s+=RA),e&&(s+=AA),n.filter(o=>!Hv(o)).reduce((o,u)=>o+(TA.test(u)?bA:u===""?SA:wA),s)}function CA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function xA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!R&&y&&n&&!s[s.length-1].route.index&&(R=Uc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!R)return null;Object.assign(o,R.params),f.push({params:o,pathname:Hi([u,R.pathname]),pathnameBase:kA(Hi([u,R.pathnameBase])),route:S}),R.pathnameBase!=="/"&&(u=Hi([u,R.pathnameBase]))}return f}function Uc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=NA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:R},S)=>{if(E==="*"){let N=m[S]||"";f=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const b=m[S];return R&&!b?y[E]=void 0:y[E]=(b||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function NA(r,e=!1,n=!0){zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function OA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ks(r):r;return{pathname:n?n.startsWith("/")?n:MA(n,e):e,search:PA(s),hash:UA(o)}}function MA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Dd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function l0(r){let e=VA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function u0(r,e,n,s=!1){let o;typeof r=="string"?o=ks(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),Dd("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Dd("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Dd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let R=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),R-=1;o.pathname=S.join("/")}m=R>=0?e[R]:"/"}let p=OA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,UA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function LA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var c0=["POST","PUT","PATCH","DELETE"];new Set(c0);var jA=["GET",...c0];new Set(jA);var Xa=G.createContext(null);Xa.displayName="DataRouter";var eh=G.createContext(null);eh.displayName="DataRouterState";var h0=G.createContext({isTransitioning:!1});h0.displayName="ViewTransition";var zA=G.createContext(new Map);zA.displayName="Fetchers";var BA=G.createContext(null);BA.displayName="Await";var fi=G.createContext(null);fi.displayName="Navigation";var Vl=G.createContext(null);Vl.displayName="Location";var $i=G.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var vm=G.createContext(null);vm.displayName="RouteError";function qA(r,{relative:e}={}){rt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(fi),{hash:o,pathname:u,search:f}=Pl(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Hi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function kl(){return G.useContext(Vl)!=null}function Ps(){return rt(kl(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Vl).location}var f0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d0(r){G.useContext(fi).static||G.useLayoutEffect(r)}function HA(){let{isDataRoute:r}=G.useContext($i);return r?nS():FA()}function FA(){rt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Xa),{basename:e,navigator:n}=G.useContext(fi),{matches:s}=G.useContext($i),{pathname:o}=Ps(),u=JSON.stringify(l0(s)),f=G.useRef(!1);return d0(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(zn(f.current,f0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=u0(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Hi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}G.createContext(null);function Pl(r,{relative:e}={}){let{matches:n}=G.useContext($i),{pathname:s}=Ps(),o=JSON.stringify(l0(n));return G.useMemo(()=>u0(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function GA(r,e){return m0(r,e)}function m0(r,e,n,s){var se;rt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(fi),{matches:f}=G.useContext($i),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",R=m&&m.route;{let te=R&&R.path||"";p0(y,!R||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=Ps(),b;if(e){let te=typeof e=="string"?ks(e):e;rt(E==="/"||((se=te.pathname)==null?void 0:se.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),b=te}else b=S;let N=b.pathname||"/",Y=N;if(E!=="/"){let te=E.replace(/^\//,"").split("/");Y="/"+N.replace(/^\//,"").split("/").slice(te.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:s0(r,{pathname:Y});zn(R||B!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),zn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=$A(B&&B.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Hi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Hi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&Q?G.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},Q):Q}function KA(){let r=tS(),e=LA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var QA=G.createElement(KA,null),YA=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement($i.Provider,{value:this.props.routeContext},G.createElement(vm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XA({routeContext:r,match:e,children:n}){let s=G.useContext(Xa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement($i.Provider,{value:r},n)}function $A(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:R}=n,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!R||R[y.route.id]===void 0);if(y.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let R,S=!1,b=null,N=null;n&&(R=u&&y.route.id?u[y.route.id]:void 0,b=y.route.errorElement||QA,f&&(m<0&&E===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):m===E&&(S=!0,N=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),B=()=>{let Q;return R?Q=b:S?Q=N:y.route.Component?Q=G.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,G.createElement(XA,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?G.createElement(YA,{location:n.location,revalidation:n.revalidation,component:b,error:R,children:B(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):B()},null)}function _m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(r){let e=G.useContext(Xa);return rt(e,_m(r)),e}function WA(r){let e=G.useContext(eh);return rt(e,_m(r)),e}function JA(r){let e=G.useContext($i);return rt(e,_m(r)),e}function Em(r){let e=JA(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function eS(){return Em("useRouteId")}function tS(){var s;let r=G.useContext(vm),e=WA("useRouteError"),n=Em("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function nS(){let{router:r}=ZA("useNavigate"),e=Em("useNavigate"),n=G.useRef(!1);return d0(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{zn(n.current,f0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Fv={};function p0(r,e,n){!e&&!Fv[r]&&(Fv[r]=!0,zn(!1,n))}G.memo(iS);function iS({routes:r,future:e,state:n}){return m0(r,void 0,n,e)}function Da(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ks(n));let{pathname:p="/",search:y="",hash:E="",state:R=null,key:S="default"}=n,b=G.useMemo(()=>{let N=Fi(p,f);return N==null?null:{location:{pathname:N,search:y,hash:E,state:R,key:S},navigationType:s}},[f,p,y,E,R,S,s]);return zn(b!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:G.createElement(fi.Provider,{value:m},G.createElement(Vl.Provider,{children:e,value:b}))}function sS({children:r,location:e}){return GA(Kd(r),e)}function Kd(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,Kd(s.props.children,u));return}rt(s.type===Da,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Kd(s.props.children,u)),n.push(f)}),n}var Rc="get",Ic="application/x-www-form-urlencoded";function th(r){return r!=null&&typeof r.tagName=="string"}function aS(r){return th(r)&&r.tagName.toLowerCase()==="button"}function oS(r){return th(r)&&r.tagName.toLowerCase()==="form"}function lS(r){return th(r)&&r.tagName.toLowerCase()==="input"}function uS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cS(r,e){return r.button===0&&(!e||e==="_self")&&!uS(r)}var _c=null;function hS(){if(_c===null)try{new FormData(document.createElement("form"),0),_c=!1}catch{_c=!0}return _c}var fS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Od(r){return r!=null&&!fS.has(r)?(zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ic}"`),null):r}function dS(r,e){let n,s,o,u,f;if(oS(r)){let m=r.getAttribute("action");s=m?Fi(m,e):null,n=r.getAttribute("method")||Rc,o=Od(r.getAttribute("enctype"))||Ic,u=new FormData(r)}else if(aS(r)||lS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?Fi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Rc,o=Od(r.getAttribute("formenctype"))||Od(m.getAttribute("enctype"))||Ic,u=new FormData(m,r),!hS()){let{name:y,type:E,value:R}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,R)}}else{if(th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Rc,s=null,o=Ic,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Tm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function mS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mS(u,n);return f.links?f.links():[]}return[]}));return ES(s.flat(1).filter(pS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Gv(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var R;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function yS(r,e,{includeHydrateFallback:n}={}){return vS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function vS(r){return[...new Set(r)]}function _S(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ES(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(_S(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function TS(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&Fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function g0(){let r=G.useContext(Xa);return Tm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function bS(){let r=G.useContext(eh);return Tm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var bm=G.createContext(void 0);bm.displayName="FrameworkContext";function y0(){let r=G.useContext(bm);return Tm(r,"You must render this element inside a <HydratedRouter> element"),r}function AS(r,e){let n=G.useContext(bm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:R}=e,S=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=Q=>{Q.forEach(se=>{f(se.isIntersecting)})},B=new IntersectionObserver(Y,{threshold:.5});return S.current&&B.observe(S.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let b=()=>{o(!0)},N=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:dl(m,b),onBlur:dl(p,N),onMouseEnter:dl(y,b),onMouseLeave:dl(E,N),onTouchStart:dl(R,b)}]:[!1,S,{}]}function dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function SS({page:r,...e}){let{router:n}=g0(),s=G.useMemo(()=>s0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(RS,{page:r,matches:s,...e}):null}function wS(r){let{manifest:e,routeModules:n}=y0(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return gS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function RS({page:r,matches:e,...n}){let s=Ps(),{manifest:o,routeModules:u}=y0(),{basename:f}=g0(),{loaderData:m,matches:p}=bS(),y=G.useMemo(()=>Gv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=G.useMemo(()=>Gv(r,e,p,o,s,"assets"),[r,e,p,o,s]),R=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let N=new Set,Y=!1;if(e.forEach(Q=>{var te;let se=o.routes[Q.route.id];!se||!se.hasLoader||(!y.some(fe=>fe.route.id===Q.route.id)&&Q.route.id in m&&((te=u[Q.route.id])!=null&&te.shouldRevalidate)||se.hasClientLoader?Y=!0:N.add(Q.route.id))}),N.size===0)return[];let B=TS(r,f);return Y&&N.size>0&&B.searchParams.set("_routes",e.filter(Q=>N.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[B.pathname+B.search]},[f,m,s,o,y,e,r,u]),S=G.useMemo(()=>yS(E,o),[E,o]),b=wS(E);return G.createElement(G.Fragment,null,R.map(N=>G.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),S.map(N=>G.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),b.map(({key:N,link:Y})=>G.createElement("link",{key:N,...Y})))}function IS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.4.1")}catch{}function CS({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=gA({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(rS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E0=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:R,...S},b){let{basename:N}=G.useContext(fi),Y=typeof y=="string"&&_0.test(y),B,Q=!1;if(typeof y=="string"&&Y&&(B=y,v0))try{let C=new URL(window.location.href),M=y.startsWith("//")?new URL(C.protocol+y):new URL(y),P=Fi(M.pathname,N);M.origin===C.origin&&P!=null?y=P+M.search+M.hash:Q=!0}catch{zn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=qA(y,{relative:o}),[te,fe,ce]=AS(s,S),we=DS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:R});function k(C){e&&e(C),C.defaultPrevented||we(C)}let I=G.createElement("a",{...S,...ce,href:B||se,onClick:Q||u?e:k,ref:IS(b,fe),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return te&&!Y?G.createElement(G.Fragment,null,I,G.createElement(SS,{page:se})):I});E0.displayName="Link";var Oa=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let R=Pl(f,{relative:y.relative}),S=Ps(),b=G.useContext(eh),{navigator:N,basename:Y}=G.useContext(fi),B=b!=null&&PS(R)&&m===!0,Q=N.encodeLocation?N.encodeLocation(R).pathname:R.pathname,se=S.pathname,te=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(se=se.toLowerCase(),te=te?te.toLowerCase():null,Q=Q.toLowerCase()),te&&Y&&(te=Fi(te,Y)||te);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ce=se===Q||!o&&se.startsWith(Q)&&se.charAt(fe)==="/",we=te!=null&&(te===Q||!o&&te.startsWith(Q)&&te.charAt(Q.length)==="/"),k={isActive:ce,isPending:we,isTransitioning:B},I=ce?e:void 0,C;typeof s=="function"?C=s(k):C=[s,ce?"active":null,we?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(k):u;return G.createElement(E0,{...y,"aria-current":I,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(k):p)});Oa.displayName="NavLink";var xS=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Rc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:R,...S},b)=>{let N=VS(),Y=kS(m,{relative:y}),B=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&_0.test(m),se=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,ce=(fe==null?void 0:fe.getAttribute("formmethod"))||f;N(fe||te.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:R})};return G.createElement("form",{ref:b,method:B,action:Y,onSubmit:s?p:se,...S,"data-discover":!Q&&r==="render"?"true":void 0})});xS.displayName="Form";function NS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(r){let e=G.useContext(Xa);return rt(e,NS(r)),e}function DS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=HA(),p=Ps(),y=Pl(r,{relative:u});return G.useCallback(E=>{if(cS(E,e)){E.preventDefault();let R=n!==void 0?n:Sl(p)===Sl(y);m(r,{replace:R,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var OS=0,MS=()=>`__${String(++OS)}__`;function VS(){let{router:r}=T0("useSubmit"),{basename:e}=G.useContext(fi),n=eS();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=dS(s,e);if(o.navigate===!1){let E=o.fetcherKey||MS();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function kS(r,{relative:e}={}){let{basename:n}=G.useContext(fi),s=G.useContext($i);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Pl(r||".",{relative:e})},f=Ps();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(R=>R).forEach(R=>m.append("index",R));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Hi([n,u.pathname])),Sl(u)}function PS(r,e={}){let n=G.useContext(h0);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),o=Pl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Uc(o.pathname,f)!=null||Uc(o.pathname,u)!=null}new TextEncoder;var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},US=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,R=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,b=y&63;p||(b=64,f||(S=64)),s.push(n[E],n[R],n[S],n[b])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(b0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):US(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const R=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||R==null)throw new LS;const S=u<<2|m>>4;if(s.push(S),y!==64){const b=m<<4&240|y>>2;if(s.push(b),R!==64){const N=y<<6&192|R;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jS=function(r){const e=b0(r);return A0.encodeByteArray(e,!0)},Lc=function(r){return jS(r).replace(/\./g,"")},S0=function(r){try{return A0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=()=>zS().__FIREBASE_DEFAULTS__,qS=()=>{if(typeof process>"u"||typeof Kv>"u")return;const r=Kv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&S0(r[1]);return e&&JSON.parse(e)},nh=()=>{try{return BS()||qS()||HS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},w0=r=>{var e,n;return(n=(e=nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},FS=r=>{const e=w0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},R0=()=>{var r;return(r=nh())===null||r===void 0?void 0:r.config},I0=r=>{var e;return(e=nh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Lc(JSON.stringify(n)),Lc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function YS(){var r;const e=(r=nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $S(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WS(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function JS(){return!YS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ew(){try{return typeof indexedDB=="object"}catch{return!1}}function tw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nw,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Zi(o,m,s)}}function iw(r,e){return r.replace(rw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rw=/\{\$([^}]+)}/g;function sw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function jc(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Qv(u)&&Qv(f)){if(!jc(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function aw(r,e){const n=new ow(r,e);return n.subscribe.bind(n)}class ow{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r){return r&&r._delegate?r._delegate:r}class xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new GS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hw(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cw(r){return r===Ss?void 0:r}function hw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const dw={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},mw=Me.INFO,pw={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Am{constructor(e){this.name=e,this._logLevel=mw,this._logHandler=gw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const yw=(r,e)=>e.some(n=>r instanceof n);let Yv,Xv;function vw(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _w(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const C0=new WeakMap,Qd=new WeakMap,x0=new WeakMap,Vd=new WeakMap,Sm=new WeakMap;function Ew(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Or(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&C0.set(n,r)}).catch(()=>{}),Sm.set(e,r),e}function Tw(r){if(Qd.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qd.set(r,e)}let Yd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||x0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Or(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function bw(r){Yd=r(Yd)}function Aw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(kd(this),e,...n);return x0.set(s,e.sort?e.sort():[e]),Or(s)}:_w().includes(r)?function(...e){return r.apply(kd(this),e),Or(C0.get(this))}:function(...e){return Or(r.apply(kd(this),e))}}function Sw(r){return typeof r=="function"?Aw(r):(r instanceof IDBTransaction&&Tw(r),yw(r,vw())?new Proxy(r,Yd):r)}function Or(r){if(r instanceof IDBRequest)return Ew(r);if(Vd.has(r))return Vd.get(r);const e=Sw(r);return e!==r&&(Vd.set(r,e),Sm.set(e,r)),e}const kd=r=>Sm.get(r);function ww(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Or(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Or(f.result),p.oldVersion,p.newVersion,Or(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Rw=["get","getKey","getAll","getAllKeys","count"],Iw=["put","add","delete","clear"],Pd=new Map;function $v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Pd.get(e))return Pd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Iw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Rw.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Pd.set(e,u),u}bw(r=>({...r,get:(e,n,s)=>$v(e,n)||r.get(e,n,s),has:(e,n)=>!!$v(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function xw(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xd="@firebase/app",Zv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi=new Am("@firebase/app"),Nw="@firebase/app-compat",Dw="@firebase/analytics-compat",Ow="@firebase/analytics",Mw="@firebase/app-check-compat",Vw="@firebase/app-check",kw="@firebase/auth",Pw="@firebase/auth-compat",Uw="@firebase/database",Lw="@firebase/data-connect",jw="@firebase/database-compat",zw="@firebase/functions",Bw="@firebase/functions-compat",qw="@firebase/installations",Hw="@firebase/installations-compat",Fw="@firebase/messaging",Gw="@firebase/messaging-compat",Kw="@firebase/performance",Qw="@firebase/performance-compat",Yw="@firebase/remote-config",Xw="@firebase/remote-config-compat",$w="@firebase/storage",Zw="@firebase/storage-compat",Ww="@firebase/firestore",Jw="@firebase/vertexai-preview",eR="@firebase/firestore-compat",tR="firebase",nR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="[DEFAULT]",iR={[Xd]:"fire-core",[Nw]:"fire-core-compat",[Ow]:"fire-analytics",[Dw]:"fire-analytics-compat",[Vw]:"fire-app-check",[Mw]:"fire-app-check-compat",[kw]:"fire-auth",[Pw]:"fire-auth-compat",[Uw]:"fire-rtdb",[Lw]:"fire-data-connect",[jw]:"fire-rtdb-compat",[zw]:"fire-fn",[Bw]:"fire-fn-compat",[qw]:"fire-iid",[Hw]:"fire-iid-compat",[Fw]:"fire-fcm",[Gw]:"fire-fcm-compat",[Kw]:"fire-perf",[Qw]:"fire-perf-compat",[Yw]:"fire-rc",[Xw]:"fire-rc-compat",[$w]:"fire-gcs",[Zw]:"fire-gcs-compat",[Ww]:"fire-fst",[eR]:"fire-fst-compat",[Jw]:"fire-vertex","fire-js":"fire-js",[tR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new Map,rR=new Map,Zd=new Map;function Wv(r,e){try{r.container.addComponent(e)}catch(n){Gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function za(r){const e=r.name;if(Zd.has(e))return Gi.debug(`There were multiple attempts to register component ${e}.`),!1;Zd.set(e,r);for(const n of wl.values())Wv(n,r);for(const n of rR.values())Wv(n,r);return!0}function wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ji(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Ul("app","Firebase",sR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=nR;function Rm(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:$d,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(n||(n=R0()),!n)throw Mr.create("no-options");const u=wl.get(o);if(u){if(jc(n,u.options)&&jc(s,u.config))return u;throw Mr.create("duplicate-app",{appName:o})}const f=new fw(o);for(const p of Zd.values())f.addComponent(p);const m=new aR(n,s,f);return wl.set(o,m),m}function Im(r=$d){const e=wl.get(r);if(!e&&r===$d&&R0())return Rm();if(!e)throw Mr.create("no-app",{appName:r});return e}function oR(){return Array.from(wl.values())}function Vr(r,e,n){var s;let o=(s=iR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gi.warn(m.join(" "));return}za(new xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebase-heartbeat-database",uR=1,Rl="firebase-heartbeat-store";let Ud=null;function N0(){return Ud||(Ud=ww(lR,uR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Rl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Mr.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function cR(r){try{const n=(await N0()).transaction(Rl),s=await n.objectStore(Rl).get(D0(r));return await n.done,s}catch(e){if(e instanceof Zi)Gi.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gi.warn(n.message)}}}async function Jv(r,e){try{const s=(await N0()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(e,D0(r)),await s.done}catch(n){if(n instanceof Zi)Gi.warn(n.message);else{const s=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gi.warn(s.message)}}}function D0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1024,fR=30*24*60*60*1e3;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=e_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=fR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e_(),{heartbeatsToSend:s,unsentEntries:o}=mR(this._heartbeatsCache.heartbeats),u=Lc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Gi.warn(n),""}}}function e_(){return new Date().toISOString().substring(0,10)}function mR(r,e=hR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),t_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),t_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class pR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ew()?tw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Jv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function t_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(r){za(new xs("platform-logger",e=>new Cw(e),"PRIVATE")),za(new xs("heartbeat",e=>new dR(e),"PRIVATE")),Vr(Xd,Zv,r),Vr(Xd,Zv,"esm2017"),Vr("fire-js","")}gR("");function Cm(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yR=O0,M0=new Ul("auth","Firebase",O0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Am("@firebase/auth");function vR(r,...e){zc.logLevel<=Me.WARN&&zc.warn(`Auth (${$a}): ${r}`,...e)}function Cc(r,...e){zc.logLevel<=Me.ERROR&&zc.error(`Auth (${$a}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r,...e){throw Nm(r,...e)}function Ln(r,...e){return Nm(r,...e)}function xm(r,e,n){const s=Object.assign(Object.assign({},yR()),{[e]:n});return new Ul("auth","Firebase",s).create(e,{appName:r.name})}function Is(r){return xm(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _R(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ui(r,"argument-error"),xm(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return M0.create(r,...e)}function Te(r,e,...n){if(!r)throw Nm(e,...n)}function zi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Cc(e),new Error(e)}function Ki(r,e){r||zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ER(){return n_()==="http:"||n_()==="https:"}function n_(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ER()||$S()||"connection"in navigator)?navigator.onLine:!0}function bR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=QS()||ZS()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(r,e){Ki(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=new jl(3e4,6e4);function Om(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Za(r,e,n,s,o={}){return k0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=Ll(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return XS()||(y.referrerPolicy="no-referrer"),V0.fetch()(P0(r,r.config.apiHost,n,m),y)})}async function k0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},AR),e);try{const o=new RR(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Ec(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ec(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Ec(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Ec(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw xm(r,E,y);ui(r,E)}}catch(o){if(o instanceof Zi)throw o;ui(r,"network-request-failed",{message:String(o)})}}async function wR(r,e,n,s,o={}){const u=await Za(r,e,n,s,o);return"mfaPendingCredential"in u&&ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}function P0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Dm(r.config,o):`${r.config.apiScheme}://${o}`}class RR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ln(this.auth,"network-request-failed")),SR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ec(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ln(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(r,e){return Za(r,"POST","/v1/accounts:delete",e)}async function U0(r,e){return Za(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(r,e=!1){const n=Ht(r),s=await n.getIdToken(e),o=Mm(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:_l(Ld(o.auth_time)),issuedAtTime:_l(Ld(o.iat)),expirationTime:_l(Ld(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Ld(r){return Number(r)*1e3}function Mm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const o=S0(n);return o?JSON.parse(o):(Cc("Failed to decode base64 JWT payload"),null)}catch(o){return Cc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function i_(r){const e=Mm(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&xR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function xR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_l(this.lastLoginAt),this.creationTime=_l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Il(r,U0(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?L0(u.providerUserInfo):[],m=OR(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?y:!1,R={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Jd(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,R)}async function DR(r){const e=Ht(r);await Bc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OR(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function L0(r){return r.map(e=>{var{providerId:n}=e,s=Cm(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(r,e){const n=await k0(r,{},async()=>{const s=Ll({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=P0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",V0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VR(r,e){return Za(r,"POST","/v2/accounts:revokeToken",Om(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=i_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MR(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Pa;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pa,this.toJSON())}_performRefresh(){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new NR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Jd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return CR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await Il(this,IR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,E;const R=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,b=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,N=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=n.createdAt)!==null&&y!==void 0?y:void 0,se=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:fe,isAnonymous:ce,providerData:we,stsTokenManager:k}=n;Te(te&&k,e,"internal-error");const I=Pa.fromJSON(this.name,k);Te(typeof te=="string",e,"internal-error"),Ir(R,e.name),Ir(S,e.name),Te(typeof fe=="boolean",e,"internal-error"),Te(typeof ce=="boolean",e,"internal-error"),Ir(b,e.name),Ir(N,e.name),Ir(Y,e.name),Ir(B,e.name),Ir(Q,e.name),Ir(se,e.name);const C=new Bi({uid:te,auth:e,email:S,emailVerified:fe,displayName:R,isAnonymous:ce,photoURL:N,phoneNumber:b,tenantId:Y,stsTokenManager:I,createdAt:Q,lastLoginAt:se});return we&&Array.isArray(we)&&(C.providerData=we.map(M=>Object.assign({},M))),B&&(C._redirectEventId=B),C}static async _fromIdTokenResponse(e,n,s=!1){const o=new Pa;o.updateFromServerResponse(n);const u=new Bi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bc(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?L0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Pa;m.updateFromIdToken(s);const p=new Bi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Jd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;function qi(r){Ki(r instanceof Function,"Expected a class definition");let e=r_.get(r);return e?(Ki(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,r_.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}j0.type="NONE";const s_=j0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ua{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ua(qi(s_),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||qi(s_);const f=xc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const R=Bi._fromJSON(e,E);y!==u&&(m=R),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ua(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ua(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(G0(e))return"Blackberry";if(K0(e))return"Webos";if(B0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(F0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z0(r=Zt()){return/firefox\//i.test(r)}function B0(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(r=Zt()){return/crios\//i.test(r)}function H0(r=Zt()){return/iemobile/i.test(r)}function F0(r=Zt()){return/android/i.test(r)}function G0(r=Zt()){return/blackberry/i.test(r)}function K0(r=Zt()){return/webos/i.test(r)}function Vm(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kR(r=Zt()){var e;return Vm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function PR(){return WS()&&document.documentMode===10}function Q0(r=Zt()){return Vm(r)||F0(r)||K0(r)||G0(r)||/windows phone/i.test(r)||H0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,e=[]){let n;switch(r){case"Browser":n=a_(Zt());break;case"Worker":n=`${a_(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$a}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e={}){return Za(r,"GET","/v2/passwordPolicy",Om(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=6;class zR{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:jR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Ua.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await U0(this,{idToken:e}),s=await Bi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ji(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Is(this));const n=e?Ht(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LR(this),n=new zR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qi(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Ua.create(this,[qi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ih(r){return Ht(r)}class o_{constructor(e){this.auth=e,this.observer=null,this.addObserver=aw(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qR(r){km=r}function HR(r){return km.loadJS(r)}function FR(){return km.gapiScript}function GR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r,e){const n=wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(jc(u,e??{}))return o;ui(o,"already-initialized")}return n.initialize({options:e})}function QR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(qi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function YR(r,e,n){const s=ih(r);Te(s._canInitEmulator,s,"emulator-config-failed"),Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=X0(e),{host:f,port:m}=XR(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${f}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),$R()}function X0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XR(r){const e=X0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:l_(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:l_(f)}}}function l_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $R(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zi("not implemented")}_getIdTokenResponse(e){return zi("not implemented")}_linkToIdToken(e,n){return zi("not implemented")}_getReauthenticationResolver(e){return zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r,e){return wR(r,"POST","/v1/accounts:signInWithIdp",Om(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="http://localhost";class Ns extends $0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ns(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Cm(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ns(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return La(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,La(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,La(e,n)}buildRequest(){const e={requestUri:ZR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ll(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Pm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends zl{constructor(){super("facebook.com")}static credential(e){return Ns._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends zl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ns._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ri.credential(n,s)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends zl{constructor(){super("github.com")}static credential(e){return Ns._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.GITHUB_SIGN_IN_METHOD="github.com";xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends zl{constructor(){super("twitter.com")}static credential(e,n){return Ns._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bi._fromIdTokenResponse(e,s,o),f=u_(s);return new Ba({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=u_(s);return new Ba({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function u_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends Zi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qc.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qc(e,n,s,o)}}function Z0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qc._fromErrorAndOperation(r,u,e,s):u})}async function WR(r,e,n=!1){const s=await Il(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ba._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,e,n=!1){const{auth:s}=r;if(ji(s.app))return Promise.reject(Is(s));const o="reauthenticate";try{const u=await Il(r,Z0(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Mm(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),Ba._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(r,e,n=!1){if(ji(r.app))return Promise.reject(Is(r));const s="signIn",o=await Z0(r,s,e),u=await Ba._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function t1(r,e,n,s){return Ht(r).onIdTokenChanged(e,n,s)}function n1(r,e,n){return Ht(r).beforeAuthStateChanged(e,n)}function i1(r,e,n,s){return Ht(r).onAuthStateChanged(e,n,s)}function r1(r){return Ht(r).signOut()}const Hc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hc,"1"),this.storage.removeItem(Hc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1e3,a1=10;class J0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,a1):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},s1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J0.type="LOCAL";const o1=J0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eE.type="SESSION";const tE=eE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await l1(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Um("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(R){const S=R;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(){return window}function c1(r){si().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(){return typeof si().WorkerGlobalScope<"u"&&typeof si().importScripts=="function"}async function h1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f1(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function d1(){return nE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firebaseLocalStorageDb",m1=1,Fc="firebaseLocalStorage",rE="fbase_key";class Bl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sh(r,e){return r.transaction([Fc],e?"readwrite":"readonly").objectStore(Fc)}function p1(){const r=indexedDB.deleteDatabase(iE);return new Bl(r).toPromise()}function em(){const r=indexedDB.open(iE,m1);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fc,{keyPath:rE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fc)?e(s):(s.close(),await p1(),e(await em()))})})}async function c_(r,e,n){const s=sh(r,!0).put({[rE]:e,value:n});return new Bl(s).toPromise()}async function g1(r,e){const n=sh(r,!1).get(e),s=await new Bl(n).toPromise();return s===void 0?null:s.value}function h_(r,e){const n=sh(r,!0).delete(e);return new Bl(n).toPromise()}const y1=800,v1=3;class sE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await em(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>v1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rh._getInstance(d1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await h1(),!this.activeServiceWorker)return;this.sender=new u1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await em();return await c_(e,Hc,"1"),await h_(e,Hc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>c_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>g1(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sh(o,!1).getAll();return new Bl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),y1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sE.type="LOCAL";const _1=sE;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(r,e){return e?qi(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends $0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return La(e,this._buildIdpRequest())}_linkToIdToken(e,n){return La(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return La(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E1(r){return e1(r.auth,new Lm(r),r.bypassAuthState)}function T1(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),JR(n,new Lm(r),r.bypassAuthState)}async function b1(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),WR(n,new Lm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E1;case"linkViaPopup":case"linkViaRedirect":return b1;case"reauthViaPopup":case"reauthViaRedirect":return T1;default:ui(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new jl(2e3,1e4);async function S1(r,e,n){if(ji(r.app))return Promise.reject(Ln(r,"operation-not-supported-in-this-environment"));const s=ih(r);_R(r,e,Pm);const o=aE(s,n);return new ws(s,"signInViaPopup",e,o).executeNotNull()}class ws extends oE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Um();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,A1.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="pendingRedirect",Nc=new Map;class R1 extends oE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const s=await I1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I1(r,e){const n=N1(e),s=x1(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function C1(r,e){Nc.set(r._key(),e)}function x1(r){return qi(r._redirectPersistence)}function N1(r){return xc(w1,r.config.apiKey,r.name)}async function D1(r,e,n=!1){if(ji(r.app))return Promise.reject(Is(r));const s=ih(r),o=aE(s,e),f=await new R1(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=10*60*1e3;class M1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!lE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ln(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O1&&this.cachedEventUids.clear(),this.cachedEventUids.has(f_(e))}saveEventToCache(e){this.cachedEventUids.add(f_(e)),this.lastProcessedEventTime=Date.now()}}function f_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function lE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1(r,e={}){return Za(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,U1=/^https?/;async function L1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await k1(r);for(const n of e)try{if(j1(n))return}catch{}ui(r,"unauthorized-domain")}function j1(r){const e=Wd(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!U1.test(n))return!1;if(P1.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new jl(3e4,6e4);function d_(){const r=si().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function B1(r){return new Promise((e,n)=>{var s,o,u;function f(){d_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d_(),n(Ln(r,"network-request-failed"))},timeout:z1.get()})}if(!((o=(s=si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=si().gapi)===null||u===void 0)&&u.load)f();else{const m=GR("iframefcb");return si()[m]=()=>{gapi.load?f():n(Ln(r,"network-request-failed"))},HR(`${FR()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function q1(r){return Dc=Dc||B1(r),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=new jl(5e3,15e3),F1="__/auth/iframe",G1="emulator/auth/iframe",K1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y1(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dm(e,G1):`https://${r.config.authDomain}/${F1}`,s={apiKey:e.apiKey,appName:r.name,v:$a},o=Q1.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ll(s).slice(1)}`}async function X1(r){const e=await q1(r),n=si().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:Y1(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K1,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ln(r,"network-request-failed"),m=si().setTimeout(()=>{u(f)},H1.get());function p(){si().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z1=500,W1=600,J1="_blank",eI="http://localhost";class m_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tI(r,e,n,s=Z1,o=W1){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},$1),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Zt().toLowerCase();n&&(m=q0(y)?J1:n),z0(y)&&(e=e||eI,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[b,N])=>`${S}${b}=${N},`,"");if(kR(y)&&m!=="_self")return nI(e||"",m),new m_(null);const R=window.open(e||"",m,E);Te(R,r,"popup-blocked");try{R.focus()}catch{}return new m_(R)}function nI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="__/auth/handler",rI="emulator/auth/handler",sI=encodeURIComponent("fac");async function p_(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:$a,eventId:o};if(e instanceof Pm){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sw(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,R]of Object.entries({}))f[E]=R}if(e instanceof zl){const E=e.getScopes().filter(R=>R!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),y=p?`#${sI}=${encodeURIComponent(p)}`:"";return`${aI(r)}?${Ll(m).slice(1)}${y}`}function aI({config:r}){return r.emulator?Dm(r,rI):`https://${r.authDomain}/${iI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="webStorageSupport";class oI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tE,this._completeRedirectFn=D1,this._overrideRedirectResult=C1}async _openPopup(e,n,s,o){var u;Ki((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await p_(e,n,s,Wd(),o);return tI(e,f,Um())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await p_(e,n,s,Wd(),o);return c1(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ki(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await X1(e),s=new M1(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jd,{type:jd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[jd];f!==void 0&&n(!!f),ui(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||B0()||Vm()}}const lI=oI;var g_="@firebase/auth",y_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hI(r){za(new xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},y=new BR(s,o,u,p);return QR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),za(new xs("auth-internal",e=>{const n=ih(e.getProvider("auth").getImmediate());return(s=>new uI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(g_,y_,cI(r)),Vr(g_,y_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=5*60,dI=I0("authIdTokenMaxAge")||fI;let v_=null;const mI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>dI)return;const o=n==null?void 0:n.token;v_!==o&&(v_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function pI(r=Im()){const e=wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KR(r,{popupRedirectResolver:lI,persistence:[_1,o1,tE]}),s=I0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=mI(u.toString());n1(n,f,()=>f(n.currentUser)),t1(n,m=>f(m))}}const o=w0("auth");return o&&YR(n,`http://${o}`),n}function gI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}qR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ln("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",gI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hI("Browser");var yI="firebase",vI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(yI,vI,"app");var __=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Cs,uE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,I){function C(){}C.prototype=I.prototype,k.D=I.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(M,P,L){for(var D=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)D[Vt-2]=arguments[Vt];return I.prototype[P].apply(M,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,I,C){C||(C=0);var M=Array(16);if(typeof I=="string")for(var P=0;16>P;++P)M[P]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(P=0;16>P;++P)M[P]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=k.g[0],C=k.g[1],P=k.g[2];var L=k.g[3],D=I+(L^C&(P^L))+M[0]+3614090360&4294967295;I=C+(D<<7&4294967295|D>>>25),D=L+(P^I&(C^P))+M[1]+3905402710&4294967295,L=I+(D<<12&4294967295|D>>>20),D=P+(C^L&(I^C))+M[2]+606105819&4294967295,P=L+(D<<17&4294967295|D>>>15),D=C+(I^P&(L^I))+M[3]+3250441966&4294967295,C=P+(D<<22&4294967295|D>>>10),D=I+(L^C&(P^L))+M[4]+4118548399&4294967295,I=C+(D<<7&4294967295|D>>>25),D=L+(P^I&(C^P))+M[5]+1200080426&4294967295,L=I+(D<<12&4294967295|D>>>20),D=P+(C^L&(I^C))+M[6]+2821735955&4294967295,P=L+(D<<17&4294967295|D>>>15),D=C+(I^P&(L^I))+M[7]+4249261313&4294967295,C=P+(D<<22&4294967295|D>>>10),D=I+(L^C&(P^L))+M[8]+1770035416&4294967295,I=C+(D<<7&4294967295|D>>>25),D=L+(P^I&(C^P))+M[9]+2336552879&4294967295,L=I+(D<<12&4294967295|D>>>20),D=P+(C^L&(I^C))+M[10]+4294925233&4294967295,P=L+(D<<17&4294967295|D>>>15),D=C+(I^P&(L^I))+M[11]+2304563134&4294967295,C=P+(D<<22&4294967295|D>>>10),D=I+(L^C&(P^L))+M[12]+1804603682&4294967295,I=C+(D<<7&4294967295|D>>>25),D=L+(P^I&(C^P))+M[13]+4254626195&4294967295,L=I+(D<<12&4294967295|D>>>20),D=P+(C^L&(I^C))+M[14]+2792965006&4294967295,P=L+(D<<17&4294967295|D>>>15),D=C+(I^P&(L^I))+M[15]+1236535329&4294967295,C=P+(D<<22&4294967295|D>>>10),D=I+(P^L&(C^P))+M[1]+4129170786&4294967295,I=C+(D<<5&4294967295|D>>>27),D=L+(C^P&(I^C))+M[6]+3225465664&4294967295,L=I+(D<<9&4294967295|D>>>23),D=P+(I^C&(L^I))+M[11]+643717713&4294967295,P=L+(D<<14&4294967295|D>>>18),D=C+(L^I&(P^L))+M[0]+3921069994&4294967295,C=P+(D<<20&4294967295|D>>>12),D=I+(P^L&(C^P))+M[5]+3593408605&4294967295,I=C+(D<<5&4294967295|D>>>27),D=L+(C^P&(I^C))+M[10]+38016083&4294967295,L=I+(D<<9&4294967295|D>>>23),D=P+(I^C&(L^I))+M[15]+3634488961&4294967295,P=L+(D<<14&4294967295|D>>>18),D=C+(L^I&(P^L))+M[4]+3889429448&4294967295,C=P+(D<<20&4294967295|D>>>12),D=I+(P^L&(C^P))+M[9]+568446438&4294967295,I=C+(D<<5&4294967295|D>>>27),D=L+(C^P&(I^C))+M[14]+3275163606&4294967295,L=I+(D<<9&4294967295|D>>>23),D=P+(I^C&(L^I))+M[3]+4107603335&4294967295,P=L+(D<<14&4294967295|D>>>18),D=C+(L^I&(P^L))+M[8]+1163531501&4294967295,C=P+(D<<20&4294967295|D>>>12),D=I+(P^L&(C^P))+M[13]+2850285829&4294967295,I=C+(D<<5&4294967295|D>>>27),D=L+(C^P&(I^C))+M[2]+4243563512&4294967295,L=I+(D<<9&4294967295|D>>>23),D=P+(I^C&(L^I))+M[7]+1735328473&4294967295,P=L+(D<<14&4294967295|D>>>18),D=C+(L^I&(P^L))+M[12]+2368359562&4294967295,C=P+(D<<20&4294967295|D>>>12),D=I+(C^P^L)+M[5]+4294588738&4294967295,I=C+(D<<4&4294967295|D>>>28),D=L+(I^C^P)+M[8]+2272392833&4294967295,L=I+(D<<11&4294967295|D>>>21),D=P+(L^I^C)+M[11]+1839030562&4294967295,P=L+(D<<16&4294967295|D>>>16),D=C+(P^L^I)+M[14]+4259657740&4294967295,C=P+(D<<23&4294967295|D>>>9),D=I+(C^P^L)+M[1]+2763975236&4294967295,I=C+(D<<4&4294967295|D>>>28),D=L+(I^C^P)+M[4]+1272893353&4294967295,L=I+(D<<11&4294967295|D>>>21),D=P+(L^I^C)+M[7]+4139469664&4294967295,P=L+(D<<16&4294967295|D>>>16),D=C+(P^L^I)+M[10]+3200236656&4294967295,C=P+(D<<23&4294967295|D>>>9),D=I+(C^P^L)+M[13]+681279174&4294967295,I=C+(D<<4&4294967295|D>>>28),D=L+(I^C^P)+M[0]+3936430074&4294967295,L=I+(D<<11&4294967295|D>>>21),D=P+(L^I^C)+M[3]+3572445317&4294967295,P=L+(D<<16&4294967295|D>>>16),D=C+(P^L^I)+M[6]+76029189&4294967295,C=P+(D<<23&4294967295|D>>>9),D=I+(C^P^L)+M[9]+3654602809&4294967295,I=C+(D<<4&4294967295|D>>>28),D=L+(I^C^P)+M[12]+3873151461&4294967295,L=I+(D<<11&4294967295|D>>>21),D=P+(L^I^C)+M[15]+530742520&4294967295,P=L+(D<<16&4294967295|D>>>16),D=C+(P^L^I)+M[2]+3299628645&4294967295,C=P+(D<<23&4294967295|D>>>9),D=I+(P^(C|~L))+M[0]+4096336452&4294967295,I=C+(D<<6&4294967295|D>>>26),D=L+(C^(I|~P))+M[7]+1126891415&4294967295,L=I+(D<<10&4294967295|D>>>22),D=P+(I^(L|~C))+M[14]+2878612391&4294967295,P=L+(D<<15&4294967295|D>>>17),D=C+(L^(P|~I))+M[5]+4237533241&4294967295,C=P+(D<<21&4294967295|D>>>11),D=I+(P^(C|~L))+M[12]+1700485571&4294967295,I=C+(D<<6&4294967295|D>>>26),D=L+(C^(I|~P))+M[3]+2399980690&4294967295,L=I+(D<<10&4294967295|D>>>22),D=P+(I^(L|~C))+M[10]+4293915773&4294967295,P=L+(D<<15&4294967295|D>>>17),D=C+(L^(P|~I))+M[1]+2240044497&4294967295,C=P+(D<<21&4294967295|D>>>11),D=I+(P^(C|~L))+M[8]+1873313359&4294967295,I=C+(D<<6&4294967295|D>>>26),D=L+(C^(I|~P))+M[15]+4264355552&4294967295,L=I+(D<<10&4294967295|D>>>22),D=P+(I^(L|~C))+M[6]+2734768916&4294967295,P=L+(D<<15&4294967295|D>>>17),D=C+(L^(P|~I))+M[13]+1309151649&4294967295,C=P+(D<<21&4294967295|D>>>11),D=I+(P^(C|~L))+M[4]+4149444226&4294967295,I=C+(D<<6&4294967295|D>>>26),D=L+(C^(I|~P))+M[11]+3174756917&4294967295,L=I+(D<<10&4294967295|D>>>22),D=P+(I^(L|~C))+M[2]+718787259&4294967295,P=L+(D<<15&4294967295|D>>>17),D=C+(L^(P|~I))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+I&4294967295,k.g[1]=k.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+P&4294967295,k.g[3]=k.g[3]+L&4294967295}s.prototype.u=function(k,I){I===void 0&&(I=k.length);for(var C=I-this.blockSize,M=this.B,P=this.h,L=0;L<I;){if(P==0)for(;L<=C;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<I;)if(M[P++]=k.charCodeAt(L++),P==this.blockSize){o(this,M),P=0;break}}else for(;L<I;)if(M[P++]=k[L++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=I},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var I=1;I<k.length-8;++I)k[I]=0;var C=8*this.o;for(I=k.length-8;I<k.length;++I)k[I]=C&255,C/=256;for(this.u(k),k=Array(16),I=C=0;4>I;++I)for(var M=0;32>M;M+=8)k[C++]=this.g[I]>>>M&255;return k};function u(k,I){var C=m;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=I(k)}function f(k,I){this.h=I;for(var C=[],M=!0,P=k.length-1;0<=P;P--){var L=k[P]|0;M&&L==I||(C[P]=L,M=!1)}this.g=C}var m={};function p(k){return-128<=k&&128>k?u(k,function(I){return new f([I|0],0>I?-1:0)}):new f([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return B(y(-k));for(var I=[],C=1,M=0;k>=C;M++)I[M]=k/C|0,C*=4294967296;return new f(I,0)}function E(k,I){if(k.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(k.charAt(0)=="-")return B(E(k.substring(1),I));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(I,8)),M=R,P=0;P<k.length;P+=8){var L=Math.min(8,k.length-P),D=parseInt(k.substring(P,P+L),I);8>L?(L=y(Math.pow(I,L)),M=M.j(L).add(y(D))):(M=M.j(C),M=M.add(y(D)))}return M}var R=p(0),S=p(1),b=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-B(this).m();for(var k=0,I=1,C=0;C<this.g.length;C++){var M=this.i(C);k+=(0<=M?M:4294967296+M)*I,I*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(N(this))return"0";if(Y(this))return"-"+B(this).toString(k);for(var I=y(Math.pow(k,6)),C=this,M="";;){var P=fe(C,I).g;C=Q(C,P.j(I));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=P,N(C))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function N(k){if(k.h!=0)return!1;for(var I=0;I<k.g.length;I++)if(k.g[I]!=0)return!1;return!0}function Y(k){return k.h==-1}r.l=function(k){return k=Q(this,k),Y(k)?-1:N(k)?0:1};function B(k){for(var I=k.g.length,C=[],M=0;M<I;M++)C[M]=~k.g[M];return new f(C,~k.h).add(S)}r.abs=function(){return Y(this)?B(this):this},r.add=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],M=0,P=0;P<=I;P++){var L=M+(this.i(P)&65535)+(k.i(P)&65535),D=(L>>>16)+(this.i(P)>>>16)+(k.i(P)>>>16);M=D>>>16,L&=65535,D&=65535,C[P]=D<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Q(k,I){return k.add(B(I))}r.j=function(k){if(N(this)||N(k))return R;if(Y(this))return Y(k)?B(this).j(B(k)):B(B(this).j(k));if(Y(k))return B(this.j(B(k)));if(0>this.l(b)&&0>k.l(b))return y(this.m()*k.m());for(var I=this.g.length+k.g.length,C=[],M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<k.g.length;P++){var L=this.i(M)>>>16,D=this.i(M)&65535,Vt=k.i(P)>>>16,at=k.i(P)&65535;C[2*M+2*P]+=D*at,se(C,2*M+2*P),C[2*M+2*P+1]+=L*at,se(C,2*M+2*P+1),C[2*M+2*P+1]+=D*Vt,se(C,2*M+2*P+1),C[2*M+2*P+2]+=L*Vt,se(C,2*M+2*P+2)}for(M=0;M<I;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=I;M<2*I;M++)C[M]=0;return new f(C,0)};function se(k,I){for(;(k[I]&65535)!=k[I];)k[I+1]+=k[I]>>>16,k[I]&=65535,I++}function te(k,I){this.g=k,this.h=I}function fe(k,I){if(N(I))throw Error("division by zero");if(N(k))return new te(R,R);if(Y(k))return I=fe(B(k),I),new te(B(I.g),B(I.h));if(Y(I))return I=fe(k,B(I)),new te(B(I.g),I.h);if(30<k.g.length){if(Y(k)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var C=S,M=I;0>=M.l(k);)C=ce(C),M=ce(M);var P=we(C,1),L=we(M,1);for(M=we(M,2),C=we(C,2);!N(M);){var D=L.add(M);0>=D.l(k)&&(P=P.add(C),L=D),M=we(M,1),C=we(C,1)}return I=Q(k,P.j(I)),new te(P,I)}for(P=R;0<=k.l(I);){for(C=Math.max(1,Math.floor(k.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=y(C),D=L.j(I);Y(D)||0<D.l(k);)C-=M,L=y(C),D=L.j(I);N(L)&&(L=S),P=P.add(L),k=Q(k,D)}return new te(P,k)}r.A=function(k){return fe(this,k).h},r.and=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)&k.i(M);return new f(C,this.h&k.h)},r.or=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)|k.i(M);return new f(C,this.h|k.h)},r.xor=function(k){for(var I=Math.max(this.g.length,k.g.length),C=[],M=0;M<I;M++)C[M]=this.i(M)^k.i(M);return new f(C,this.h^k.h)};function ce(k){for(var I=k.g.length+1,C=[],M=0;M<I;M++)C[M]=k.i(M)<<1|k.i(M-1)>>>31;return new f(C,k.h)}function we(k,I){var C=I>>5;I%=32;for(var M=k.g.length-C,P=[],L=0;L<M;L++)P[L]=0<I?k.i(L+C)>>>I|k.i(L+C+1)<<32-I:k.i(L+C);return new f(P,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Cs=f}).apply(typeof __<"u"?__:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cE,pl,hE,Oc,tm,fE,dE,mE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],g=g(A),g!=A&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,A=!1,j={next:function(){if(!A&&v<c.length){var K=v++;return{value:g(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function E(c,g,v){return c.call.apply(c.bind,arguments)}function R(c,g,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function S(c,g,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:R,S.apply(null,arguments)}function b(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function N(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,j,K){for(var re=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)re[Ve-2]=arguments[Ve];return g.prototype[j].apply(A,re)}}function Y(c){const g=c.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=c[A];return v}return[]}function B(c,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const j=c.length||0,K=A.length||0;c.length=j+K;for(let re=0;re<K;re++)c[j+re]=A[re]}else c.push(A)}}class Q{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function se(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ce=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function we(c,g,v){for(const A in c)g.call(v,c[A],A,c)}function k(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function I(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,g){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let K=0;K<C.length;K++)v=C[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function D(){var c=ze;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Vt{constructor(){this.h=this.g=null}add(g,v){const A=at.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var at=new Q(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,ze=new Vt,O=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(J)}};var J=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){L(v)}var g=at;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ce(c,g){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{fe(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}N(Ce,ie);var Ee={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),We=0;function Bn(c,g,v,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=j,this.key=++We,this.da=this.fa=!1}function Wi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function di(c){this.src=c,this.g={},this.h=0}di.prototype.add=function(c,g,v,A,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var re=qr(c,g,A,j);return-1<re?(g=c[re],v||(g.fa=!1)):(g=new Bn(g,this.src,K,!!A,j),g.fa=v,c.push(g)),g};function Br(c,g){var v=g.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,g,void 0),K;(K=0<=j)&&Array.prototype.splice.call(A,j,1),K&&(Wi(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function qr(c,g,v,A){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==A)return j}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),to={};function Xl(c,g,v,A,j){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Xl(c,g[K],v,A,j);return null}return v=$l(v),c&&c[It]?c.K(g,v,y(A)?!!A.capture:!1,j):vn(c,g,v,!1,A,j)}function vn(c,g,v,A,j,K){if(!g)throw Error("Invalid event type");var re=y(j)?!!j.capture:!!j,Ve=zs(c);if(Ve||(c[Hr]=Ve=new di(c)),v=Ve.add(g,v,A,re,K),v.proxy)return v;if(A=Sh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)pe||(j=re),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(Fr(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Sh(){function c(v){return g.call(c.src,c.listener,v)}const g=wh;return c}function no(c,g,v,A,j){if(Array.isArray(g))for(var K=0;K<g.length;K++)no(c,g[K],v,A,j);else A=y(A)?!!A.capture:!!A,v=$l(v),c&&c[It]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],v=qr(K,v,A,j),-1<v&&(Wi(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=zs(c))&&(g=c.g[g.toString()],c=-1,g&&(c=qr(g,v,A,j)),(v=-1<c?g[c]:null)&&js(v))}function js(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[It])Br(g.i,c);else{var v=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(v,A,c.capture):g.detachEvent?g.detachEvent(Fr(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=zs(g))?(Br(v,c),v.h==0&&(v.src=null,g[Hr]=null)):Wi(c)}}}function Fr(c){return c in to?to[c]:to[c]="on"+c}function wh(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var v=c.listener,A=c.ha||c.src;c.fa&&js(c),c=v.call(A,g)}return c}function zs(c){return c=c[Hr],c instanceof di?c:null}var io="__closure_events_fn_"+(1e9*Math.random()>>>0);function $l(c){return typeof c=="function"?c:(c[io]||(c[io]=function(g){return c.handleEvent(g)}),c[io])}function ot(){oe.call(this),this.i=new di(this),this.M=this,this.F=null}N(ot,oe),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,g,v,A){no(this,c,g,v,A)};function He(c,g){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ie(g,c);else if(g instanceof ie)g.target=g.target||c;else{var j=g;g=new ie(A,c),M(g,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var re=g.g=v[K];j=on(re,A,!0,g)&&j}if(re=g.g=c,j=on(re,A,!0,g)&&j,j=on(re,A,!1,g)&&j,v)for(K=0;K<v.length;K++)re=g.g=v[K],j=on(re,A,!1,g)&&j}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],A=0;A<v.length;A++)Wi(v[A]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,v,A){return this.i.add(String(c),g,!1,v,A)},ot.prototype.L=function(c,g,v,A){return this.i.add(String(c),g,!0,v,A)};function on(c,g,v,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,K=0;K<g.length;++K){var re=g[K];if(re&&!re.da&&re.capture==v){var Ve=re.listener,Tt=re.ha||re.src;re.fa&&Br(c.i,re),j=Ve.call(Tt,A)!==!1&&j}}return j&&!A.defaultPrevented}function Gt(c,g,v){if(typeof c=="function")v&&(c=S(c,v));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Zl(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,Zl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Rh extends oe{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(c){oe.call(this),this.h=c,this.g={}}N(Gr,oe);var Kr=[];function Qr(c){we(c.g,function(g,v){this.g.hasOwnProperty(v)&&js(g)},c),c.g={}}Gr.prototype.N=function(){Gr.aa.N.call(this),Qr(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=m.JSON.stringify,Bs=m.JSON.parse,Yr=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ro(){}ro.prototype.h=null;function so(c){return c.h||(c.h=c.i())}function ao(){}var mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pi(){ie.call(this,"d")}N(pi,ie);function oo(){ie.call(this,"c")}N(oo,ie);var qn={},lo=null;function Ji(){return lo=lo||new ot}qn.La="serverreachability";function qs(c){ie.call(this,qn.La,c)}N(qs,ie);function er(c){const g=Ji();He(g,new qs(g))}qn.STAT_EVENT="statevent";function Wl(c,g){ie.call(this,qn.STAT_EVENT,c),this.stat=g}N(Wl,ie);function et(c){const g=Ji();He(g,new Wl(g,c))}qn.Ma="timingevent";function Et(c,g){ie.call(this,qn.Ma,c),this.size=g}N(Et,ie);function mt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function uo(c,g,v,A,j,K){c.info(function(){if(c.g)if(K)for(var re="",Ve=K.split("&"),Tt=0;Tt<Ve.length;Tt++){var ke=Ve[Tt].split("=");if(1<ke.length){var xt=ke[0];ke=ke[1];var bt=xt.split("_");re=2<=bt.length&&bt[1]=="type"?re+(xt+"="+ke+"&"):re+(xt+"=redacted&")}}else re=null;else re=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+v+`
`+re})}function Ih(c,g,v,A,j,K,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+v+`
`+K+" "+re})}function tr(c,g,v,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Xr(c,v)+(A?" "+A:"")})}function Jl(c,g){c.info(function(){return"TIMEOUT: "+g})}_n.prototype.info=function(){};function Xr(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var re=1;re<j.length;re++)j[re]=""}}}}return On(v)}catch{return g}}var nr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Fn(){}N(Fn,ro),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Hn=new Fn;function Wt(c,g,v,A){this.j=c,this.i=g,this.l=v,this.R=A||1,this.U=new Gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var co={},Hs={};function Mn(c,g,v){c.L=1,c.v=es(ln(g)),c.m=v,c.P=!0,yi(c,null)}function yi(c,g){c.F=Date.now(),$r(c),c.A=ln(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),yo(v.i,"t",A),c.C=0,v=c.j.J,c.h=new ct,c.g=pu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Rh(S(c.Y,c,c.g),c.O)),g=c.U,v=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(Kr[0]=j.toString()),j=Kr);for(var K=0;K<j.length;K++){var re=Xl(v,j[K],A||g.handleEvent,!1,g.h||g);if(!re)break;g.g[re.key]=re}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),er(),uo(c.i,c.u,c.A,c.l,c.R,c.m)}Wt.prototype.ca=function(c){c=c.target;const g=this.M;g&&An(c)==3?g.j():this.Y(c)},Wt.prototype.Y=function(c){try{if(c==this.g)e:{const bt=An(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||ou(this.g)))){this.J||bt!=4||g==7||(g==8||0>=wi?er(3):er(2)),ir(this);var v=this.g.Z();this.X=v;t:if(eu(this)){var A=ou(this.g);c="";var j=A.length,K=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kt(this),Gn(this);var re="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(K&&g==j-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,Ih(this.i,this.u,this.A,this.l,this.R,bt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Tt=this.g;if((Ve=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ve)){var ke=Ve;break t}}ke=null}if(v=ke)tr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,v);else{this.o=!1,this.s=3,et(12),kt(this),Gn(this);break e}}if(this.P){v=!0;let Pt;for(;!this.J&&this.C<re.length;)if(Pt=tu(this,re),Pt==Hs){bt==4&&(this.s=4,et(14),v=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Pt==co){this.s=4,et(15),tr(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else tr(this.i,this.l,Pt,null),Zr(this,Pt);if(eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||re.length!=0||this.h.h||(this.s=1,et(16),v=!1),this.o=this.o&&v,!v)tr(this.i,this.l,re,"[Invalid Chunked Response]"),kt(this),Gn(this);else if(0<re.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ls(xt),xt.M=!0,et(11))}}else tr(this.i,this.l,re,null),Zr(this,re);bt==4&&kt(this),this.o&&!this.J&&(bt==4?fu(this.j,this):(this.o=!1,$r(this)))}else Oh(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),kt(this),Gn(this)}}}catch{}finally{}};function eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function tu(c,g){var v=c.C,A=g.indexOf(`
`,v);return A==-1?Hs:(v=Number(g.substring(v,A)),isNaN(v)?co:(A+=1,A+v>g.length?Hs:(g=g.slice(A,A+v),c.C=A+v,g)))}Wt.prototype.cancel=function(){this.J=!0,kt(this)};function $r(c){c.S=Date.now()+c.I,nu(c,c.I)}function nu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(S(c.ba,c),g)}function ir(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Wt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Jl(this.i,this.A),this.L!=2&&(er(),et(17)),kt(this),this.s=2,Gn(this)):nu(this,this.S-c)};function Gn(c){c.j.G==0||c.J||fu(c.j,c)}function kt(c){ir(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Zr(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||ho(v.h,c))){if(!c.K&&ho(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ta(v),Js(v);else break e;bo(v),et(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=mt(S(v.Za,v),6e3));if(1>=Gs(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((c.K||v.g==c)&&ta(v),!se(g))for(j=v.Da.g.parse(g),g=0;g<j.length;g++){let ke=j[g];if(v.T=ke[0],ke=ke[1],v.G==2)if(ke[0]=="c"){v.K=ke[1],v.ia=ke[2];const xt=ke[3];xt!=null&&(v.la=xt,v.j.info("VER="+v.la));const bt=ke[4];bt!=null&&(v.Aa=bt,v.j.info("SVER="+v.Aa));const wi=ke[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Pt=c.g;if(Pt){const Wn=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var K=A.h;K.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ks(K,K.h),K.h=null))}if(A.D){const So=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;So&&(A.ya=So,Qe(A.I,A.D,So))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=c;if(A.qa=mu(A,A.J?A.ia:null,A.W),re.K){Jt(A.h,re);var Ve=re,Tt=A.L;Tt&&(Ve.I=Tt),Ve.B&&(ir(Ve),$r(Ve)),A.g=re}else cu(A);0<v.i.length&&ea(v)}else ke[0]!="stop"&&ke[0]!="close"||Si(v,7);else v.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Si(v,7):Eo(v):ke[0]!="noop"&&v.l&&v.l.ta(ke),v.v=0)}}er(4)}catch{}}var iu=class{constructor(c,g){this.g=c,this.map=g}};function vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gs(c){return c.h?1:c.g?c.g.size:0}function ho(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ks(c,g){c.g?c.g.add(g):c.h=g}function Jt(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vi.prototype.cancel=function(){if(this.i=fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Y(c.i)}function Ch(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,A=0;A<v;A++)g.push(c[A]);return g}g=[],v=0;for(A in c)g[v++]=c[A];return g}function Qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const A in c)g[v++]=A;return g}}}function mo(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=Qs(c),A=Ch(c),j=A.length,K=0;K<j;K++)g.call(void 0,A[K],v&&v[K],c)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xh(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),j=null;if(0<=A){var K=c[v].substring(0,A);j=c[v].substring(A+1)}else K=c[v];g(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,Jr(this,c.j),this.o=c.o,this.g=c.g,rr(this,c.s),this.l=c.l;var g=c.i,v=new Ei;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),_i(this,v),this.m=c.m}else c&&(g=String(c).match(Wr))?(this.h=!1,Jr(this,g[1]||"",!0),this.o=En(g[2]||""),this.g=En(g[3]||"",!0),rr(this,g[4]),this.l=En(g[5]||"",!0),_i(this,g[6]||"",!0),this.m=En(g[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}pt.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ts(g,po,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ts(g,po,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ts(v,v.charAt(0)=="/"?Nh:go,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ts(v,Ys)),c.join("")};function ln(c){return new pt(c)}function Jr(c,g,v){c.j=v?En(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function rr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _i(c,g,v){g instanceof Ei?(c.i=g,su(c.i,c.h)):(v||(g=ts(g,Dh)),c.i=new Ei(g,c.h))}function Qe(c,g,v){c.i.set(g,v)}function es(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function En(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ts(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,ru),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ru(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var po=/[#\/\?@]/g,go=/[#\?:]/g,Nh=/[#\?]/g,Dh=/[#\?@]/g,Ys=/#/g;function Ei(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tn(c){c.g||(c.g=new Map,c.h=0,c.i&&xh(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Ei.prototype,r.add=function(c,g){Tn(this),this.i=null,c=Kn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ti(c,g){Tn(c),g=Kn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function bi(c,g){return Tn(c),g=Kn(c,g),c.g.has(g)}r.forEach=function(c,g){Tn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(g,j,A,this)},this)},this)},r.na=function(){Tn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const j=c[A];for(let K=0;K<j.length;K++)v.push(g[A])}return v},r.V=function(c){Tn(this);let g=[];if(typeof c=="string")bi(this,c)&&(g=g.concat(this.g.get(Kn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Tn(this),this.i=null,c=Kn(this,c),bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function yo(c,g,v){Ti(c,g),0<v.length&&(c.i=null,c.g.set(Kn(c,g),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const K=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var j=K;re[A]!==""&&(j+="="+encodeURIComponent(String(re[A]))),c.push(j)}}return this.i=c.join("&")};function Kn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function su(c,g){g&&!c.j&&(Tn(c),c.i=null,c.g.forEach(function(v,A){var j=A.toLowerCase();A!=j&&(Ti(this,A),yo(this,j,v))},c)),c.j=g}function ns(c,g){const v=new _n;if(m.Image){const A=new Image;A.onload=b(bn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=b(bn,v,"TestLoadImage: error",!1,g,A),A.onabort=b(bn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=b(bn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Vn(c,g){const v=new _n,A=new AbortController,j=setTimeout(()=>{A.abort(),bn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?bn(v,"TestPingServer: ok",!0,g):bn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),bn(v,"TestPingServer: error",!1,g)})}function bn(c,g,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function is(){this.g=new Yr}function Qn(c,g,v){const A=v||"";try{mo(c,function(j,K){let re=j;y(j)&&(re=On(j)),g.push(A+K+"="+encodeURIComponent(re))})}catch(j){throw g.push(A+"type="+encodeURIComponent("_badmap")),j}}function sr(c){this.l=c.Ub||null,this.j=c.eb||!1}N(sr,ro),sr.prototype.g=function(){return new Ai(this.l,this.j)},sr.prototype.i=function(c){return function(){return c}}({});function Ai(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ai,ot),r=Ai.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Yn(this):Xn(this),this.readyState==3&&vo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},r.Qa=function(c){this.g&&(this.response=c,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xn(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function _o(c){let g="";return we(c,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ct(c,g,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=_o(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Qe(c,g,v))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(qe,ot);var Xs=/^https?$/i,rs=["POST","PUT"];r=qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?so(this.o):so(Hn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){au(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(rs,g,void 0))||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,re]of v)this.g.setRequestHeader(K,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){au(this,K)}};function au(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,$s(c),$n(c)}function $s(c){c.A||(c.A=!0,He(c,"complete"),He(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,He(this,"complete"),He(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(c){if(c.h&&typeof f<"u"&&(!c.v[1]||An(c)!=4||c.Z()!=2)){if(c.u&&An(c)==4)Gt(c.Ea,0,c);else if(He(c,"readystatechange"),An(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var A;if(A=re===0){var j=String(c.D).match(Wr)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!Xs.test(j?j.toLowerCase():"")}v=A}if(v)He(c,"complete"),He(c,"success");else{c.m=6;try{var K=2<An(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",$s(c)}}finally{$n(c)}}}}function $n(c,g){if(c.g){ss(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||He(c,"ready");try{v.onreadystatechange=A}catch{}}}function ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function An(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Bs(g)}};function ou(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Oh(c){const g={};c=(c.g&&2<=An(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(se(c[A]))continue;var v=P(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[j]||[];g[j]=K,K.push(v)}k(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ws(c){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,c),this.cb=as("retryDelaySeedMs",1e4,c),this.Wa=as("forwardChannelMaxRetries",2,c),this.wa=as("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vi(c&&c.concurrentRequestLimit),this.Da=new is,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,A){et(0),this.W=c,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=mu(this,null,this.W),ea(this)};function Eo(c){if(lu(c),c.G==3){var g=c.U++,v=ln(c.I);if(Qe(v,"SID",c.K),Qe(v,"RID",g),Qe(v,"TYPE","terminate"),os(c,v),g=new Wt(c,c.j,g),g.L=2,g.v=es(ln(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),$r(g)}du(c)}function Js(c){c.g&&(ls(c),c.g.cancel(),c.g=null)}function lu(c){Js(c),c.u&&(m.clearTimeout(c.u),c.u=null),ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ea(c){if(!Fs(c.h)&&!c.s){c.s=!0;var g=c.Ga;ae||O(),de||(ae(),de=!0),ze.add(g,c),c.B=0}}function Mh(c,g){return Gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(S(c.Ga,c,g),Ao(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Wt(this,this.j,c);let K=this.o;if(this.S&&(K?(K=I(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=uu(this,j,g),v=ln(this.I),Qe(v,"RID",c),Qe(v,"CVER",22),this.D&&Qe(v,"X-HTTP-Session-Id",this.D),os(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(_o(K)))+"&"+g:this.m&&Ct(v,this.m,K)),Ks(this.h,j),this.Ua&&Qe(v,"TYPE","init"),this.P?(Qe(v,"$req",g),Qe(v,"SID","null"),j.T=!0,Mn(j,v,null)):Mn(j,v,g),this.G=2}}else this.G==3&&(c?To(this,c):this.i.length==0||Fs(this.h)||To(this))};function To(c,g){var v;g?v=g.l:v=c.U++;const A=ln(c.I);Qe(A,"SID",c.K),Qe(A,"RID",v),Qe(A,"AID",c.T),os(c,A),c.m&&c.o&&Ct(A,c.m,c.o),v=new Wt(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=uu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ks(c.h,v),Mn(v,A,g)}function os(c,g){c.H&&we(c.H,function(v,A){Qe(g,A,v)}),c.l&&mo({},function(v,A){Qe(g,A,v)})}function uu(c,g,v){v=Math.min(c.i.length,v);var A=c.l?S(c.l.Na,c.l,c):null;e:{var j=c.i;let K=-1;for(;;){const re=["count="+v];K==-1?0<v?(K=j[0].g,re.push("ofs="+K)):K=0:re.push("ofs="+K);let Ve=!0;for(let Tt=0;Tt<v;Tt++){let ke=j[Tt].g;const xt=j[Tt].map;if(ke-=K,0>ke)K=Math.max(0,j[Tt].g-100),Ve=!1;else try{Qn(xt,re,"req"+ke+"_")}catch{A&&A(xt)}}if(Ve){A=re.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,A}function cu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ae||O(),de||(ae(),de=!0),ze.add(g,c),c.v=0}}function bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(S(c.Fa,c),Ao(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),Js(this),hu(this))};function ls(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function hu(c){c.g=new Wt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ln(c.qa);Qe(g,"RID","rpc"),Qe(g,"SID",c.K),Qe(g,"AID",c.T),Qe(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(g,"TO",c.ja),Qe(g,"TYPE","xmlhttp"),os(c,g),c.m&&c.o&&Ct(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=es(ln(g)),v.m=null,v.P=!0,yi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),bo(this),et(19))};function ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function fu(c,g){var v=null;if(c.g==g){ta(c),ls(c),c.g=null;var A=2}else if(ho(c.h,g))v=g.D,Jt(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;A=Ji(),He(A,new Et(A,v)),ea(c)}else cu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(A==1&&Mh(c,g)||A==2&&bo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),j){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Ao(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Si(c,g){if(c.j.info("Error code "+g),g==2){var v=S(c.fb,c),A=c.Xa;const j=!A;A=new pt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Jr(A,"https"),es(A),j?ns(A.toString(),v):Vn(A.toString(),v)}else et(2);c.G=0,c.l&&c.l.sa(g),du(c),lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function du(c){if(c.G=0,c.ka=[],c.l){const g=fo(c.h);(g.length!=0||c.i.length!=0)&&(B(c.ka,g),B(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function mu(c,g,v){var A=v instanceof pt?ln(v):new pt(v);if(A.g!="")g&&(A.g=g+"."+A.g),rr(A,A.s);else{var j=m.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var K=new pt(null);A&&Jr(K,A),g&&(K.g=g),j&&rr(K,j),v&&(K.l=v),A=K}return v=c.D,g=c.ya,v&&g&&Qe(A,v,g),Qe(A,"VER",c.la),os(c,A),A}function pu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new qe(new sr({eb:v})):new qe(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function na(){}na.prototype.g=function(c,g){return new en(c,g)};function en(c,g){ot.call(this),this.g=new Ws(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!se(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!se(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Zn(this)}N(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Eo(this.g)},en.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=On(c),c=v);g.i.push(new iu(g.Ya++,c)),g.G==3&&ea(g)},en.prototype.N=function(){this.g.l=null,delete this.j,Eo(this.g),delete this.g,en.aa.N.call(this)};function yu(c){pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}N(yu,pi);function vu(){oo.call(this),this.status=1}N(vu,oo);function Zn(c){this.g=c}N(Zn,gu),Zn.prototype.ua=function(){He(this.g,"a")},Zn.prototype.ta=function(c){He(this.g,new yu(c))},Zn.prototype.sa=function(c){He(this.g,new vu)},Zn.prototype.ra=function(){He(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,mE=function(){return new na},dE=function(){return Ji()},fE=qn,tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},nr.NO_ERROR=0,nr.TIMEOUT=8,nr.HTTP_ERROR=6,Oc=nr,gi.COMPLETE="complete",hE=gi,ao.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,pl=ao,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,cE=qe}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const E_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Am("@firebase/firestore");function ml(){return Ds.logLevel}function ue(r,...e){if(Ds.logLevel<=Me.DEBUG){const n=e.map(jm);Ds.debug(`Firestore (${Wa}): ${r}`,...n)}}function Qi(r,...e){if(Ds.logLevel<=Me.ERROR){const n=e.map(jm);Ds.error(`Firestore (${Wa}): ${r}`,...n)}}function qa(r,...e){if(Ds.logLevel<=Me.WARN){const n=e.map(jm);Ds.warn(`Firestore (${Wa}): ${r}`,...n)}}function jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+r;throw Qi(e),new Error(e)}function Ke(r,e){r||be()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class EI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class TI{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new kr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new kr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new kr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new pE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Xt(e)}}class bI{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class AI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new bI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class SI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new SI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=RI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%e.length))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Ha(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Rt(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Rt(0,0))}static max(){return new Ae(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=e.get(o),f=n.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nt extends Cl{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const II=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Cl{construct(e,n,s){return new Bt(e,n,s)}static isValidIdentifier(e){return II.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Bt(["__name__"])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}function CI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Ur(o,ge.empty(),e)}function xI(r){return new Ur(r.readTime,r.key,-1)}class Ur{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ur(Ae.min(),ge.empty(),-1)}static max(){return new Ur(Ae.max(),ge.empty(),-1)}}function NI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ql(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==DI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function MI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zm.oe=-1;function ah(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function VI(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Us(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function yE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bc(this.root,e,this.comparator,!0)}}class bc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??zt.RED,this.left=o??zt.EMPTY,this.right=u??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new zt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new b_(this.data.getIterator())}getIteratorFrom(e){return new b_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class b_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new gn([])}unionWith(e){let n=new qt(Bt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new gn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ha(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vE("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const kI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=kI.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Os(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qm(r){const e=r.mapValue.fields.__previous_value__;return Bm(e)?qm(e):e}function xl(r){const e=Lr(r.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac={mapValue:{}};function Ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Bm(r)?4:LI(r)?9007199254740991:UI(r)?10:11:be()}function ci(r,e){if(r===e)return!0;const n=Ms(r);if(n!==Ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xl(r).isEqual(xl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Lr(o.timestampValue),m=Lr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Os(o.bytesValue).isEqual(Os(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?Gc(f)===Gc(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Ha(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(T_(f)!==T_(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ci(f[p],m[p])))return!1;return!0}(r,e);default:return be()}}function Dl(r,e){return(r.values||[]).find(n=>ci(n,e))!==void 0}function Fa(r,e){if(r===e)return 0;const n=Ms(r),s=Ms(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return A_(r.timestampValue,e.timestampValue);case 4:return A_(xl(r),xl(e));case 5:return je(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Os(u),p=Os(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=je(m[y],p[y]);if(E!==0)return E}return je(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=je(dt(u.latitude),dt(f.latitude));return m!==0?m:je(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return S_(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,E;const R=u.fields||{},S=f.fields||{},b=(m=R.value)===null||m===void 0?void 0:m.arrayValue,N=(p=S.value)===null||p===void 0?void 0:p.arrayValue,Y=je(((y=b==null?void 0:b.values)===null||y===void 0?void 0:y.length)||0,((E=N==null?void 0:N.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:S_(b,N)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Ac.mapValue&&f===Ac.mapValue)return 0;if(u===Ac.mapValue)return 1;if(f===Ac.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let R=0;R<p.length&&R<E.length;++R){const S=je(p[R],E[R]);if(S!==0)return S;const b=Fa(m[p[R]],y[E[R]]);if(b!==0)return b}return je(p.length,E.length)}(r.mapValue,e.mapValue);default:throw be()}}function A_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=Lr(r),s=Lr(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function S_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Fa(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function Ga(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Lr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Os(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=nm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${nm(n.fields[f])}`;return o+"}"}(r.mapValue):be()}function im(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function w_(r){return!!r&&"nullValue"in r}function R_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mc(r){return!!r&&"mapValue"in r}function UI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function El(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Us(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=El(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=El(r.arrayValue.values[n]);return e}return Object.assign({},r)}function LI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Mc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=El(n)}setAll(e){let n=Bt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=El(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Mc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Mc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Us(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new an(El(this.value))}}function _E(r){const e=[];return Us(r.fields,(n,s)=>{const o=new Bt([n]);if(Mc(s)){const u=_E(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new $t(e,0,Ae.min(),Ae.min(),Ae.min(),an.empty(),0)}static newFoundDocument(e,n,s,o){return new $t(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new $t(e,2,n,Ae.min(),Ae.min(),an.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,Ae.min(),Ae.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n){this.position=e,this.inclusive=n}}function I_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=Fa(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ci(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{}class wt extends EE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new BI(e,n,s):n==="array-contains"?new FI(e,s):n==="in"?new GI(e,s):n==="not-in"?new KI(e,s):n==="array-contains-any"?new QI(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new qI(e,s):new HI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fa(n,this.value)):n!==null&&Ms(this.value)===Ms(n)&&this.matchesComparison(Fa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends EE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new hi(e,n)}matches(e){return TE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function TE(r){return r.op==="and"}function bE(r){return zI(r)&&TE(r)}function zI(r){for(const e of r.filters)if(e instanceof hi)return!1;return!0}function rm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(bE(r))return r.filters.map(e=>rm(e)).join(",");{const e=r.filters.map(n=>rm(n)).join(",");return`${r.op}(${e})`}}function AE(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)}(r,e):r instanceof hi?function(s,o){return o instanceof hi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&AE(f,o.filters[m]),!0):!1}(r,e):void be()}function SE(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(r):r instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(SE).join(" ,")+"}"}(r):"Filter"}class BI extends wt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class qI extends wt{constructor(e,n){super(e,"in",n),this.keys=wE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class HI extends wt{constructor(e,n){super(e,"not-in",n),this.keys=wE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class FI extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hm(n)&&Dl(n.arrayValue,this.value)}}class GI extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class KI extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class QI extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.ue=null}}function x_(r,e=null,n=[],s=[],o=null,u=null,f=null){return new YI(r,e,n,s,o,u,f)}function Fm(r){const e=Se(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>rm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),ah(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ga(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ga(s)).join(",")),e.ue=n}return e.ue}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!jI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!AE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!C_(r.startAt,e.startAt)&&C_(r.endAt,e.endAt)}function sm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XI(r,e,n,s,o,u,f,m){return new oh(r,e,n,s,o,u,f,m)}function Km(r){return new oh(r)}function N_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $I(r){return r.collectionGroup!==null}function Tl(r){const e=Se(r);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new qt(Bt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Qc(u,s))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Qc(Bt.keyField(),s))}return e.ce}function ai(r){const e=Se(r);return e.le||(e.le=ZI(e,Tl(r))),e.le}function ZI(r,e){if(r.limitType==="F")return x_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Qc(o.field,u)});const n=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return x_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function am(r,e,n){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function lh(r,e){return Gm(ai(r),ai(e))&&r.limitType===e.limitType}function RE(r){return`${Fm(ai(r))}|lt:${r.limitType}`}function Ma(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>SE(o)).join(", ")}]`),ah(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ga(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ga(o)).join(",")),`Target(${s})`}(ai(r))}; limitType=${r.limitType})`}function uh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Tl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=I_(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,Tl(s),o)||s.endAt&&!function(f,m,p){const y=I_(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,Tl(s),o))}(r,e)}function WI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function IE(r){return(e,n)=>{let s=!1;for(const o of Tl(r)){const u=JI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function JI(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Fa(p,y):be()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Us(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new st(ge.comparator);function Yi(){return eC}const CE=new st(ge.comparator);function gl(...r){let e=CE;for(const n of r)e=e.insert(n.key,n);return e}function xE(r){let e=CE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Rs(){return bl()}function NE(){return bl()}function bl(){return new Ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const tC=new st(ge.comparator),nC=new qt(ge.comparator);function Oe(...r){let e=nC;for(const n of r)e=e.add(n);return e}const iC=new qt(je);function rC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(e)?"-0":e}}function DE(r){return{integerValue:""+r}}function sC(r,e){return VI(e)?DE(e):Qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function aC(r,e,n){return r instanceof Yc?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Bm(u)&&(u=qm(u)),u&&(f.fields.__previous_value__=u),{mapValue:f}}(n,e):r instanceof Ol?ME(r,e):r instanceof Ml?VE(r,e):function(o,u){const f=OE(o,u),m=D_(f)+D_(o.Pe);return im(f)&&im(o.Pe)?DE(m):Qm(o.serializer,m)}(r,e)}function oC(r,e,n){return r instanceof Ol?ME(r,e):r instanceof Ml?VE(r,e):n}function OE(r,e){return r instanceof Xc?function(s){return im(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Yc extends ch{}class Ol extends ch{constructor(e){super(),this.elements=e}}function ME(r,e){const n=kE(e);for(const s of r.elements)n.some(o=>ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class Ml extends ch{constructor(e){super(),this.elements=e}}function VE(r,e){let n=kE(e);for(const s of r.elements)n=n.filter(o=>!ci(o,s));return{arrayValue:{values:n}}}class Xc extends ch{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D_(r){return dt(r.integerValue||r.doubleValue)}function kE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ol&&o instanceof Ol||s instanceof Ml&&o instanceof Ml?Ha(s.elements,o.elements,ci):s instanceof Xc&&o instanceof Xc?ci(s.Pe,o.Pe):s instanceof Yc&&o instanceof Yc}(r.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class hh{}function PE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ym(r.key,jn.none()):new Fl(r.key,r.data,jn.none());{const n=r.data,s=an.empty();let o=new qt(Bt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zr(r.key,s,new gn(o.toArray()),jn.none())}}function cC(r,e,n){r instanceof Fl?function(o,u,f){const m=o.value.clone(),p=M_(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof zr?function(o,u,f){if(!Vc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=M_(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(UE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Al(r,e,n,s){return r instanceof Fl?function(u,f,m,p){if(!Vc(u.precondition,f))return m;const y=u.value.clone(),E=V_(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof zr?function(u,f,m,p){if(!Vc(u.precondition,f))return m;const y=V_(u.fieldTransforms,p,f),E=f.data;return E.setAll(UE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(r,e,n,s):function(u,f,m){return Vc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function hC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=OE(s.transform,o||null);u!=null&&(n===null&&(n=an.empty()),n.set(s.field,u))}return n||null}function O_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ha(s,o,(u,f)=>lC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Fl extends hh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zr extends hh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function UE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function M_(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,oC(f,m,n[o]))}return s}function V_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,aC(u,f,e))}return s}class Ym extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Al(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Al(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=NE();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=PE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ha(this.mutations,e.mutations,(n,s)=>O_(n,s))&&Ha(this.baseMutations,e.baseMutations,(n,s)=>O_(n,s))}}class Xm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return tC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Xm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Ue;function gC(r){switch(r){default:return be();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function LE(r){if(r===void 0)return Qi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case vt.OK:return ne.OK;case vt.CANCELLED:return ne.CANCELLED;case vt.UNKNOWN:return ne.UNKNOWN;case vt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case vt.INTERNAL:return ne.INTERNAL;case vt.UNAVAILABLE:return ne.UNAVAILABLE;case vt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case vt.NOT_FOUND:return ne.NOT_FOUND;case vt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case vt.ABORTED:return ne.ABORTED;case vt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case vt.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(Ue=vt||(vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Cs([4294967295,4294967295],0);function k_(r){const e=yC().encode(r),n=new uE;return n.update(e),new Uint8Array(n.digest())}function P_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Cs([n,s],0),new Cs([o,u],0)]}class $m{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new yl(`Invalid padding: ${n}`);if(s<0)throw new yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Cs.fromNumber(this.Ie)}Ee(e,n,s){let o=e.add(n.multiply(Cs.fromNumber(s)));return o.compare(vC)===1&&(o=new Cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=k_(e),[s,o]=P_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);if(!this.de(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new $m(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ie===0)return;const n=k_(e),[s,o]=P_(n);for(let u=0;u<this.hashCount;u++){const f=this.Ee(s,o,u);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new fh(Ae.min(),o,new st(je),Yi(),Oe())}}class Gl{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gl(s,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,s,o){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=o}}class jE{constructor(e,n){this.targetId=e,this.me=n}}class zE{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class U_{constructor(){this.fe=0,this.ge=j_(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),s=Oe();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Gl(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=j_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _C{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yi(),this.qe=L_(),this.Qe=new st(je)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const s=this.Ge(n);switch(e.state){case 0:this.ze(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),s.De(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,s=e.me.count,o=this.Je(n);if(o){const u=o.target;if(sm(u))if(s===0){const f=new ge(u.path);this.Ue(n,f,$t.newNoDocument(f,Ae.min()))}else Ke(s===1);else{const f=this.Ye(n);if(f!==s){const m=this.Ze(e),p=m?this.Xe(m,e,f):1;if(p!==0){this.je(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,y)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Os(s).toUint8Array()}catch(p){if(p instanceof vE)return qa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $m(f,o,u)}catch(p){return qa(p instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,n,s){return n.me.count===s-this.nt(e,n.targetId)?0:2}nt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Le.tt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(n,u,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((u,f)=>{const m=this.Je(f);if(m){if(u.current&&sm(m.target)){const p=new ge(m.target.path);this.ke.get(p)!==null||this.it(f,p)||this.Ue(f,p,$t.newNoDocument(p,e))}u.be&&(n.set(f,u.ve()),u.Ce())}});let s=Oe();this.qe.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,f)=>f.setReadTime(e));const o=new fh(e,n,this.Qe,this.ke,s);return this.ke=Yi(),this.qe=L_(),this.Qe=new st(je),o}$e(e,n){if(!this.ze(e))return;const s=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new U_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new qt(je),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new U_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L_(){return new st(ge.comparator)}function j_(){return new st(ge.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bC={and:"AND",or:"OR"};class AC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function om(r,e){return r.useProto3Json||ah(e)?e:{value:e}}function $c(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SC(r,e){return $c(r,e.toTimestamp())}function oi(r){return Ke(!!r),Ae.fromTimestamp(function(n){const s=Lr(n);return new Rt(s.seconds,s.nanos)}(r))}function Zm(r,e){return lm(r,e).canonicalString()}function lm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function qE(r){const e=nt.fromString(r);return Ke(QE(e)),e}function um(r,e){return Zm(r.databaseId,e.path)}function zd(r,e){const n=qE(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(FE(n))}function HE(r,e){return Zm(r.databaseId,e)}function wC(r){const e=qE(r);return e.length===4?nt.emptyPath():FE(e)}function cm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FE(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function z_(r,e,n){return{name:um(r,e),fields:n.value.mapValue.fields}}function RC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ke(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?ne.UNKNOWN:LE(y.code);return new me(E,y.message||"")}(f);n=new zE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=zd(r,s.document.name),u=oi(s.document.updateTime),f=s.document.createTime?oi(s.document.createTime):Ae.min(),m=new an({mapValue:{fields:s.document.fields}}),p=$t.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new kc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=zd(r,s.document),u=s.readTime?oi(s.readTime):Ae.min(),f=$t.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=zd(r,s.document),u=s.removedTargetIds||[];n=new kc([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pC(o,u),m=s.targetId;n=new jE(m,f)}}return n}function IC(r,e){let n;if(e instanceof Fl)n={update:z_(r,e.key,e.value)};else if(e instanceof Ym)n={delete:um(r,e.key)};else if(e instanceof zr)n={update:z_(r,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof fC))return be();n={verify:um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Yc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ol)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ml)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Xc)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:SC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(r,e.precondition)),n}function CC(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?oi(o.updateTime):oi(u);return f.isEqual(Ae.min())&&(f=oi(u)),new uC(f,o.transformResults||[])}(n,e))):[]}function xC(r,e){return{documents:[HE(r,e.path)]}}function NC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=HE(r,o);const u=function(y){if(y.length!==0)return KE(hi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Va(S.field),direction:MC(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=om(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{_t:n,parent:o}}function DC(r){let e=wC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(R){const S=GE(R);return S instanceof hi&&bE(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(R){return R.map(S=>function(N){return new Qc(ka(N.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(R){let S;return S=typeof R=="object"?R.value:R,ah(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(R){const S=!!R.before,b=R.values||[];return new Kc(b,S)}(n.startAt));let y=null;return n.endAt&&(y=function(R){const S=!R.before,b=R.values||[];return new Kc(b,S)}(n.endAt)),XI(e,o,f,u,m,"F",p,y)}function OC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ka(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ka(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ka(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ka(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(r):r.fieldFilter!==void 0?function(n){return wt.create(ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(s=>GE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(r):be()}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return bC[r]}function Va(r){return{fieldPath:r.canonicalString()}}function ka(r){return Bt.fromServerFormat(r.fieldPath)}function KE(r){return r instanceof wt?function(n){if(n.op==="=="){if(R_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NAN"}};if(w_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(R_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NAN"}};if(w_(n.value))return{unaryFilter:{field:Va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Va(n.field),op:VC(n.op),value:n.value}}}(r):r instanceof hi?function(n){const s=n.getFilters().map(o=>KE(o));return s.length===1?s[0]:{compositeFilter:{op:kC(n.op),filters:s}}}(r):be()}function PC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.ct=e}}function LC(r){const e=DC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.un=new zC}addToCollectionParentIndex(e,n){return this.un.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Ur.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class zC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new qt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new qt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ka(0)}static kn(){return new Ka(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.changes=new Ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Al(s.mutation,o,gn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Oe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Oe()){const o=Rs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=gl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Rs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Oe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Yi();const f=bl(),m=function(){return bl()}();return n.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof zr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Al(E.mutation,y,E.mutation.getFieldMask(),Rt.now())):f.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var R;return m.set(y,new qC(E,(R=f.get(y))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=bl();let o=new st((f,m)=>f-m),u=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=s.get(p)||gn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const R=(o.get(m.batchId)||Oe()).add(p);o=o.insert(m.batchId,R)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,R=NE();E.forEach(S=>{if(!u.has(S)){const b=PE(n.get(S),s.get(S));b!==null&&R.set(S,b),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,R))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$I(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Rs());let m=-1,p=u;return f.next(y=>ee.forEach(y,(E,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Oe())).next(E=>({batchId:m,changes:xE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=gl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const y=function(R,S){return new oh(S,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((R,S)=>{f=f.insert(R,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$t.newInvalidDocument(E)))});let m=gl();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&Al(E.mutation,y,gn.empty(),Rt.now()),uh(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ee.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(o){return{name:o.name,query:LC(o.bundledQuery),readTime:oi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new st(ge.comparator),this.Ir=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Rs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.ht(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Rs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Rs(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Rs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}ht(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(n,s));let u=this.Ir.get(n);u===void 0&&(u=Oe(),this.Ir.set(n,u)),this.Ir.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Tr=new qt(Mt.Er),this.dr=new qt(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Vr(new Mt(e,n))}mr(e,n){e.forEach(s=>this.removeReference(s,n))}gr(e){const n=new ge(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.dr.forEachInRange([s,o],f=>{this.Vr(f),u.push(f.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ge(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=Oe();return this.dr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.Tr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ge.comparator(e.key,n.key)||je(e.wr,n.wr)}static Ar(e,n){return je(e.wr,n.wr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new qt(Mt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.br=this.br.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.vr(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],f=>{const m=this.Dr(f.wr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new qt(je);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,f],m=>{s=s.add(m.wr)})}),ee.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ge(u),0);let m=new qt(je);return this.br.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.wr)),!0)},f),ee.resolve(this.Cr(m))}Cr(e){const n=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return ee.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,n){const s=new Mt(n,0),o=this.br.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.Mr=e,this.docs=function(){return new st(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.Mr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():$t.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yi();const f=n.path,m=new ge(f.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||NI(xI(E),s)<=0||(o.has(E.key)||uh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}Or(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new XC(this)}getSize(e){return ee.resolve(this.size)}}class XC extends BC{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.persistence=e,this.Nr=new Ja(n=>Fm(n),Gm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wm,this.targetCount=0,this.kr=Ka.Bn()}forEachTarget(e,n){return this.Nr.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Lr&&(this.Lr=n),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ka(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Kn(n),ee.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Nr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Nr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.Nr.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this.Br.Rr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this.Br.mr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Br.yr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zm(0),this.Kr=!1,this.Kr=!0,this.$r=new KC,this.referenceDelegate=e(this),this.Ur=new $C(this),this.indexManager=new jC,this.remoteDocumentCache=function(o){return new YC(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new UC(n),this.Gr=new FC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.qr[e.toKey()];return s||(s=new QC(n,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new WC(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,n){return ee.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,n)))}}class WC extends OI{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.Jr=new Wm,this.Yr=null}static Zr(e){return new Jm(e)}get Xr(){if(this.Yr)return this.Yr;throw be()}addReference(e,n,s){return this.Jr.addReference(s,n),this.Xr.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Jr.removeReference(s,n),this.Xr.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,s=>{const o=ge.fromPath(s);return this.ei(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(s=>{s?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ee.or([()=>ee.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.$i=s,this.Ui=o}static Wi(e,n){let s=Oe(),o=Oe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ep(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return JS()?8:MI(Zt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.Yi(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.Zi(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new JC;return this.Xi(e,n,f).next(m=>{if(u.result=m,this.zi)return this.es(e,n,f,m.size)})}).next(()=>u.result)}es(e,n,s,o){return s.documentReadCount<this.ji?(ml()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ma(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(ml()<=Me.DEBUG&&ue("QueryEngine","Query:",Ma(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(ml()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ma(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(n))):ee.resolve())}Yi(e,n){if(N_(n))return ee.resolve(null);let s=ai(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=am(n,null,"F"),s=ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Oe(...u);return this.Ji.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.ts(n,m);return this.ns(n,y,f,p.readTime)?this.Yi(e,am(n,null,"F")):this.rs(e,y,n,p)}))})))}Zi(e,n,s,o){return N_(n)||o.isEqual(Ae.min())?ee.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const f=this.ts(n,u);return this.ns(n,f,s,o)?ee.resolve(null):(ml()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ma(n)),this.rs(e,f,n,CI(o,-1)).next(m=>m))})}ts(e,n){let s=new qt(IE(e));return n.forEach((o,u)=>{uh(e,u)&&(s=s.add(u))}),s}ns(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,n,s){return ml()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ma(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ur.min(),s)}rs(e,n,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,n,s,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new st(je),this._s=new Ja(u=>Fm(u),Gm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HC(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function nx(r,e,n,s){return new tx(r,e,n,s)}async function YE(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Oe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(y=>({hs:y,removedBatchIds:f,addedBatchIds:m}))})})}function ix(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const R=y.batch,S=R.keys();let b=ee.resolve();return S.forEach(N=>{b=b.next(()=>E.getEntry(p,N)).next(Y=>{const B=y.docVersions.get(N);Ke(B!==null),Y.version.compareTo(B)<0&&(R.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),b.next(()=>m.mutationQueue.removeMutationBatch(p,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Oe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function XE(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function rx(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const m=[];e.targetChanges.forEach((E,R)=>{const S=o.get(R);if(!S)return;m.push(n.Ur.removeMatchingKeys(u,E.removedDocuments,R).next(()=>n.Ur.addMatchingKeys(u,E.addedDocuments,R)));let b=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?b=b.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(E.resumeToken,s)),o=o.insert(R,b),function(Y,B,Q){return Y.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(S,b,E)&&m.push(n.Ur.updateTargetData(u,b))});let p=Yi(),y=Oe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(sx(u,f,e.documentUpdates).next(E=>{p=E.Ps,y=E.Is})),!s.isEqual(Ae.min())){const E=n.Ur.getLastRemoteSnapshotVersion(u).next(R=>n.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.os=o,u))}function sx(r,e,n){let s=Oe(),o=Oe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Yi();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ps:f,Is:o}})}function ax(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ox(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ur.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Ur.allocateTargetId(s).next(f=>(o=new Dr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(s.targetId,s),n._s.set(e,s.targetId)),s})}async function hm(r,e,n){const s=Se(r),o=s.os.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Hl(f))throw f;ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function B_(r,e,n){const s=Se(r);let o=Ae.min(),u=Oe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const R=Se(p),S=R._s.get(E);return S!==void 0?ee.resolve(R.os.get(S)):R.Ur.getTargetData(y,E)}(s,f,ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Oe())).next(m=>(lx(s,WI(e),m),{documents:m,Ts:u})))}function lx(r,e,n){let s=r.us.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.us.set(e,s)}class q_{constructor(){this.activeTargetIds=rC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ux{constructor(){this.so=new q_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,s){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new q_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc=null;function Bd(){return Sc===null?Sc=function(){return 268435456+Math.round(2147483648*Math.random())}():Sc++,"0x"+Sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class dx extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+n.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(n,s,o,u,f){const m=Bd(),p=this.xo(n,s.toUriEncodedString());ue("RestConnection",`Sending RPC '${n}' ${m}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,u,f),this.No(n,p,y,o).then(E=>(ue("RestConnection",`Received RPC '${n}' ${m}: `,E),E),E=>{throw qa("RestConnection",`RPC '${n}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(n,s,o,u,f,m){return this.Mo(n,s,o,u,f)}Oo(n,s,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,f)=>n[f]=u),o&&o.headers.forEach((u,f)=>n[f]=u)}xo(n,s){const o=hx[n];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,s,o){const u=Bd();return new Promise((f,m)=>{const p=new cE;p.setWithCredentials(!0),p.listenOnce(hE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Oc.NO_ERROR:const E=p.getResponseJson();ue(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Oc.TIMEOUT:ue(Yt,`RPC '${e}' ${u} timed out`),m(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const R=p.getStatus();if(ue(Yt,`RPC '${e}' ${u} failed with status:`,R,"response text:",p.getResponseText()),R>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const b=S==null?void 0:S.error;if(b&&b.status&&b.message){const N=function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN}(b.status);m(new me(N,b.message))}else m(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ue(Yt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ue(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Bo(e,n,s){const o=Bd(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=mE(),m=dE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ue(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const R=f.createWebChannel(E,p);let S=!1,b=!1;const N=new fx({Io:B=>{b?ue(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(S||(ue(Yt,`Opening RPC '${e}' stream ${o} transport.`),R.open(),S=!0),ue(Yt,`RPC '${e}' stream ${o} sending:`,B),R.send(B))},To:()=>R.close()}),Y=(B,Q,se)=>{B.listen(Q,te=>{try{se(te)}catch(fe){setTimeout(()=>{throw fe},0)}})};return Y(R,pl.EventType.OPEN,()=>{b||(ue(Yt,`RPC '${e}' stream ${o} transport opened.`),N.yo())}),Y(R,pl.EventType.CLOSE,()=>{b||(b=!0,ue(Yt,`RPC '${e}' stream ${o} transport closed`),N.So())}),Y(R,pl.EventType.ERROR,B=>{b||(b=!0,qa(Yt,`RPC '${e}' stream ${o} transport errored:`,B),N.So(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),Y(R,pl.EventType.MESSAGE,B=>{var Q;if(!b){const se=B.data[0];Ke(!!se);const te=se,fe=te.error||((Q=te[0])===null||Q===void 0?void 0:Q.error);if(fe){ue(Yt,`RPC '${e}' stream ${o} received error:`,fe);const ce=fe.status;let we=function(C){const M=vt[C];if(M!==void 0)return LE(M)}(ce),k=fe.message;we===void 0&&(we=ne.INTERNAL,k="Unknown error status: "+ce+" with message "+fe.message),b=!0,N.So(new me(we,k)),R.close()}else ue(Yt,`RPC '${e}' stream ${o} received:`,se),N.bo(se)}}),Y(m,fE.STAT_EVENT,B=>{B.stat===tm.PROXY?ue(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===tm.NOPROXY&&ue(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{N.wo()},0),N}}function qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(r){return new AC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,s,o,u,f,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $E(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Qi(n.toString()),Qi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===n&&this.P_(s,o)},s=>{e(()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,n){const s=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mx extends ZE{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=RC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?oi(f.readTime):Ae.min()}(e);return this.listener.d_(n,s)}A_(e){const n={};n.database=cm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=sm(p)?{documents:xC(u,p)}:{query:NC(u,p)._t},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=BE(u,f.resumeToken);const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=$c(u,f.snapshotVersion.toTimestamp());const y=om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=OC(this.serializer,e);s&&(n.labels=s),this.a_(n)}R_(e){const n={};n.database=cm(this.serializer),n.removeTarget=e,this.a_(n)}}class px extends ZE{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=CC(e.writeResults,e.commitTime),s=oi(e.commitTime);return this.listener.g_(s,n)}p_(){const e={};e.database=cm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>IC(this.serializer,s))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends class{}{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Mo(e,lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}Lo(e,n,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Lo(e,lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qi(n),this.D_=!1):ue("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(f=>{s.enqueueAndForget(async()=>{Ls(this)&&(ue("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Se(p);y.L_.add(4),await Kl(y),y.q_.set("Unknown"),y.L_.delete(4),await mh(y)}(this))})}),this.q_=new yx(s,o)}}async function mh(r){if(Ls(r))for(const e of r.B_)await e(!0)}async function Kl(r){for(const e of r.B_)await e(!1)}function WE(r,e){const n=Se(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),rp(n)?ip(n):eo(n).r_()&&np(n,e))}function tp(r,e){const n=Se(r),s=eo(n);n.N_.delete(e),s.r_()&&JE(n,e),n.N_.size===0&&(s.r_()?s.o_():Ls(n)&&n.q_.set("Unknown"))}function np(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}eo(r).A_(e)}function JE(r,e){r.Q_.xe(e),eo(r).R_(e)}function ip(r){r.Q_=new _C({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),eo(r).start(),r.q_.v_()}function rp(r){return Ls(r)&&!eo(r).n_()&&r.N_.size>0}function Ls(r){return Se(r).L_.size===0}function eT(r){r.Q_=void 0}async function _x(r){r.q_.set("Online")}async function Ex(r){r.N_.forEach((e,n)=>{np(r,e)})}async function Tx(r,e){eT(r),rp(r)?(r.q_.M_(e),ip(r)):r.q_.set("Unknown")}async function bx(r,e,n){if(r.q_.set("Online"),e instanceof zE&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.N_.delete(m),o.Q_.removeTarget(m))}(r,e)}catch(s){ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zc(r,s)}else if(e instanceof kc?r.Q_.Ke(e):e instanceof jE?r.Q_.He(e):r.Q_.We(e),!n.isEqual(Ae.min()))try{const s=await XE(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Q_.rt(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(y);E&&u.N_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),JE(u,p);const R=new Dr(E.target,p,y,E.sequenceNumber);np(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue("RemoteStore","Failed to raise snapshot:",s),await Zc(r,s)}}async function Zc(r,e,n){if(!Hl(e))throw e;r.L_.add(1),await Kl(r),r.q_.set("Offline"),n||(n=()=>XE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await mh(r)})}function tT(r,e){return e().catch(n=>Zc(r,n,e))}async function ph(r){const e=Se(r),n=jr(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Ax(e);)try{const o=await ax(e.localStore,s);if(o===null){e.O_.length===0&&n.o_();break}s=o.batchId,Sx(e,o)}catch(o){await Zc(e,o)}nT(e)&&iT(e)}function Ax(r){return Ls(r)&&r.O_.length<10}function Sx(r,e){r.O_.push(e);const n=jr(r);n.r_()&&n.V_&&n.m_(e.mutations)}function nT(r){return Ls(r)&&!jr(r).n_()&&r.O_.length>0}function iT(r){jr(r).start()}async function wx(r){jr(r).p_()}async function Rx(r){const e=jr(r);for(const n of r.O_)e.m_(n.mutations)}async function Ix(r,e,n){const s=r.O_.shift(),o=Xm.from(s,e,n);await tT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ph(r)}async function Cx(r,e){e&&jr(r).V_&&await async function(s,o){if(function(f){return gC(f)&&f!==ne.ABORTED}(o.code)){const u=s.O_.shift();jr(s).s_(),await tT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ph(s)}}(r,e),nT(r)&&iT(r)}async function F_(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),ue("RemoteStore","RemoteStore received new credentials");const s=Ls(n);n.L_.add(3),await Kl(n),s&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await mh(n)}async function xx(r,e){const n=Se(r);e?(n.L_.delete(2),await mh(n)):e||(n.L_.add(2),await Kl(n),n.q_.set("Unknown"))}function eo(r){return r.K_||(r.K_=function(n,s,o){const u=Se(n);return u.w_(),new mx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:_x.bind(null,r),Ro:Ex.bind(null,r),mo:Tx.bind(null,r),d_:bx.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),rp(r)?ip(r):r.q_.set("Unknown")):(await r.K_.stop(),eT(r))})),r.K_}function jr(r){return r.U_||(r.U_=function(n,s,o){const u=Se(n);return u.w_(),new px(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:wx.bind(null,r),mo:Cx.bind(null,r),f_:Rx.bind(null,r),g_:Ix.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await ph(r)):(await r.U_.stop(),r.O_.length>0&&(ue("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new sp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(r,e){if(Qi("AsyncQueue",`${e}: ${r}`),Hl(r))return new me(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=gl(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new ja(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ja)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ja;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.W_=new st(ge.comparator)}track(e){const n=e.doc.key,s=this.W_.get(n);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(n,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(n):e.type===1&&s.type===2?this.W_=this.W_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):be():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Qa{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Qa(e,n,ja.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Dx{constructor(){this.queries=K_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=K_(),u.forEach((f,m)=>{for(const p of m.j_)p.onError(s)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function K_(){return new Ja(r=>RE(r),lh)}async function rT(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new Nx,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await n.onListen(o,!0);break;case 1:u.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ap(f,`Initialization of query '${Ma(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.j_.push(e),e.Z_(n.onlineState),u.z_&&e.X_(u.z_)&&op(n)}async function sT(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.j_.indexOf(e);f>=0&&(u.j_.splice(f,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Ox(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.j_)m.X_(o)&&(s=!0);f.z_=o}}s&&op(n)}function Mx(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(n);s.queries.delete(e)}function op(r){r.Y_.forEach(e=>{e.next()})}var fm,Q_;(Q_=fm||(fm={})).ea="default",Q_.Cache="cache";class aT{constructor(e,n,s){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Qa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const s=n!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Qa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.key=e}}class lT{constructor(e){this.key=e}}class Vx{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=IE(e),this.Ra=new ja(this.Aa)}get Va(){return this.Ta}ma(e,n){const s=n?n.fa:new G_,o=n?n.Ra:this.Ra;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,R)=>{const S=o.get(E),b=uh(this.query,R)?R:null,N=!!S&&this.mutatedKeys.has(S.key),Y=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;S&&b?S.data.isEqual(b.data)?N!==Y&&(s.track({type:3,doc:b}),B=!0):this.ga(S,b)||(s.track({type:2,doc:b}),B=!0,(p&&this.Aa(b,p)>0||y&&this.Aa(b,y)<0)&&(m=!0)):!S&&b?(s.track({type:0,doc:b}),B=!0):S&&!b&&(s.track({type:1,doc:S}),B=!0,(p||y)&&(m=!0)),B&&(b?(f=f.add(b),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:f,fa:s,ns:m,mutatedKeys:u}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const f=e.fa.G_();f.sort((E,R)=>function(b,N){const Y=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return Y(b)-Y(N)}(E.type,R.type)||this.Aa(E.doc,R.doc)),this.pa(s),o=o!=null&&o;const m=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,f.length!==0||y?{snapshot:new Qa(this.query,e.Ra,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new G_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const n=[];return e.forEach(s=>{this.da.has(s)||n.push(new lT(s))}),this.da.forEach(s=>{e.has(s)||n.push(new oT(s))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Qa.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class kx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Px{constructor(e){this.key=e,this.va=!1}}class Ux{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Ca={},this.Fa=new Ja(m=>RE(m),lh),this.Ma=new Map,this.xa=new Set,this.Oa=new st(ge.comparator),this.Na=new Map,this.La=new Wm,this.Ba={},this.ka=new Map,this.qa=Ka.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Lx(r,e,n=!0){const s=mT(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await uT(s,e,n,!0),o}async function jx(r,e){const n=mT(r);await uT(n,e,!0,!1)}async function uT(r,e,n,s){const o=await ox(r.localStore,ai(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await zx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&WE(r.remoteStore,o),m}async function zx(r,e,n,s,o){r.Ka=(R,S,b)=>async function(Y,B,Q,se){let te=B.view.ma(Q);te.ns&&(te=await B_(Y.localStore,B.query,!1).then(({documents:k})=>B.view.ma(k,te)));const fe=se&&se.targetChanges.get(B.targetId),ce=se&&se.targetMismatches.get(B.targetId)!=null,we=B.view.applyChanges(te,Y.isPrimaryClient,fe,ce);return X_(Y,B.targetId,we.wa),we.snapshot}(r,R,S,b);const u=await B_(r.localStore,e,!0),f=new Vx(e,u.Ts),m=f.ma(u.documents),p=Gl.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);X_(r,n,y.wa);const E=new kx(e,n,f);return r.Fa.set(e,E),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),y.snapshot}async function Bx(r,e,n){const s=Se(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(f=>!lh(f,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tp(s.remoteStore,o.targetId),dm(s,o.targetId)}).catch(ql)):(dm(s,o.targetId),await hm(s.localStore,o.targetId,!0))}async function qx(r,e){const n=Se(r),s=n.Fa.get(e),o=n.Ma.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tp(n.remoteStore,s.targetId))}async function Hx(r,e,n){const s=$x(r);try{const o=await function(f,m){const p=Se(f),y=Rt.now(),E=m.reduce((b,N)=>b.add(N.key),Oe());let R,S;return p.persistence.runTransaction("Locally write mutations","readwrite",b=>{let N=Yi(),Y=Oe();return p.cs.getEntries(b,E).next(B=>{N=B,N.forEach((Q,se)=>{se.isValidDocument()||(Y=Y.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(b,N)).next(B=>{R=B;const Q=[];for(const se of m){const te=hC(se,R.get(se.key).overlayedDocument);te!=null&&Q.push(new zr(se.key,te,_E(te.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,y,Q,m)}).next(B=>{S=B;const Q=B.applyToLocalDocumentSet(R,Y);return p.documentOverlayCache.saveOverlays(b,B.batchId,Q)})}).then(()=>({batchId:S.batchId,changes:xE(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Ba[f.currentUser.toKey()];y||(y=new st(je)),y=y.insert(m,p),f.Ba[f.currentUser.toKey()]=y}(s,o.batchId,n),await Ql(s,o.changes),await ph(s.remoteStore)}catch(o){const u=ap(o,"Failed to persist write");n.reject(u)}}async function cT(r,e){const n=Se(r);try{const s=await rx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Na.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.va=!0:o.modifiedDocuments.size>0?Ke(f.va):o.removedDocuments.size>0&&(Ke(f.va),f.va=!1))}),await Ql(n,s,e)}catch(s){await ql(s)}}function Y_(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Fa.forEach((u,f)=>{const m=f.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let y=!1;p.queries.forEach((E,R)=>{for(const S of R.j_)S.Z_(m)&&(y=!0)}),y&&op(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Fx(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Na.get(e),u=o&&o.key;if(u){let f=new st(ge.comparator);f=f.insert(u,$t.newNoDocument(u,Ae.min()));const m=Oe().add(u),p=new fh(Ae.min(),new Map,new st(je),f,m);await cT(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),lp(s)}else await hm(s.localStore,e,!1).then(()=>dm(s,e,n)).catch(ql)}async function Gx(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await ix(n.localStore,e);fT(n,s,null),hT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ql(n,o)}catch(o){await ql(o)}}async function Kx(r,e,n){const s=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(R=>(Ke(R!==null),E=R.keys(),p.mutationQueue.removeMutationBatch(y,R))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);fT(s,e,n),hT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ql(s,o)}catch(o){await ql(o)}}function hT(r,e){(r.ka.get(e)||[]).forEach(n=>{n.resolve()}),r.ka.delete(e)}function fT(r,e,n){const s=Se(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function dm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),n&&r.Ca.$a(s,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(s=>{r.La.containsKey(s)||dT(r,s)})}function dT(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(tp(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),lp(r))}function X_(r,e,n){for(const s of n)s instanceof oT?(r.La.addReference(s.key,e),Qx(r,s)):s instanceof lT?(ue("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||dT(r,s.key)):be()}function Qx(r,e){const n=e.key,s=n.path.canonicalString();r.Oa.get(n)||r.xa.has(s)||(ue("SyncEngine","New document in limbo: "+n),r.xa.add(s),lp(r))}function lp(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new ge(nt.fromString(e)),s=r.qa.next();r.Na.set(s,new Px(n)),r.Oa=r.Oa.insert(n,s),WE(r.remoteStore,new Dr(ai(Km(n.path)),s,"TargetPurposeLimboResolution",zm.oe))}}async function Ql(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{f.push(s.Ka(p,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const R=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(y){o.push(y);const R=ep.Wi(p.targetId,y);u.push(R)}}))}),await Promise.all(f),s.Ca.d_(o),await async function(p,y){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ee.forEach(y,S=>ee.forEach(S.$i,b=>E.persistence.referenceDelegate.addReference(R,S.targetId,b)).next(()=>ee.forEach(S.Ui,b=>E.persistence.referenceDelegate.removeReference(R,S.targetId,b)))))}catch(R){if(!Hl(R))throw R;ue("LocalStore","Failed to update sequence numbers: "+R)}for(const R of y){const S=R.targetId;if(!R.fromCache){const b=E.os.get(S),N=b.snapshotVersion,Y=b.withLastLimboFreeSnapshotVersion(N);E.os=E.os.insert(S,Y)}}}(s.localStore,u))}async function Yx(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){ue("SyncEngine","User change. New user:",e.toKey());const s=await YE(n.localStore,e);n.currentUser=e,function(u,f){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new me(ne.CANCELLED,f))})}),u.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ql(n,s.hs)}}function Xx(r,e){const n=Se(r),s=n.Na.get(e);if(s&&s.va)return Oe().add(s.key);{let o=Oe();const u=n.Ma.get(e);if(!u)return o;for(const f of u){const m=n.Fa.get(f);o=o.unionWith(m.view.Va)}return o}}function mT(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=cT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fx.bind(null,e),e.Ca.d_=Ox.bind(null,e.eventManager),e.Ca.$a=Mx.bind(null,e.eventManager),e}function $x(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kx.bind(null,e),e}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return nx(this.persistence,new ex,e.initialUser,this.serializer)}Ga(e){return new ZC(Jm.Zr,this.serializer)}Wa(e){return new ux}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class mm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Y_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yx.bind(null,this.syncEngine),await xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Dx}()}createDatastore(e){const n=dh(e.databaseInfo.databaseId),s=function(u){return new dx(u)}(e.databaseInfo);return function(u,f,m,p){return new gx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new vx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Y_(this.syncEngine,n,0),function(){return H_.D()?new H_:new cx}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,E){const R=new Ux(o,u,f,m,p,y);return E&&(R.Qa=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);ue("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Kl(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}mm.provider={build:()=>new mm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ap(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Hd(r,e){r.asyncQueue.verifyOperationInProgress(),ue("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await YE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Wx(r);ue("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>F_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>F_(e.remoteStore,o)),r._onlineComponents=e}async function Wx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),await Hd(r,new Wc)}}else ue("FirestoreClient","Using default OfflineComponentProvider"),await Hd(r,new Wc);return r._offlineComponents}async function gT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue("FirestoreClient","Using user provided OnlineComponentProvider"),await $_(r,r._uninitializedComponentsProvider._online)):(ue("FirestoreClient","Using default OnlineComponentProvider"),await $_(r,new mm))),r._onlineComponents}function Jx(r){return gT(r).then(e=>e.syncEngine)}async function pm(r){const e=await gT(r),n=e.eventManager;return n.onListen=Lx.bind(null,e.syncEngine),n.onUnlisten=Bx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qx.bind(null,e.syncEngine),n}function eN(r,e,n={}){const s=new kr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const E=new pT({next:S=>{E.Za(),f.enqueueAndForget(()=>sT(u,R)),S.fromCache&&p.source==="server"?y.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),R=new aT(m,E,{includeMetadataChanges:!0,_a:!0});return rT(u,R)}(await pm(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(r,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tN(r,e,n,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function W_(r){if(!ge.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function J_(r){if(ge.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function up(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be()}function li(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(r);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e0(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _I;switch(s.type){case"firstParty":return new AI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Z_.get(n);s&&(ue("ComponentProvider","Removing Datastore"),Z_.delete(n),s.terminate())}(this),Promise.resolve()}}function nN(r,e,n,s={}){var o;const u=(r=li(r,gh))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=Xt.MOCK_USER;else{m=KS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=s.mockUserToken.sub||s.mockUserToken.user_id;if(!y)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Xt(y)}r._authCredentials=new EI(new pE(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yl(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Pr extends Yl{constructor(e,n,s){super(e,n,Km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ge(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Dn(r,e,...n){if(r=Ht(r),vT("collection","path",e),r instanceof gh){const s=nt.fromString(e,...n);return J_(s),new Pr(r,null,s)}{if(!(r instanceof yn||r instanceof Pr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return J_(s),new Pr(r.firestore,null,s)}}function Xi(r,e,...n){if(r=Ht(r),arguments.length===1&&(e=gE.newId()),vT("doc","path",e),r instanceof gh){const s=nt.fromString(e,...n);return W_(s),new yn(r,null,new ge(s))}{if(!(r instanceof yn||r instanceof Pr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return W_(s),new yn(r.firestore,r instanceof Pr?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $E(this,"async_queue_retry"),this.Vu=()=>{const s=qd();s&&ue("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new kr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Hl(e))throw e;ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Qi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=sp.createAndSchedule(this,e,n,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&be()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function n0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Vs extends gh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new t0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t0(e),this._firestoreClient=void 0,await e}}}function _T(r,e){const n=typeof r=="object"?r:Im(),s=typeof r=="string"?r:"(default)",o=wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=FS("firestore");u&&nN(o,...u)}return o}function cp(r){if(r._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iN(r),r._firestoreClient}function iN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,E){return new PI(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,yT(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Zx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ya(Ft.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ya(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=/^__.*__$/;class sN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new zr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fl(e,this.data,n,this.fieldTransforms)}}class ET{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new zr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class mp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Jc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(TT(this.Cu)&&rN.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class aN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||dh(e)}Qu(e,n,s,o=!1){return new mp({Cu:e,methodName:n,qu:s,path:Bt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bT(r){const e=r._freezeSettings(),n=dh(r._databaseId);return new aN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function oN(r,e,n,s,o,u={}){const f=r.Qu(u.merge||u.mergeFields?2:0,e,n,o);pp("Data must be an object, but it was:",f,s);const m=AT(s,f);let p,y;if(u.merge)p=new gn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const R of u.mergeFields){const S=gm(e,R,n);if(!f.contains(S))throw new me(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);wT(E,S)||E.push(S)}p=new gn(E),y=f.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,y=f.fieldTransforms;return new sN(new an(m),p,y)}class vh extends hp{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vh}}function lN(r,e,n,s){const o=r.Qu(1,e,n);pp("Data must be an object, but it was:",o,s);const u=[],f=an.empty();Us(s,(p,y)=>{const E=gp(e,p,n);y=Ht(y);const R=o.Nu(E);if(y instanceof vh)u.push(E);else{const S=_h(y,R);S!=null&&(u.push(E),f.set(E,S))}});const m=new gn(u);return new ET(f,m,o.fieldTransforms)}function uN(r,e,n,s,o,u){const f=r.Qu(1,e,n),m=[gm(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(gm(e,u[S])),p.push(u[S+1]);const y=[],E=an.empty();for(let S=m.length-1;S>=0;--S)if(!wT(y,m[S])){const b=m[S];let N=p[S];N=Ht(N);const Y=f.Nu(b);if(N instanceof vh)y.push(b);else{const B=_h(N,Y);B!=null&&(y.push(b),E.set(b,B))}}const R=new gn(y);return new ET(E,R,f.fieldTransforms)}function _h(r,e){if(ST(r=Ht(r)))return pp("Unsupported field value:",e,r),AT(r,e);if(r instanceof hp)return function(s,o){if(!TT(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_h(m,o.Lu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ht(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:$c(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$c(o.serializer,u)}}if(s instanceof fp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ya)return{bytesValue:BE(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Bu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Zm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof dp)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Qm(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${up(s)}`)}(r,e)}function AT(r,e){const n={};return yE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Us(r,(s,o)=>{const u=_h(o,e.Mu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ST(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Rt||r instanceof fp||r instanceof Ya||r instanceof yn||r instanceof hp||r instanceof dp)}function pp(r,e,n){if(!ST(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=up(n);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function gm(r,e,n){if((e=Ht(e))instanceof yh)return e._internalPath;if(typeof e=="string")return gp(r,e);throw Jc("Field path arguments must be of type string or ",r,!1,void 0,n)}const cN=new RegExp("[~\\*/\\[\\]]");function gp(r,e,n){if(e.search(cN)>=0)throw Jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new yh(...e.split("."))._internalPath}catch{throw Jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Jc(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+r+p)}function wT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hN extends RT{data(){return super.data()}}function IT(r,e){return typeof e=="string"?gp(r,e):e instanceof yh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fN{convertValue(e,n="none"){switch(Ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Us(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new dp(u)}convertGeoPoint(e){return new fp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=qm(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(xl(e));default:return null}}convertTimestamp(e){const n=Lr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(QE(s));const o=new Nl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Qi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xT extends RT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(IT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Pc extends xT{data(e={}){return super.data(e)}}class NT{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new vl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Pc(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Pc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:mN(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function mN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}class yp extends fN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function wc(r){r=li(r,Yl);const e=li(r.firestore,Vs),n=cp(e),s=new yp(e);return CT(r._query),eN(n,r._query).then(o=>new NT(e,s,r,o))}function Eh(r,e,n,...s){r=li(r,yn);const o=li(r.firestore,Vs),u=bT(o);let f;return f=typeof(e=Ht(e))=="string"||e instanceof yh?uN(u,"updateDoc",r._key,e,n,s):lN(u,"updateDoc",r._key,e),vp(o,[f.toMutation(r._key,jn.exists(!0))])}function Th(r){return vp(li(r.firestore,Vs),[new Ym(r._key,jn.none())])}function bh(r,e){const n=li(r.firestore,Vs),s=Xi(r),o=dN(r.converter,e);return vp(n,[oN(bT(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then(()=>s)}function Ah(r,...e){var n,s,o;r=Ht(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||n0(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(n0(e[f])){const R=e[f];e[f]=(n=R.next)===null||n===void 0?void 0:n.bind(R),e[f+1]=(s=R.error)===null||s===void 0?void 0:s.bind(R),e[f+2]=(o=R.complete)===null||o===void 0?void 0:o.bind(R)}let p,y,E;if(r instanceof yn)y=li(r.firestore,Vs),E=Km(r._key.path),p={next:R=>{e[f]&&e[f](pN(y,r,R))},error:e[f+1],complete:e[f+2]};else{const R=li(r,Yl);y=li(R.firestore,Vs),E=R._query;const S=new yp(y);p={next:b=>{e[f]&&e[f](new NT(y,S,R,b))},error:e[f+1],complete:e[f+2]},CT(r._query)}return function(S,b,N,Y){const B=new pT(Y),Q=new aT(b,B,N);return S.asyncQueue.enqueueAndForget(async()=>rT(await pm(S),Q)),()=>{B.Za(),S.asyncQueue.enqueueAndForget(async()=>sT(await pm(S),Q))}}(cp(y),E,m,p)}function vp(r,e){return function(s,o){const u=new kr;return s.asyncQueue.enqueueAndForget(async()=>Hx(await Jx(s),o,u)),u.promise}(cp(r),e)}function pN(r,e,n){const s=n.docs.get(e._key),o=new yp(r);return new xT(r,o,e._key,s,new vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Wa=o})($a),za(new xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Vs(new TI(s.getProvider("auth-internal")),new wI(s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Vr(E_,"4.7.3",e),Vr(E_,"4.7.3","esm2017")})();const gN={apiKey:"AIzaSyBArirzumw8JOSfNK-GL9KTR2iObUUGE2A",authDomain:"iit-indore-student.firebaseapp.com",projectId:"iit-indore-student",storageBucket:"iit-indore-student.appspot.com",messagingSenderId:"490374910464",appId:"1:490374910464:web:88939bb5239a3d7b6efee5",measurementId:"G-27QP57MMKX"},DT=Rm(gN),Fd=pI(DT);_T(DT);new ri;const yN={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_SENDER_ID",appId:"YOUR_APP_ID"},vN=oR().length>0?Im():Rm(yN),_t=_T(vN);function _N(){const[r,e]=G.useState([]),[n,s]=G.useState([]),[o,u]=G.useState([]),[f,m]=G.useState([]),[p,y]=G.useState(!0);if(G.useEffect(()=>{(async()=>{try{const[b,N,Y,B]=await Promise.all([wc(Dn(_t,"events")),wc(Dn(_t,"merchandise")),wc(Dn(_t,"clubs")),wc(Dn(_t,"users"))]);e(b.docs.map(Q=>({id:Q.id,...Q.data()}))),s(N.docs.map(Q=>({id:Q.id,...Q.data()}))),u(Y.docs.map(Q=>({id:Q.id,...Q.data()}))),m(B.docs.map(Q=>({id:Q.id,...Q.data()})))}catch(b){console.error("Error fetching dashboard data:",b)}finally{y(!1)}})()},[]),p)return w.jsx("div",{className:"flex justify-center items-center h-64",children:"Loading dashboard data..."});const E=[{title:"Total Events",value:r.length,color:"bg-blue-100 text-blue-800",icon:""},{title:"Event Participants",value:r.reduce((S,b)=>S+(Number(b.participants)||0),0),color:"bg-green-100 text-green-800",icon:""},{title:"Merchandise Items",value:n.length,color:"bg-purple-100 text-purple-800",icon:""},{title:"Active Clubs",value:o.filter(S=>S.status==="active").length,color:"bg-yellow-100 text-yellow-800",icon:""},{title:"Total Users",value:f.length,color:"bg-red-100 text-red-800",icon:""},{title:"Admin Users",value:f.filter(S=>S.role==="admin").length,color:"bg-indigo-100 text-indigo-800",icon:""}],R=[...r.slice(0,3).map(S=>({type:"event",title:S.name,date:S.date,description:`Scheduled for ${S.location} with ${S.participants} participants`})),...n.slice(0,2).map(S=>({type:"merchandise",title:S.name,date:"Recently added",description:`${S.stock} in stock at ${S.price} each`})),...o.slice(0,2).map(S=>({type:"club",title:S.name,date:"Active",description:`Meets ${S.meetingSchedule} - ${S.category} club`}))].sort((S,b)=>new Date(b.date)-new Date(S.date)).slice(0,5);return w.jsxs("div",{className:"space-y-8",children:[w.jsx("h1",{className:"text-3xl font-bold text-college-primary",children:"Dashboard Overview"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4",children:E.map((S,b)=>w.jsx("div",{className:`p-4 rounded-lg shadow ${S.color}`,children:w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm font-medium",children:S.title}),w.jsx("p",{className:"text-2xl font-bold",children:S.value})]}),w.jsx("span",{className:"text-2xl",children:S.icon})]})},b))}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[w.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[w.jsx("span",{className:"mr-2",children:""})," Upcoming Events"]}),w.jsxs("div",{className:"space-y-4",children:[r.slice(0,3).map(S=>w.jsxs("div",{className:"border-b pb-3 last:border-0",children:[w.jsx("h3",{className:"font-medium",children:S.name}),w.jsxs("p",{className:"text-sm text-gray-600",children:[S.date," at ",S.location]}),w.jsxs("p",{className:"text-sm",children:[S.participants," participants"]})]},S.id)),r.length===0&&w.jsx("p",{className:"text-gray-500",children:"No upcoming events"})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[w.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[w.jsx("span",{className:"mr-2",children:""})," Merchandise Status"]}),w.jsxs("div",{className:"space-y-4",children:[n.slice(0,3).map(S=>w.jsxs("div",{className:"border-b pb-3 last:border-0",children:[w.jsxs("div",{className:"flex justify-between items-center",children:[w.jsx("h3",{className:"font-medium",children:S.name}),w.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${S.status==="available"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:S.status})]}),w.jsxs("p",{className:"text-sm",children:["",S.price,"  ",S.stock," in stock"]})]},S.id)),n.length===0&&w.jsx("p",{className:"text-gray-500",children:"No merchandise items"})]})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[w.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[w.jsx("span",{className:"mr-2",children:""})," Recent Activities"]}),w.jsxs("div",{className:"space-y-4",children:[R.map((S,b)=>w.jsx("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"font-medium",children:S.title}),w.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),w.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:[S.type,"  ",S.date]})]})},b)),R.length===0&&w.jsx("p",{className:"text-gray-500",children:"No recent activities"})]})]}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[w.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[w.jsx("span",{className:"mr-2",children:""})," Active Clubs"]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.filter(S=>S.status==="active").slice(0,6).map(S=>w.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[w.jsx("h3",{className:"font-medium",children:S.name}),w.jsx("p",{className:"text-sm text-gray-600 capitalize",children:S.category}),w.jsxs("p",{className:"text-sm mt-2",children:[S.description.substring(0,80),"..."]}),w.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Meets: ",S.meetingSchedule]})]},S.id)),o.filter(S=>S.status==="active").length===0&&w.jsx("p",{className:"text-gray-500",children:"No active clubs"})]})]})]})}function EN(){const[r,e]=G.useState([]),[n,s]=G.useState({name:"",date:"",location:"",description:"",participants:""}),[o,u]=G.useState(null),[f,m]=G.useState({name:"",date:"",location:"",description:"",participants:""});G.useEffect(()=>{const b=Ah(Dn(_t,"events"),N=>{const Y=N.docs.map(B=>({id:B.id,...B.data()}));e(Y)});return()=>b()},[]);const p=async b=>{b.preventDefault();try{await bh(Dn(_t,"events"),{...n,participants:Number(n.participants)}),s({name:"",date:"",location:"",description:"",participants:""})}catch(N){alert("Error adding event: "+N.message)}},y=b=>{u(b.id),m(b)},E=async()=>{if(o)try{const b=Xi(_t,"events",o);await Eh(b,{name:f.name,date:f.date,location:f.location,description:f.description,participants:Number(f.participants)}),u(null)}catch(b){alert("Error updating event: "+b.message)}},R=()=>{u(null)},S=async b=>{try{await Th(Xi(_t,"events",b))}catch(N){alert("Error deleting event: "+N.message)}};return w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-college-primary mb-6",children:"Event Management"}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Event"}),w.jsxs("form",{onSubmit:p,className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"text",placeholder:"Event Name",className:"p-2 border rounded",value:n.name,onChange:b=>s({...n,name:b.target.value}),required:!0}),w.jsx("input",{type:"date",className:"p-2 border rounded",value:n.date,onChange:b=>s({...n,date:b.target.value}),required:!0}),w.jsx("input",{type:"text",placeholder:"Location",className:"p-2 border rounded",value:n.location,onChange:b=>s({...n,location:b.target.value}),required:!0}),w.jsx("input",{type:"number",placeholder:"Participants",className:"p-2 border rounded",value:n.participants,onChange:b=>s({...n,participants:b.target.value}),required:!0,min:"1"}),w.jsx("textarea",{placeholder:"Description",className:"p-2 border rounded col-span-2",value:n.description,onChange:b=>s({...n,description:b.target.value}),required:!0}),w.jsx("button",{type:"submit",className:"col-span-2 bg-college-primary text-white py-2 px-4 rounded hover:bg-blue-900",children:"Add Event"})]})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-college-secondary",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left",children:"Event Name"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Date"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Location"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Participants"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Description"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),w.jsx("tbody",{children:r.map(b=>w.jsxs("tr",{className:"border-b",children:[w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"text",value:f.name,onChange:N=>m({...f,name:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.name}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"date",value:f.date,onChange:N=>m({...f,date:N.target.value}),className:"p-1 border rounded",required:!0}):b.date}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"text",value:f.location,onChange:N=>m({...f,location:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.location}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"number",value:f.participants,onChange:N=>m({...f,participants:N.target.value}),className:"p-1 border rounded",required:!0,min:"1"}):b.participants}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("textarea",{value:f.description,onChange:N=>m({...f,description:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.description}),w.jsx("td",{className:"px-6 py-4 space-x-2",children:o===b.id?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:E,className:"text-green-600 hover:text-green-800",children:"Save"}),w.jsx("button",{onClick:R,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>y(b),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),w.jsx("button",{onClick:()=>S(b.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},b.id))})]})})]})}function TN(){const[r,e]=G.useState([]),[n,s]=G.useState({name:"",price:"",stock:"",status:"available"}),[o,u]=G.useState(null),[f,m]=G.useState({name:"",price:"",stock:"",status:"available"});G.useEffect(()=>{const b=Ah(Dn(_t,"merchandise"),N=>{const Y=N.docs.map(B=>({id:B.id,...B.data()}));e(Y)});return()=>b()},[]);const p=async b=>{b.preventDefault();try{await bh(Dn(_t,"merchandise"),{...n,price:Number(n.price),stock:Number(n.stock)}),s({name:"",price:"",stock:"",status:"available"})}catch(N){alert("Error adding item: "+N.message)}},y=b=>{u(b.id),m(b)},E=async()=>{if(o)try{const b=Xi(_t,"merchandise",o);await Eh(b,{name:f.name,price:Number(f.price),stock:Number(f.stock),status:f.status}),u(null)}catch(b){alert("Error updating item: "+b.message)}},R=()=>{u(null)},S=async b=>{try{await Th(Xi(_t,"merchandise",b))}catch(N){alert("Error deleting item: "+N.message)}};return w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-college-primary mb-6",children:"Merchandise Management"}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New Item"}),w.jsxs("form",{onSubmit:p,className:"grid grid-cols-3 gap-4",children:[w.jsx("input",{type:"text",placeholder:"Item Name",className:"p-2 border rounded",value:n.name,onChange:b=>s({...n,name:b.target.value}),required:!0}),w.jsx("input",{type:"number",placeholder:"Price",className:"p-2 border rounded",value:n.price,onChange:b=>s({...n,price:b.target.value}),required:!0,min:"1"}),w.jsx("input",{type:"number",placeholder:"Stock",className:"p-2 border rounded",value:n.stock,onChange:b=>s({...n,stock:b.target.value}),required:!0,min:"0"}),w.jsxs("select",{className:"p-2 border rounded col-span-3",value:n.status,onChange:b=>s({...n,status:b.target.value}),required:!0,children:[w.jsx("option",{value:"available",children:"Available"}),w.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]}),w.jsx("button",{type:"submit",className:"col-span-3 bg-college-primary text-white py-2 px-4 rounded hover:bg-blue-900",children:"Add Item"})]})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-college-secondary",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left",children:"Item Name"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Price"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Stock"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),w.jsx("tbody",{children:r.map(b=>w.jsxs("tr",{className:"border-b",children:[w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"text",value:f.name,onChange:N=>m({...f,name:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.name}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"number",value:f.price,onChange:N=>m({...f,price:N.target.value}),className:"p-1 border rounded w-full",required:!0,min:"1"}):`${b.price}`}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"number",value:f.stock,onChange:N=>m({...f,stock:N.target.value}),className:"p-1 border rounded w-full",required:!0,min:"0"}):b.stock}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsxs("select",{value:f.status,onChange:N=>m({...f,status:N.target.value}),className:"p-1 border rounded",required:!0,children:[w.jsx("option",{value:"available",children:"Available"}),w.jsx("option",{value:"out-of-stock",children:"Out of Stock"})]}):w.jsx("span",{className:`px-2 py-1 rounded ${b.status==="available"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status})}),w.jsx("td",{className:"px-6 py-4 space-x-2",children:o===b.id?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:E,className:"text-green-600 hover:text-green-800",children:"Save"}),w.jsx("button",{onClick:R,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>y(b),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),w.jsx("button",{onClick:()=>S(b.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},b.id))})]})})]})}function bN(){const[r,e]=G.useState([]),[n,s]=G.useState({email:"",role:""}),[o,u]=G.useState(null),[f,m]=G.useState({email:"",role:""});G.useEffect(()=>{const b=Ah(Dn(_t,"users"),N=>{const Y=N.docs.map(B=>({id:B.id,...B.data()}));e(Y)});return()=>b()},[]);const p=async()=>{if(n.email.trim()&&n.role.trim())try{await bh(Dn(_t,"users"),{email:n.email,role:n.role}),s({email:"",role:""})}catch(b){alert("Error adding user: "+b.message)}else alert("Please fill in all fields.")},y=b=>{u(b.id),m({email:b.email,role:b.role})},E=async()=>{if(o)try{const b=Xi(_t,"users",o);await Eh(b,{email:f.email,role:f.role}),u(null),m({email:"",role:""})}catch(b){alert("Error updating user: "+b.message)}},R=()=>{u(null),m({email:"",role:""})},S=async b=>{try{const N=Xi(_t,"users",b);await Th(N)}catch(N){alert("Error deleting user: "+N.message)}};return w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-college-primary mb-6",children:"User Management"}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add New User"}),w.jsxs("form",{className:"grid grid-cols-3 gap-4",children:[w.jsx("input",{type:"email",placeholder:"Email",value:n.email,onChange:b=>s({...n,email:b.target.value}),className:"p-2 border rounded"}),w.jsxs("select",{value:n.role,onChange:b=>s({...n,role:b.target.value}),className:"p-2 border rounded",children:[w.jsx("option",{value:"",children:"Select Role"}),w.jsx("option",{value:"admin",children:"Admin"}),w.jsx("option",{value:"student",children:"Student"})]}),w.jsx("button",{type:"button",onClick:p,className:"bg-college-primary text-white py-2 px-4 rounded hover:bg-blue-900",children:"Add User"})]})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-college-secondary",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left",children:"Email"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Role"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),w.jsx("tbody",{children:r.map(b=>w.jsx("tr",{className:"border-b",children:o===b.id?w.jsxs(w.Fragment,{children:[w.jsx("td",{className:"px-6 py-4",children:w.jsx("input",{type:"email",value:f.email,onChange:N=>m({...f,email:N.target.value}),className:"p-2 border rounded w-full"})}),w.jsx("td",{className:"px-6 py-4",children:w.jsxs("select",{value:f.role,onChange:N=>m({...f,role:N.target.value}),className:"p-2 border rounded w-full",children:[w.jsx("option",{value:"admin",children:"Admin"}),w.jsx("option",{value:"student",children:"Student"})]})}),w.jsxs("td",{className:"px-6 py-4 space-x-2",children:[w.jsx("button",{onClick:E,className:"text-green-600 hover:text-green-800",children:"Save"}),w.jsx("button",{onClick:R,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]})]}):w.jsxs(w.Fragment,{children:[w.jsx("td",{className:"px-6 py-4",children:b.email}),w.jsx("td",{className:"px-6 py-4",children:b.role}),w.jsxs("td",{className:"px-6 py-4 space-x-2",children:[w.jsx("button",{onClick:()=>y(b),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),w.jsx("button",{onClick:()=>S(b.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})]})},b.id))})]})})]})}function AN(){const[r,e]=G.useState([]),[n,s]=G.useState({name:"",category:"",description:"",meetingSchedule:"",contactEmail:"",status:"active"}),[o,u]=G.useState(null),[f,m]=G.useState({name:"",category:"",description:"",meetingSchedule:"",contactEmail:"",status:"active"});G.useEffect(()=>{const b=Ah(Dn(_t,"clubs"),N=>{const Y=N.docs.map(B=>({id:B.id,...B.data()}));e(Y)});return()=>b()},[]);const p=async b=>{b.preventDefault();try{await bh(Dn(_t,"clubs"),n),s({name:"",category:"",description:"",meetingSchedule:"",contactEmail:"",status:"active"})}catch(N){alert("Error adding club: "+N.message)}},y=b=>{u(b.id),m(b)},E=async()=>{if(o)try{const b=Xi(_t,"clubs",o);await Eh(b,f),u(null)}catch(b){alert("Error updating club: "+b.message)}},R=()=>{u(null)},S=async b=>{try{await Th(Xi(_t,"clubs",b))}catch(N){alert("Error deleting club: "+N.message)}};return w.jsxs("div",{children:[w.jsx("h1",{className:"text-3xl font-bold text-college-primary mb-6",children:"Clubs Management"}),w.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[w.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Register New Club"}),w.jsxs("form",{onSubmit:p,className:"grid grid-cols-2 gap-4",children:[w.jsx("input",{type:"text",placeholder:"Club Name",className:"p-2 border rounded",value:n.name,onChange:b=>s({...n,name:b.target.value}),required:!0}),w.jsxs("select",{className:"p-2 border rounded",value:n.category,onChange:b=>s({...n,category:b.target.value}),required:!0,children:[w.jsx("option",{value:"",children:"Select Category"}),w.jsx("option",{value:"academic",children:"Academic"}),w.jsx("option",{value:"cultural",children:"Cultural"}),w.jsx("option",{value:"sports",children:"Sports"}),w.jsx("option",{value:"technical",children:"Technical"}),w.jsx("option",{value:"social",children:"Social Service"})]}),w.jsx("textarea",{placeholder:"Description (Purpose, Activities)",className:"p-2 border rounded col-span-2",rows:"3",value:n.description,onChange:b=>s({...n,description:b.target.value}),required:!0}),w.jsx("input",{type:"text",placeholder:"Meeting Schedule (e.g., Every Tuesday 4-5pm)",className:"p-2 border rounded",value:n.meetingSchedule,onChange:b=>s({...n,meetingSchedule:b.target.value}),required:!0}),w.jsx("input",{type:"email",placeholder:"Contact Email",className:"p-2 border rounded",value:n.contactEmail,onChange:b=>s({...n,contactEmail:b.target.value}),required:!0}),w.jsxs("select",{className:"p-2 border rounded col-span-2",value:n.status,onChange:b=>s({...n,status:b.target.value}),children:[w.jsx("option",{value:"active",children:"Active"}),w.jsx("option",{value:"inactive",children:"Inactive"})]}),w.jsx("button",{type:"submit",className:"col-span-2 bg-college-primary text-white py-2 px-4 rounded hover:bg-blue-900",children:"Register Club"})]})]}),w.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:w.jsxs("table",{className:"w-full",children:[w.jsx("thead",{className:"bg-college-secondary",children:w.jsxs("tr",{children:[w.jsx("th",{className:"px-6 py-3 text-left",children:"Club Name"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Category"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Description"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Schedule"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Status"}),w.jsx("th",{className:"px-6 py-3 text-left",children:"Actions"})]})}),w.jsx("tbody",{children:r.map(b=>w.jsxs("tr",{className:"border-b",children:[w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"text",value:f.name,onChange:N=>m({...f,name:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.name}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsxs("select",{value:f.category,onChange:N=>m({...f,category:N.target.value}),className:"p-1 border rounded",required:!0,children:[w.jsx("option",{value:"academic",children:"Academic"}),w.jsx("option",{value:"cultural",children:"Cultural"}),w.jsx("option",{value:"sports",children:"Sports"}),w.jsx("option",{value:"technical",children:"Technical"}),w.jsx("option",{value:"social",children:"Social Service"})]}):b.category}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("textarea",{value:f.description,onChange:N=>m({...f,description:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.description}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsx("input",{type:"text",value:f.meetingSchedule,onChange:N=>m({...f,meetingSchedule:N.target.value}),className:"p-1 border rounded w-full",required:!0}):b.meetingSchedule}),w.jsx("td",{className:"px-6 py-4",children:o===b.id?w.jsxs("select",{value:f.status,onChange:N=>m({...f,status:N.target.value}),className:"p-1 border rounded",children:[w.jsx("option",{value:"active",children:"Active"}),w.jsx("option",{value:"inactive",children:"Inactive"})]}):w.jsx("span",{className:`px-2 py-1 rounded ${b.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:b.status})}),w.jsx("td",{className:"px-6 py-4 space-x-2",children:o===b.id?w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:E,className:"text-green-600 hover:text-green-800",children:"Save"}),w.jsx("button",{onClick:R,className:"text-gray-600 hover:text-gray-800",children:"Cancel"})]}):w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>y(b),className:"text-blue-600 hover:text-blue-800",children:"Edit"}),w.jsx("button",{onClick:()=>S(b.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]})})]},b.id))})]})})]})}const SN="/assets/iit-indore-logo-YE3AcHNM.png";function wN(){const[r,e]=G.useState(null),[n,s]=G.useState(!0),o=async()=>{const f=new ri;try{await S1(Fd,f)}catch(m){console.error("Error signing in with Google:",m)}},u=async()=>{try{await r1(Fd)}catch(f){console.error("Error signing out:",f)}};return G.useEffect(()=>{const f=i1(Fd,m=>{e(m),s(!1)});return()=>f()},[]),n?w.jsx("div",{className:"flex items-center justify-center h-screen",children:"Loading..."}):w.jsx("div",{className:"min-h-screen bg-gray-50",children:r?w.jsxs(CS,{children:[w.jsx("header",{className:"header",children:w.jsxs("div",{className:"flex items-center justify-between px-8 py-4 bg-gray-800 text-white",children:[w.jsx("img",{src:SN,alt:"IIT Indore Logo",className:"h-12"}),w.jsx("h2",{className:"text-xl font-bold",children:"College Admin Panel"}),w.jsx("button",{onClick:u,className:"bg-red-500 px-4 py-2 rounded hover:bg-red-600",children:"Logout"})]})}),w.jsxs("div",{className:"flex mt-[64px]",children:[w.jsx("nav",{className:"sidebar fixed left-0 top-[64px] h-full w-64 bg-white shadow-lg",children:w.jsx("div",{className:"p-4",children:w.jsxs("ul",{className:"space-y-2",children:[w.jsx("li",{children:w.jsx(Oa,{to:"/",className:({isActive:f})=>f?"block px-4 py-2 bg-gray-800 text-white rounded":"block px-4 py-2 hover:bg-gray-200 rounded",children:"Dashboard"})}),w.jsx("li",{children:w.jsx(Oa,{to:"/events",className:({isActive:f})=>f?"block px-4 py-2 bg-gray-800 text-white rounded":"block px-4 py-2 hover:bg-gray-200 rounded",children:"Events"})}),w.jsx("li",{children:w.jsx(Oa,{to:"/merchandise",className:({isActive:f})=>f?"block px-4 py-2 bg-gray-800 text-white rounded":"block px-4 py-2 hover:bg-gray-200 rounded",children:"Merchandise"})}),w.jsx("li",{children:w.jsx(Oa,{to:"/clubs",className:({isActive:f})=>f?"block px-4 py-2 bg-gray-800 text-white rounded":"block px-4 py-2 hover:bg-gray-200 rounded",children:"Clubs"})}),w.jsx("li",{children:w.jsx(Oa,{to:"/users",className:({isActive:f})=>f?"block px-4 py-2 bg-gray-800 text-white rounded":"block px-4 py-2 hover:bg-gray-200 rounded",children:"Users"})})]})})}),w.jsx("main",{className:"ml-[260px] p-8 flex-grow bg-cover bg-center",style:{backgroundImage:"url('./assets/campus1.jpg')"},children:w.jsxs(sS,{children:[w.jsx(Da,{path:"/",element:w.jsx(_N,{})}),w.jsx(Da,{path:"/events",element:w.jsx(EN,{})}),w.jsx(Da,{path:"/merchandise",element:w.jsx(TN,{})}),w.jsx(Da,{path:"/clubs",element:w.jsx(AN,{})}),w.jsx(Da,{path:"/users",element:w.jsx(bN,{})})]})})]})]}):w.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100",children:[w.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Admin Login"}),w.jsx("button",{onClick:o,className:"bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600",children:"Sign in with Google"})]})})}const RN=G.createContext();function IN({children:r}){const[e,n]=G.useState([{id:1,name:"Tech Fest 2024",date:"2024-03-15",location:"Main Auditorium",description:"Annual technical festival",participants:150}]),s=f=>{n(m=>[...m,{...f,id:m.length+1}])},o=(f,m)=>{n(p=>p.map(y=>y.id===f?{...m,id:f}:y))},u=f=>{n(m=>m.filter(p=>p.id!==f))};return w.jsx(RN.Provider,{value:{events:e,addEvent:s,updateEvent:o,deleteEvent:u},children:r})}class CN extends r0.Component{constructor(){super(...arguments);xv(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(n,s){console.error("Error caught:",n,s)}render(){return this.state.hasError?w.jsx("div",{className:"error-fallback",children:"Failed to load app"}):this.props.children}}mA.createRoot(document.getElementById("root")).render(w.jsx(r0.StrictMode,{children:w.jsx(CN,{children:w.jsx(IN,{children:w.jsx(wN,{})})})}));
